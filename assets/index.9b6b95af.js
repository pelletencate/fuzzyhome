(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const l of u.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerpolicy&&(u.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?u.credentials="include":o.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var YE=Object.create,s0=Object.defineProperty,QE=Object.getOwnPropertyDescriptor,JE=Object.getOwnPropertyNames,XE=Object.getPrototypeOf,ZE=Object.prototype.hasOwnProperty,eT=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),tT=(t,e,n,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of JE(e))!ZE.call(t,o)&&o!==n&&s0(t,o,{get:()=>e[o],enumerable:!(s=QE(e,o))||s.enumerable});return t},nT=(t,e,n)=>(n=t!=null?YE(XE(t)):{},tT(e||!t||!t.__esModule?s0(n,"default",{value:t,enumerable:!0}):n,t)),rT=eT((t,e)=>{var n=typeof Reflect=="object"?Reflect:null,s=n&&typeof n.apply=="function"?n.apply:function(w,x,R){return Function.prototype.apply.call(w,x,R)},o;n&&typeof n.ownKeys=="function"?o=n.ownKeys:Object.getOwnPropertySymbols?o=function(w){return Object.getOwnPropertyNames(w).concat(Object.getOwnPropertySymbols(w))}:o=function(w){return Object.getOwnPropertyNames(w)};function u(w){console&&console.warn&&console.warn(w)}var l=Number.isNaN||function(w){return w!==w};function c(){c.init.call(this)}e.exports=c,e.exports.once=N,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var d=10;function h(w){if(typeof w!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof w)}Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return d},set:function(w){if(typeof w!="number"||w<0||l(w))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+w+".");d=w}}),c.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=function(w){if(typeof w!="number"||w<0||l(w))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+w+".");return this._maxListeners=w,this};function v(w){return w._maxListeners===void 0?c.defaultMaxListeners:w._maxListeners}c.prototype.getMaxListeners=function(){return v(this)},c.prototype.emit=function(w){for(var x=[],R=1;R<arguments.length;R++)x.push(arguments[R]);var L=w==="error",P=this._events;if(P!==void 0)L=L&&P.error===void 0;else if(!L)return!1;if(L){var S;if(x.length>0&&(S=x[0]),S instanceof Error)throw S;var g=new Error("Unhandled error."+(S?" ("+S.message+")":""));throw g.context=S,g}var z=P[w];if(z===void 0)return!1;if(typeof z=="function")s(z,this,x);else for(var M=z.length,V=k(z,M),R=0;R<M;++R)s(V[R],this,x);return!0};function m(w,x,R,L){var P,S,g;if(h(R),S=w._events,S===void 0?(S=w._events=Object.create(null),w._eventsCount=0):(S.newListener!==void 0&&(w.emit("newListener",x,R.listener?R.listener:R),S=w._events),g=S[x]),g===void 0)g=S[x]=R,++w._eventsCount;else if(typeof g=="function"?g=S[x]=L?[R,g]:[g,R]:L?g.unshift(R):g.push(R),P=v(w),P>0&&g.length>P&&!g.warned){g.warned=!0;var z=new Error("Possible EventEmitter memory leak detected. "+g.length+" "+String(x)+" listeners added. Use emitter.setMaxListeners() to increase limit");z.name="MaxListenersExceededWarning",z.emitter=w,z.type=x,z.count=g.length,u(z)}return w}c.prototype.addListener=function(w,x){return m(this,w,x,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(w,x){return m(this,w,x,!0)};function E(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function I(w,x,R){var L={fired:!1,wrapFn:void 0,target:w,type:x,listener:R},P=E.bind(L);return P.listener=R,L.wrapFn=P,P}c.prototype.once=function(w,x){return h(x),this.on(w,I(this,w,x)),this},c.prototype.prependOnceListener=function(w,x){return h(x),this.prependListener(w,I(this,w,x)),this},c.prototype.removeListener=function(w,x){var R,L,P,S,g;if(h(x),L=this._events,L===void 0)return this;if(R=L[w],R===void 0)return this;if(R===x||R.listener===x)--this._eventsCount===0?this._events=Object.create(null):(delete L[w],L.removeListener&&this.emit("removeListener",w,R.listener||x));else if(typeof R!="function"){for(P=-1,S=R.length-1;S>=0;S--)if(R[S]===x||R[S].listener===x){g=R[S].listener,P=S;break}if(P<0)return this;P===0?R.shift():T(R,P),R.length===1&&(L[w]=R[0]),L.removeListener!==void 0&&this.emit("removeListener",w,g||x)}return this},c.prototype.off=c.prototype.removeListener,c.prototype.removeAllListeners=function(w){var x,R,L;if(R=this._events,R===void 0)return this;if(R.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):R[w]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete R[w]),this;if(arguments.length===0){var P=Object.keys(R),S;for(L=0;L<P.length;++L)S=P[L],S!=="removeListener"&&this.removeAllListeners(S);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(x=R[w],typeof x=="function")this.removeListener(w,x);else if(x!==void 0)for(L=x.length-1;L>=0;L--)this.removeListener(w,x[L]);return this};function A(w,x,R){var L=w._events;if(L===void 0)return[];var P=L[x];return P===void 0?[]:typeof P=="function"?R?[P.listener||P]:[P]:R?B(P):k(P,P.length)}c.prototype.listeners=function(w){return A(this,w,!0)},c.prototype.rawListeners=function(w){return A(this,w,!1)},c.listenerCount=function(w,x){return typeof w.listenerCount=="function"?w.listenerCount(x):$.call(w,x)},c.prototype.listenerCount=$;function $(w){var x=this._events;if(x!==void 0){var R=x[w];if(typeof R=="function")return 1;if(R!==void 0)return R.length}return 0}c.prototype.eventNames=function(){return this._eventsCount>0?o(this._events):[]};function k(w,x){for(var R=new Array(x),L=0;L<x;++L)R[L]=w[L];return R}function T(w,x){for(;x+1<w.length;x++)w[x]=w[x+1];w.pop()}function B(w){for(var x=new Array(w.length),R=0;R<x.length;++R)x[R]=w[R].listener||w[R];return x}function N(w,x){return new Promise(function(R,L){function P(){S!==void 0&&w.removeListener("error",S),R([].slice.call(arguments))}var S;x!=="error"&&(S=function(g){w.removeListener(x,P),L(g)},w.once("error",S)),w.once(x,P)})}}),tu=Symbol.for("#__listeners__"),iT=class{static for(t){return new Proxy({},new this(t))}constructor(t){this.getter=t}get target(){return this.getter()}get(t,e){return this.target[e]}set(t,e,n){return this.target[e]=n,!0}};function sT(t,e={}){return new Proxy(e,new iT(t))}function va(t){let e=typeof t;if(e=="number")return t;if(e=="string"){if(/^\d+fps$/.test(t))return 1e3/parseFloat(t);if(/^([-+]?[\d\.]+)s$/.test(t))return parseFloat(t)*1e3;if(/^([-+]?[\d\.]+)ms$/.test(t))return parseFloat(t)}return null}function Vf(t,e,n){if(!t)return;let s=Object.getOwnPropertyDescriptor(t,e);return s||t==n?s||void 0:Vf(Reflect.getPrototypeOf(t),e,n)}var ov=function(t,e,n){let s,o;for(;(s=n)&&(n=n.next);)(o=n.listener)&&(n.path&&o[n.path]?e?o[n.path].apply(o,e):o[n.path]():e?o.apply(n,e):o.call(n)),n.times&&--n.times<=0&&(s.next=n.next,n.listener=null)};function mo(t,e,n,s){let o,u,l;return o=t[tu]||(t[tu]={}),u=o[e]||(o[e]={}),l=u.tail||(u.tail=u.next={}),l.listener=n,l.path=s,u.tail=l.next={},l}function Ln(t,e,n){let s=mo(t,e,n);return s.times=1,s}function Eu(t,e,n,s){let o,u,l=t[tu];if(!!l&&(o=l[e])){for(;(u=o)&&(o=o.next);)if(o==n||o.listener==n){u.next=o.next,o.listener=null;break}}}function vi(t,e,n){let s;(s=t[tu])&&(s[e]&&ov(e,n,s[e]),s.all&&ov(e,[e,n],s.all))}var o0=class{emit(t,...e){return vi(this,t,e)}on(t,...e){return mo(this,t,...e)}once(t,...e){return Ln(this,t,...e)}un(t,...e){return Eu(this,t,...e)}};function oT(t){let e;return t?(e=t.toIterable)?e.call(t):t:[]}var av=Symbol.for("#__init__"),uv=Symbol.for("#schedule"),Wc=Symbol.for("#frames"),ga=Symbol.for("#interval"),Ri=Symbol.for("#stage"),Li=Symbol.for("#scheduled"),ya=Symbol.for("#version"),aT=Symbol.for("#fps"),lv=Symbol.for("#ticker"),uT=globalThis.requestAnimationFrame||function(t){return globalThis.setTimeout(t,1e3/60)},lT=class{constructor(t=null){this[av](t)}[av](t=null){var e;this.owner=t&&(e=t.owner)!==void 0?e:null,this.target=t&&(e=t.target)!==void 0?e:null,this.active=t&&(e=t.active)!==void 0?e:!1,this.value=t&&(e=t.value)!==void 0?e:void 0,this.skip=t&&(e=t.skip)!==void 0?e:0,this.last=t&&(e=t.last)!==void 0?e:0}tick(t,e){return this.last=this.owner[Wc],this.target.tick(this,e),1}update(t,e){let n=this.active,s=t.value;return this.value!=s&&(this.deactivate(),this.value=s),(this.value||n||e)&&this.activate(),this}queue(){this.owner.add(this)}activate(){return this.value===!0?this.owner.on("commit",this):this.value===!1||typeof this.value=="number"&&(this.value/16.666666666666668<=2?this.owner.on("raf",this):this[ga]=globalThis.setInterval(this.queue.bind(this),this.value)),this.active=!0,this}deactivate(){return this.value===!0&&this.owner.un("commit",this),this.owner.un("raf",this),this[ga]&&(globalThis.clearInterval(this[ga]),this[ga]=null),this.active=!1,this}},cT=class{constructor(){var t=this;this.id=Symbol(),this.queue=[],this.stage=-1,this[Ri]=-1,this[Wc]=0,this[Li]=!1,this[ya]=0,this.listeners={},this.intervals={},t.commit=function(){return t.add("commit"),t},this[aT]=0,t.$promise=null,t.$resolve=null,this[lv]=function(e){return t[Li]=!1,t.tick(e)}}touch(){return this[ya]++}get version(){return this[ya]}add(t,e){return(e||this.queue.indexOf(t)==-1)&&this.queue.push(t),this[Li]||this[uv](),this}get committing\u03A6(){return this.queue.indexOf("commit")>=0}get syncing\u03A6(){return this[Ri]==1}listen(t,e){let n=this.listeners[t],s=!n;return n||(n=this.listeners[t]=new Set),n.add(e),t=="raf"&&s&&this.add("raf"),this}unlisten(t,e){let n=this.listeners[t];return n&&n.delete(e),t=="raf"&&n&&n.size==0&&(this.listeners.raf,delete this.listeners.raf),this}on(t,e){return this.listen(t,e)}un(t,e){return this.unlisten(t,e)}get promise(){var t=this;return t.$promise||(t.$promise=new Promise(function(e){return t.$resolve=e}))}tick(t){var e=this;let n=this.queue;if(this[Wc]++,this.ts||(this.ts=t),this.dt=t-this.ts,this.ts=t,this.queue=[],this[Ri]=1,this[ya]++,n.length)for(let s=0,o=oT(n),u=o.length;s<u;s++){let l=o[s];typeof l=="string"&&this.listeners[l]?e.listeners[l].forEach(function(c){if(c.tick instanceof Function)return c.tick(e,l);if(c instanceof Function)return c(e,l)}):l instanceof Function?l(e.dt,e):l.tick&&l.tick(e.dt,e)}return this[Ri]=this[Li]?0:-1,e.$promise&&(e.$resolve(e),e.$promise=e.$resolve=null),e.listeners.raf&&e.add("raf"),e}[uv](){return this[Li]||(this[Li]=!0,this[Ri]==-1&&(this[Ri]=0),uT(this[lv])),this}schedule(t,e){var n,s;return e||(e=t[n=this.id]||(t[n]={value:!0})),(e[s=this.id]||(e[s]=new lT({owner:this,target:t}))).update(e,!0)}unschedule(t,e={}){e||(e=t[this.id]);let n=e&&e[this.id];return n&&n.active&&n.deactivate(),this}},En=new cT;function Nt(){return En.add("commit").promise}function fT(t,e){return globalThis.setTimeout(function(){t(),Nt()},e)}function hT(t,e){return globalThis.setInterval(function(){t(),Nt()},e)}var dT=globalThis.clearInterval,pT=globalThis.clearTimeout,_o=globalThis.imba||(globalThis.imba={});_o.commit=Nt;_o.setTimeout=fT;_o.setInterval=hT;_o.clearInterval=dT;_o.clearTimeout=pT;var cv=Symbol.for("#toStringDeopt"),fv=Symbol.for("#symbols"),hv=Symbol.for("#batches"),dv=Symbol.for("#extras"),pv=Symbol.for("#stacks"),a0=class{constructor(t){this.dom=t,this.string=""}contains(t){return this.dom.classList.contains(t)}add(t){return this.contains(t)?this:(this.string+=(this.string?" ":"")+t,this.dom.classList.add(t),this)}remove(t){if(!this.contains(t))return this;let e=new RegExp("(^|\\s)"+t+"(?=\\s|$)","g");return this.string=this.string.replace(e,""),this.dom.classList.remove(t),this}toggle(t,e){return e===void 0&&(e=!this.contains(t)),e?this.add(t):this.remove(t)}incr(t,e=0){var n=this;let s=this.stacks,o=s[t]||0;return o<1&&this.add(t),e>0&&setTimeout(function(){return n.decr(t)},e),s[t]=Math.max(o,0)+1}decr(t){let e=this.stacks,n=e[t]||0;return n==1&&this.remove(t),e[t]=Math.max(n,1)-1}reconcile(t,e){let n=this[fv],s=this[hv],o=!0;if(!n)n=this[fv]=[t],s=this[hv]=[e||""],this.toString=this.valueOf=this[cv];else{let u=n.indexOf(t),l=e||"";u==-1?(n.push(t),s.push(l)):s[u]!=l?s[u]=l:o=!1}o&&(this[dv]=" "+s.join(" "),this.sync())}valueOf(){return this.string}toString(){return this.string}[cv](){return this.string+(this[dv]||"")}sync(){return this.dom.flagSync$()}get stacks(){return this[pv]||(this[pv]={})}},nu=Symbol.for("#__init__"),vv=Symbol.for("#__initor__"),gv=Symbol.for("#__inited__"),Vl=Symbol.for("#getRenderContext"),vT=Symbol.for("#getDynamicContext"),yv=Symbol(),fn={context:null},gT=class{constructor(t=null){this[nu](t)}[nu](t=null){var e;this.stack=t&&(e=t.stack)!==void 0?e:[]}push(t){return this.stack.push(t)}pop(t){return this.stack.pop()}},ru=new gT,ts=class extends Map{static[nu](){return this.prototype[vv]=yv,this}constructor(t,e=null){super(),this._=t,this.sym=e,this[vv]===yv&&this[gv]&&this[gv]()}pop(){return fn.context=null}[Vl](t){let e=this.get(t);return e||this.set(t,e=new ts(this._,t)),fn.context=e}[vT](t,e){return this[Vl](t)[Vl](e)}run(t){return this.value=t,fn.context==this&&(fn.context=null),this.get(t)}cache(t){return this.set(this.value,t),t}};ts[nu]();function yT(t,e=Symbol(),n=t){return fn.context=t[e]||(t[e]=new ts(n,e))}function mT(){let t=fn.context,e=t||new ts(null);return globalThis.DEBUG_IMBA&&!t&&ru.stack.length>0&&console.warn("detected unmemoized nodes in",ru.stack.slice(0),"see https://imba.io",e),t&&(fn.context=null),e}function bo(t,e){let n=Object.getOwnPropertyDescriptors(e);return delete n.constructor,Object.defineProperties(t,n),t}function _T(t){let e;return t?(e=t.toIterable)?e.call(t):t:[]}var Vs=Symbol.for("#parent"),mv=Symbol.for("#closestNode"),bT=Symbol.for("#parentNode"),AT=Symbol.for("#context"),u0=Symbol.for("#__init__"),l0=Symbol.for("##inited"),Wl=Symbol.for("#getRenderContext"),wT=Symbol.for("#getDynamicContext"),_v=Symbol.for("#insertChild"),ro=Symbol.for("#appendChild"),Hl=Symbol.for("#replaceChild"),bv=Symbol.for("#removeChild"),ur=Symbol.for("#insertInto"),Av=Symbol.for("#insertIntoDeopt"),Es=Symbol.for("#removeFrom"),wv=Symbol.for("#removeFromDeopt"),Di=Symbol.for("#replaceWith"),Sv=Symbol.for("#replaceWithDeopt"),Gl=Symbol.for("#placeholderNode"),ST=Symbol.for("#attachToParent"),$T=Symbol.for("#detachFromParent"),xT=Symbol.for("#placeChild"),ET=Symbol.for("#beforeReconcile"),TT=Symbol.for("#afterReconcile"),OT=Symbol.for("#afterVisit"),kT=Symbol.for("#visitContext"),c0=Symbol.for("##parent"),Yl=Symbol.for("##up"),$v=Symbol.for("##context"),ii=Symbol.for("#domNode"),ma=Symbol.for("##placeholderNode"),xv=Symbol.for("#domDeopt"),_a=Symbol.for("##visitContext"),CT=Symbol.for("#isRichElement"),Ev=Symbol.for("#src"),Va=Symbol.for("#htmlNodeName"),PT=Symbol.for("#getSlot"),Tv=Symbol.for("#cssns"),IT=Symbol.for("#cssid"),{Event:Mr,UIEvent:BI,MouseEvent:NT,PointerEvent:RT,KeyboardEvent:LT,CustomEvent:On,Node:Xi,Comment:Hc,Text:f0,Element:ft,HTMLElement:h0,HTMLHtmlElement:MI,HTMLSelectElement:DT,HTMLInputElement:BT,HTMLTextAreaElement:MT,HTMLButtonElement:FT,HTMLOptionElement:UT,HTMLScriptElement:FI,SVGElement:d0,DocumentFragment:UI,ShadowRoot:KI,Document:Wf,Window:zI,customElements:jI}=globalThis.window,Ov={};function p0(t,e,n){if(!t)return n[e]=null;if(n[e]!==void 0)return n[e];let s=Object.getOwnPropertyDescriptor(t,e);return s!==void 0||t==d0?n[e]=s||null:p0(Reflect.getPrototypeOf(t),e,n)}var Gc={},Yc={},Qc={};function Ql(){return globalThis.document}var KT={get(t,e){let n=t,s;for(;n&&s==null;)(n=n[Vs])&&(s=n[e]);return s},set(t,e,n){let s=t,o;for(;s&&o==null;){if(Vf(s,e,ft))return s[e]=n,!0;s=s[Vs]}return!0}},zT=class{get flags(){return this.documentElement.flags}};bo(Wf.prototype,zT.prototype);var jT=class{get[Vs](){return this[c0]||this.parentNode||this[Yl]}get[mv](){return this}get[bT](){return this[Vs][mv]}get[AT](){return this[$v]||(this[$v]=new Proxy(this,KT))}[u0](){return this}[l0](){return this}[Wl](t){return yT(this,t)}[wT](t,e){return this[Wl](t)[Wl](e)}[_v](t,e){return t[ur](this,e)}[ro](t){return t[ur](this,null)}[Hl](t,e){let n=this[_v](t,e);return this[bv](e),n}[bv](t){return t[Es](this)}[ur](t,e=null){return e?t.insertBefore(this,e):t.appendChild(this),this}[Av](t,e){return e?t.insertBefore(this[ii]||this,e):t.appendChild(this[ii]||this),this}[Es](t){return t.removeChild(this)}[wv](t){return t.removeChild(this[ii]||this)}[Di](t,e){return e[Hl](t,this)}[Sv](t,e){return e[Hl](t,this[ii]||this)}get[Gl](){return this[ma]||(this[ma]=globalThis.document.createComment("placeholder"))}set[Gl](t){let e=this[ma];this[ma]=t,e&&e!=t&&e.parentNode&&e[Di](t)}[ST](){let t=this[ii],e=t&&t.parentNode;return t&&e&&t!=this&&(this[ii]=null,this[ur](e,t),t[Es](e)),this}[$T](){this[xv]!=!0&&(this[xv]=!0,!0)&&(this[Di]=this[Sv],this[Es]=this[wv],this[ur]=this[Av],this[Yl]||(this[Yl]=this[Vs]));let t=this[Gl];return this.parentNode&&t!=this&&(t[ur](this.parentNode,this),this[Es](this.parentNode)),this[ii]=t,this}[xT](t,e,n){let s=typeof t;if(s==="undefined"||t===null){if(n&&n instanceof Hc)return n;let o=globalThis.document.createComment("");return n?n[Di](o,this):o[ur](this,null)}if(t===n)return t;if(s!=="object"){let o,u=t;return n?n instanceof f0?(n.textContent=u,n):(o=globalThis.document.createTextNode(u),n[Di](o,this),o):(this.appendChild(o=globalThis.document.createTextNode(u)),o)}else{if(globalThis.DEBUG_IMBA&&!t[ur])throw console.warn("Tried to insert",t,"into",this),new TypeError("Only DOM Nodes can be inserted into DOM");return n?n[Di](t,this):t[ur](this,null)}}};bo(Xi.prototype,jT.prototype);var qT=class{log(...t){return console.log(...t)}emit(t,e,n={bubbles:!0,cancelable:!0}){e!=null&&(n.detail=e);let s=new On(t,n);return this.dispatchEvent(s),s}text$(t){return this.textContent=t,this}[ET](){return this}[TT](){return this}[OT](){this.render&&this.render(),this[_a]&&(this[_a]=null)}get[kT](){return this[_a]||(this[_a]={})}get flags(){return this.$flags||(this.$flags=new a0(this),this.flag$==ft.prototype.flag$&&(this.flags$ext=this.className),this.flagDeopt$()),this.$flags}flag$(t){let e=this.flags$ns;this.className=e?e+(this.flags$ext=t):this.flags$ext=t}flagDeopt$(){var t=this;this.flag$=this.flagExt$,t.flagSelf$=function(e){return t.flagSync$(t.flags$own=e)}}flagExt$(t){return this.flagSync$(this.flags$ext=t)}flagSelf$(t){return this.flagDeopt$(),this.flagSelf$(t)}flagSync$(){return this.className=(this.flags$ns||"")+(this.flags$ext||"")+" "+(this.flags$own||"")+" "+(this.$flags||"")}set$(t,e){let n=Vf(this,t,ft);!n||!n.set?this.setAttribute(t,e):this[t]=e}get richValue(){return this.value}set richValue(t){this.value=t}};bo(ft.prototype,qT.prototype);ft.prototype.setns$=ft.prototype.setAttributeNS;ft.prototype[CT]=!0;function me(t,e,n,s){let o=globalThis.document.createElement(t);return n&&(o.className=n),s!==null&&o.text$(s),e&&e[ro]&&e[ro](o),o}var VT=class{set$(t,e){var n;let s=Ov[n=this.nodeName]||(Ov[n]={}),o=p0(this,t,s);!o||!o.set?this.setAttribute(t,e):this[t]=e}flag$(t){let e=this.flags$ns;this.setAttribute("class",e?e+(this.flags$ext=t):this.flags$ext=t)}flagSelf$(t){var e=this;return e.flag$=function(n){return e.flagSync$(e.flags$ext=n)},e.flagSelf$=function(n){return e.flagSync$(e.flags$own=n)},e.flagSelf$(t)}flagSync$(){return this.setAttribute("class",(this.flags$ns||"")+(this.flags$ext||"")+" "+(this.flags$own||"")+" "+(this.$flags||""))}};bo(d0.prototype,VT.prototype);var WT=class{set src(t){if(this[Ev]!=t&&(this[Ev]=t,!0)){if(t&&t.adoptNode)t.adoptNode(this);else if(t&&t.type=="svg"){if(t.attributes)for(let e=t.attributes,n=0,s=Object.keys(e),o=s.length,u,l;n<o;n++)u=s[n],l=e[u],this.setAttribute(u,l);this.innerHTML=t.content}}}};bo(SVGSVGElement.prototype,WT.prototype);function fi(t,e,n,s,o){let u=globalThis.document.createElementNS("http://www.w3.org/2000/svg",t);return n&&(u.className.baseVal=n),e&&e[ro]&&e[ro](u),s&&(u.textContent=s),u}function iu(t){return globalThis.document.createComment(t)}function kv(t){return globalThis.document.createTextNode(t)}var su=globalThis.navigator,HT=su&&su.vendor||"",Cv=su&&su.userAgent||"",GT=HT.indexOf("Apple")>-1||Cv.indexOf("CriOS")>=0||Cv.indexOf("FxiOS")>=0,ou=!GT,Pv=new Map,YT=class extends h0{connectedCallback(){return ou?this.parentNode.removeChild(this):this.parentNode.connectedCallback()}disconnectedCallback(){if(!ou)return this.parentNode.disconnectedCallback()}};window.customElements.define("i-hook",YT);function QT(t,e){let n=Pv.get(e);if(!n){n={};let s=e.prototype,o=[s];for(;(s=s&&Object.getPrototypeOf(s))&&s.constructor!=t.constructor;)o.unshift(s);for(let u=0,l=_T(o),c=l.length;u<c;u++){let d=l[u],h=Object.getOwnPropertyDescriptors(d);Object.assign(n,h)}Pv.set(e,n)}return n}function Mt(t,e,n,s,o){let u;typeof t!="string"&&t&&t.nodeName&&(t=t.nodeName);let l=Yc[t]||t;if(Gc[t]){let c=Gc[t],d=c.prototype[Va];if(d&&ou)u=globalThis.document.createElement(d,{is:t});else if(c.create$&&d){u=globalThis.document.createElement(d),u.setAttribute("is",l);let h=QT(u,c);Object.defineProperties(u,h),u.__slots={},u.appendChild(globalThis.document.createElement("i-hook"))}else c.create$?(u=c.create$(u),u.__slots={}):console.warn("could not create tag "+t)}else u=globalThis.document.createElement(Yc[t]||t);return u[c0]=e,u[u0](),u[l0](),s!==null&&u[PT]("__").text$(s),(n||u.flags$ns)&&u.flag$(n||""),u}function JT(t,e){if(Qc[t])return Qc[t];if(window[e])return window[e];if(window[t])return window[t]}function Mn(t,e,n={}){Qc[t]=e,e.nodeName=t;let s=t,o=e.prototype;if(t.indexOf("-")==-1&&(s=""+t+"-tag",Yc[t]=s),n.cssns){let u=(o._ns_||o[Tv]||"")+" "+(n.cssns||"");o._ns_=u.trim()+" ",o[Tv]=n.cssns}if(n.cssid){let u=(o.flags$ns||"")+" "+n.cssid;o[IT]=n.cssid,o.flags$ns=u.trim()+" "}return o[Va]&&!n.extends&&(n.extends=o[Va]),n.extends?(o[Va]=n.extends,Gc[t]=e,ou&&window.customElements.define(s,e,{extends:n.extends})):window.customElements.define(s,e),e}var XT=globalThis.imba||(globalThis.imba={});XT.document=globalThis.document;function Jl(t){let e;return t?(e=t.toIterable)?e.call(t):t:[]}function ZT(t,e){let n=Object.getOwnPropertyDescriptors(e);return delete n.constructor,Object.defineProperties(t,n),t}var Wa=Symbol.for("#parent"),Iv=Symbol.for("#closestNode"),eO=Symbol.for("#isRichElement"),tO=Symbol.for("#afterVisit"),Nv=Symbol.for("#__initor__"),Rv=Symbol.for("#__inited__"),Lv=Symbol.for("#appendChild"),Dv=Symbol.for("#removeChild"),lr=Symbol.for("#insertInto"),ba=Symbol.for("#replaceWith"),Bv=Symbol.for("#insertChild"),Aa=Symbol.for("#removeFrom"),Mv=Symbol.for("#placeChild"),v0=Symbol.for("#__init__"),nO=Symbol.for("#registerFunctionalSlot"),rO=Symbol.for("#getFunctionalSlot"),Fv=Symbol.for("#getSlot"),Jc=Symbol.for("##parent"),au=Symbol.for("##up"),Uv=Symbol.for("##flags"),iO=Symbol.for("#domFlags"),Sn=Symbol.for("#end"),Kv=Symbol.for("#textContent"),wa=Symbol.for("#textNode"),Xl=Symbol.for("#functionalSlots"),zv=Symbol(),uu=class{constructor(){this.childNodes=[]}log(...t){}hasChildNodes(){return!1}set[Wa](t){this[Jc]=t}get[Wa](){return this[Jc]||this[au]}get[Iv](){return this[Wa][Iv]}get[eO](){return!0}get flags(){return this[Uv]||(this[Uv]=new a0(this))}flagSync$(){return this}[tO](){return this}},sO=0,g0=class extends uu{static[v0](){return this.prototype[Nv]=zv,this}constructor(t,e){super(...arguments),this[au]=e,this.parentNode=null,this[iO]=t,this.childNodes=[],this[Sn]=iu("slot"+sO++),e&&e[Lv](this),this[Nv]===zv&&this[Rv]&&this[Rv]()}get[Wa](){return this[Jc]||this.parentNode||this[au]}set textContent(t){this[Kv]=t}get textContent(){return this[Kv]}hasChildNodes(){for(let t=0,e=Jl(this.childNodes),n=e.length;t<n;t++){let s=e[t];if(s instanceof uu&&s.hasChildNodes()||!(s instanceof Hc)&&s instanceof Xi)return!0}return!1}text$(t){return this[wa]?this[wa].textContent=t:this[wa]=this[Mv](t),this[wa]}appendChild(t){return this.parentNode&&t[lr](this.parentNode,this[Sn]),this.childNodes.push(t)}[Lv](t){return this.parentNode&&t[lr](this.parentNode,this[Sn]),this.childNodes.push(t)}insertBefore(t,e){this.parentNode&&this.parentNode[Bv](t,e);let n=this.childNodes.indexOf(e);return n>=0&&this.childNodes.splice(n,0,t),t}[Dv](t){this.parentNode&&this.parentNode[Dv](t);let e=this.childNodes.indexOf(t);e>=0&&this.childNodes.splice(e,1)}[lr](t,e){if(this.parentNode,this.parentNode!=t&&(this.parentNode=t,!0)){this[Sn]&&(e=this[Sn][lr](t,e));for(let n=0,s=Jl(this.childNodes),o=s.length;n<o;n++)s[n][lr](t,e)}return this}[ba](t,e){let n=t[lr](e,this[Sn]);return this[Aa](e),n}[Bv](t,e){if(this.parentNode&&this.insertBefore(t,e||this[Sn]),e){let n=this.childNodes.indexOf(e);n>=0&&this.childNodes.splice(n,0,t)}else this.childNodes.push(t);return t}[Aa](t){for(let e=0,n=Jl(this.childNodes),s=n.length;e<s;e++)n[e][Aa](t);return this[Sn]&&this[Sn][Aa](t),this.parentNode=null,this}[Mv](t,e,n){let s=this.parentNode,o=typeof t;if(o==="undefined"||t===null){if(n&&n instanceof Hc)return n;let u=iu("");if(n){let l=this.childNodes.indexOf(n);return this.childNodes.splice(l,1,u),s&&n[ba](u,s),u}return this.childNodes.push(u),s&&u[lr](s,this[Sn]),u}if(t===n)return t;if(o!=="object"){let u,l=t;if(n){if(n instanceof f0)return n.textContent=l,n;{u=kv(l);let c=this.childNodes.indexOf(n);return this.childNodes.splice(c,1,u),s&&n[ba](u,s),u}}else return this.childNodes.push(u=kv(l)),s&&u[lr](s,this[Sn]),u}else if(n){let u=this.childNodes.indexOf(n);return this.childNodes.splice(u,1,t),s&&n[ba](t,s),t}else return this.childNodes.push(t),s&&t[lr](s,this[Sn]),t}};g0[v0]();function Xc(t,e){let n=new g0(t,null);return n[au]=e,n}var oO=class{[nO](t){let e=this[Xl]||(this[Xl]={});return e[t]||(e[t]=Xc(0,this))}[rO](t,e){let n=this[Xl];return n&&n[t]||this[Fv](t,e)}[Fv](t,e){var n;return t=="__"&&!this.render?this:(n=this.__slots)[t]||(n[t]=Xc(0,this))}};ZT(Xi.prototype,oO.prototype);function aO(t){let e;return t?(e=t.toIterable)?e.call(t):t:[]}var uO=Symbol.for("#afterVisit"),Sa=Symbol.for("#insertInto"),jv=Symbol.for("#appendChild"),lO=Symbol.for("#replaceWith"),Zl=Symbol.for("#removeFrom"),qv=Symbol.for("#__initor__"),Vv=Symbol.for("#__inited__"),y0=Symbol.for("#__init__"),cO=Symbol.for("#domFlags"),fO=Symbol.for("##parent"),kr=Symbol.for("#end"),hO=Symbol.for("#removeChild"),dO=Symbol.for("#insertChild"),Wv=Symbol(),m0=class extends uu{static[y0](){return this.prototype[qv]=Wv,this}constructor(t,e){super(...arguments),this[cO]=t,this[fO]=e,t&256||(this[kr]=iu("list")),this.$=this.childNodes,this.length=0,e&&e[jv](this),this[qv]===Wv&&this[Vv]&&this[Vv]()}hasChildNodes(){return this.length!=0}[uO](t){let e=this.length;if(this.length=t,e==t)return;let n=this.parentNode;if(!n)return;let s=this.childNodes,o=this[kr];if(e>t)for(;e>t;)n[hO](s[--e]);else if(t>e)for(;t>e;)n[dO](s[e++],o);this.length=t}[Sa](t,e){this.parentNode=t,this[kr]&&this[kr][Sa](t,e),e=this[kr];for(let n=0,s=aO(this.childNodes),o=s.length;n<o;n++){let u=s[n];if(n==this.length)break;u[Sa](t,e)}return this}[jv](t){}[lO](t,e){let n=t[Sa](e,this[kr]);return this[Zl](e),n}[Zl](t){let e=this.length;for(;e>0;)this.childNodes[--e][Zl](t);this[kr]&&t.removeChild(this[kr]),this.parentNode=null}};m0[y0]();function Gi(t,e){return new m0(t,e)}function Hv(t){let e;return t?(e=t.toIterable)?e.call(t):t:[]}var ec=Symbol.for("#appendChild"),$a=Symbol.for("#insertChild"),pO=Symbol.for("#replaceWith"),xa=Symbol.for("#insertInto"),tc=Symbol.for("#removeFrom"),vO=Symbol.for("#afterVisit"),Gv=Symbol.for("#__initor__"),Yv=Symbol.for("#__inited__"),_0=Symbol.for("#__init__"),Ea=Symbol.for("#domFlags"),Qv=Symbol.for("##parent"),Cr=Symbol.for("#end"),Jv=Symbol.for("#removeChild"),Xv=Symbol(),gO=class extends uu{static[_0](){return this.prototype[Gv]=Xv,this}constructor(t,e){super(...arguments),this[Ea]=t,this[Qv]=e,this.changes=new Map,this.dirty=!1,this.array=this.childNodes,this.$=new ts(this,Symbol()),t&256||(this[Cr]=iu("map")),e&&e[ec](this),this[Gv]===Xv&&this[Yv]&&this[Yv]()}[ec](t){if(this.parentNode)return this.parentNode[$a](t,this[Cr])}hasChildNodes(){return this.childNodes.length!=0}push(t,e){if(!(this[Ea]&1)){this.array.push(t),this[ec](t);return}let n=this.array[e];if(n!==t){this.dirty=!0;let s=this.array.indexOf(t),o=this.changes.get(t);s===-1?(this.array.splice(e,0,t),this.insertChild(t,e,s)):s===e+1?(n&&this.changes.set(n,-1),this.array.splice(e,1)):(s>=0&&this.array.splice(s,1),this.array.splice(e,0,t),this.moveChild(t,e,s)),o==-1&&this.changes.delete(t)}}insertChild(t,e,n){let s=this.parentNode;if(s)if(e>0){let o=this.array[e-1];s[$a](t,o.nextSibling)}else s[$a](t,this.childNodes[e+1]||this[Cr])}moveChild(t,e,n){return this.insertChild(t,e,n)}removeChild(t,e){t.parentNode&&t[tc](t.parentNode)}[$a](t,e){}[pO](t,e){let n=t[xa](e,this[Cr]);return this[tc](e),n}[xa](t,e){this[Qv]=t;let n=this.parentNode;if(t!=n){this.parentNode=t;for(let s=0,o=Hv(this.array),u=o.length;s<u;s++)o[s][xa](t,e);this[Cr]&&this[Cr][xa](t,e)}return this}[tc](t){for(let e=0,n=Hv(this.array),s=n.length;e<s;e++){let o=n[e];t[Jv](o)}return this[Cr]&&t[Jv](this[Cr]),this.parentNode=null}[vO](t){var e=this;if(!(this[Ea]&1)){this[Ea]|=1;return}if(this.dirty&&(e.changes.forEach(function(n,s){if(n==-1)return e.removeChild(s)}),e.changes.clear(),e.dirty=!1),e.array.length>t)for(;e.array.length>t;){let n=e.array.pop();e.removeChild(n)}}};gO[_0]();var Yi=Symbol.for("#__init__"),Zv=Symbol.for("#__initor__"),eg=Symbol.for("#__inited__"),yO=Symbol.for("##inited"),mO=Symbol.for("#afterVisit"),_O=Symbol.for("#beforeReconcile"),bO=Symbol.for("#afterReconcile"),tg=Symbol.for("#__hooks__"),Bi=Symbol.for("#autorender"),Ta=Symbol.for("##visitContext"),ng=Symbol(),AO=new class{constructor(t=null){this[Yi](t)}[Yi](t=null){var e;this.items=t&&(e=t.items)!==void 0?e:[],this.current=t&&(e=t.current)!==void 0?e:null,this.lastQueued=t&&(e=t.lastQueued)!==void 0?e:null,this.tests=t&&(e=t.tests)!==void 0?e:0}flush(){let t=null;for(;t=this.items.shift();){if(!t.parentNode||t.hydrated\u03A6)continue;let e=this.current;this.current=t,t.__F|=1024,t.connectedCallback(),this.current=e}}queue(t){var e=this;let n=this.items.length,s=this.lastQueued;this.lastQueued=t;let o=Xi.DOCUMENT_POSITION_PRECEDING,u=Xi.DOCUMENT_POSITION_FOLLOWING;if(n){let l=this.items.indexOf(s),c=l,d=function(v,m){return e.tests++,v.compareDocumentPosition(m)};(l==-1||s.nodeName!=t.nodeName)&&(c=l=0);let h=e.items[c];for(;h&&d(h,t)&u;)h=e.items[++c];if(c!=l)h?e.items.splice(c,0,t):e.items.push(t);else{for(;h&&d(h,t)&o;)h=e.items[--c];c!=l&&(h?e.items.splice(c+1,0,t):e.items.unshift(t))}}else e.items.push(t),e.current||globalThis.queueMicrotask(e.flush.bind(e))}},dn=class extends h0{static[Yi](){return this.prototype[Zv]=ng,this}constructor(){super(),this.flags$ns&&(this.flag$=this.flagExt$),this.setup$(),this.build(),this[Zv]===ng&&this[eg]&&this[eg]()}setup$(){return this.__slots={},this.__F=0}[Yi](){return this.__F|=3,this}[yO](){if(this[tg])return this[tg].inited(this)}flag$(t){this.className=this.flags$ext=t}build(){return this}awaken(){return this}mount(){return this}unmount(){return this}rendered(){return this}dehydrate(){return this}hydrate(){return this.autoschedule=!0,this}tick(){return this.commit()}visit(){return this.commit()}commit(){return this.render\u03A6?(this.__F|=256,this.render&&this.render(),this.rendered(),this.__F=(this.__F|512)&-257&-8193):(this.__F|=8192,this)}get autoschedule(){return(this.__F&64)!=0}set autoschedule(t){t?this.__F|=64:this.__F&=-65}set autorender(t){let e=this[Bi]||(this[Bi]={});e.value=t,this.mounted\u03A6&&En.schedule(this,e)}get render\u03A6(){return!this.suspended\u03A6}get mounting\u03A6(){return(this.__F&16)!=0}get mounted\u03A6(){return(this.__F&32)!=0}get awakened\u03A6(){return(this.__F&8)!=0}get rendered\u03A6(){return(this.__F&512)!=0}get suspended\u03A6(){return(this.__F&4096)!=0}get rendering\u03A6(){return(this.__F&256)!=0}get scheduled\u03A6(){return(this.__F&128)!=0}get hydrated\u03A6(){return(this.__F&2)!=0}get ssr\u03A6(){return(this.__F&1024)!=0}schedule(){return En.on("commit",this),this.__F|=128,this}unschedule(){return En.un("commit",this),this.__F&=-129,this}async suspend(t=null){return this.flags.incr("_suspended_"),this.__F|=4096,t instanceof Function&&(await t(),this.unsuspend()),this}unsuspend(){return this.flags.decr("_suspended_")==0&&(this.__F&=-4097,this.commit()),this}[mO](){if(this.visit(),this[Ta])return this[Ta]=null}[_O](){return this.__F&1024&&(this.__F=this.__F&-1025,this.classList.remove("_ssr_"),this.flags$ext&&this.flags$ext.indexOf("_ssr_")==0&&(this.flags$ext=this.flags$ext.slice(5)),this.__F&512||(this.innerHTML="")),globalThis.DEBUG_IMBA&&ru.push(this),this[Ta]&&(this[Ta]=null),this}[bO](){return globalThis.DEBUG_IMBA&&ru.pop(this),this}connectedCallback(){let t=this.__F,e=t&1,n=t&8;if(!e&&!(t&1024)){AO.queue(this);return}if(t&48)return;this.__F|=16,e||this[Yi](),t&2||(this.flags$ext=this.className,this.__F|=2,this.hydrate(),this.commit()),n||(this.awaken(),this.__F|=8),vi(this,"mount");let s=this.mount();return s&&s.then instanceof Function&&s.then(En.commit),t=this.__F=(this.__F|32)&-17,t&64&&this.schedule(),this[Bi]&&En.schedule(this,this[Bi]),this}disconnectedCallback(){if(this.__F=this.__F&-49,this.__F&128&&this.unschedule(),vi(this,"unmount"),this.unmount(),this[Bi])return En.unschedule(this,this[Bi])}};dn[Yi]();function wO(t,e){let n=Object.getOwnPropertyDescriptors(e);return delete n.constructor,Object.defineProperties(t,n),t}var rg=Symbol.for("#__init__"),SO={cm:1,mm:1,Q:1,pc:1,pt:1,px:1,em:1,ex:1,ch:1,rem:1,vw:1,vh:1,vmin:1,vmax:1,s:1,ms:1,fr:1,"%":1,in:1,turn:1,grad:1,rad:1,deg:1,Hz:1,kHz:1},ig={prefix:1,suffix:1,content:1},b0={rose:[[356,100,97],[356,100,95],[353,96,90],[353,96,82],[351,95,71],[350,89,60],[347,77,50],[345,83,41],[343,80,35],[342,75,30]],pink:[[327,73,97],[326,78,95],[326,85,90],[327,87,82],[329,86,70],[330,81,60],[333,71,51],[335,78,42],[336,74,35],[336,69,30]],fuchsia:[[289,100,98],[287,100,95],[288,96,91],[291,93,83],[292,91,73],[292,84,61],[293,69,49],[295,72,40],[295,70,33],[297,64,28]],purple:[[270,100,98],[269,100,95],[269,100,92],[269,97,85],[270,95,75],[271,91,65],[271,81,56],[272,72,47],[273,67,39],[274,66,32]],violet:[[250,100,98],[251,91,95],[251,95,92],[252,95,85],[255,92,76],[258,90,66],[262,83,58],[263,70,50],[263,69,42],[264,67,35]],indigo:[[226,100,97],[226,100,94],[228,96,89],[230,94,82],[234,89,74],[239,84,67],[243,75,59],[245,58,51],[244,55,41],[242,47,34]],blue:[[214,100,97],[214,95,93],[213,97,87],[212,96,78],[213,94,68],[217,91,60],[221,83,53],[224,76,48],[226,71,40],[224,64,33]],sky:[[204,100,97],[204,94,94],[201,94,86],[199,95,74],[198,93,60],[199,89,48],[200,98,39],[201,96,32],[201,90,27],[202,80,24]],cyan:[[183,100,96],[185,96,90],[186,94,82],[187,92,69],[188,86,53],[189,94,43],[192,91,36],[193,82,31],[194,70,27],[196,64,24]],teal:[[166,76,97],[167,85,89],[168,84,78],[171,77,64],[172,66,50],[173,80,40],[175,84,32],[175,77,26],[176,69,22],[176,61,19]],emerald:[[152,81,96],[149,80,90],[152,76,80],[156,72,67],[158,64,52],[160,84,39],[161,94,30],[163,94,24],[163,88,20],[164,86,16]],green:[[138,76,97],[141,84,93],[141,79,85],[142,77,73],[142,69,58],[142,71,45],[142,76,36],[142,72,29],[143,64,24],[144,61,20]],lime:[[78,92,95],[80,89,89],[81,88,80],[82,85,67],[83,78,55],[84,81,44],[85,85,35],[86,78,27],[86,69,23],[88,61,20]],yellow:[[55,92,95],[55,97,88],[53,98,77],[50,98,64],[48,96,53],[45,93,47],[41,96,40],[35,92,33],[32,81,29],[28,73,26]],amber:[[48,100,96],[48,96,89],[48,97,77],[46,97,65],[43,96,56],[38,92,50],[32,95,44],[26,90,37],[23,83,31],[22,78,26]],orange:[[33,100,96],[34,100,92],[32,98,83],[31,97,72],[27,96,61],[25,95,53],[21,90,48],[17,88,40],[15,79,34],[15,75,28]],red:[[0,86,97],[0,93,94],[0,96,89],[0,94,82],[0,91,71],[0,84,60],[0,72,51],[0,74,42],[0,70,35],[0,63,31]],warmer:[[60,9,98],[60,5,96],[20,6,90],[24,6,83],[24,5,64],[25,5,45],[33,5,32],[30,6,25],[12,6,15],[24,10,10]],warm:[[0,0,98],[0,0,96],[0,0,90],[0,0,83],[0,0,64],[0,0,45],[0,0,32],[0,0,25],[0,0,15],[0,0,9]],gray:[[0,0,98],[240,5,96],[240,6,90],[240,5,84],[240,5,65],[240,4,46],[240,5,34],[240,5,26],[240,4,16],[240,6,10]],cool:[[210,20,98],[220,14,96],[220,13,91],[216,12,84],[218,11,65],[220,9,46],[215,14,34],[217,19,27],[215,28,17],[221,39,11]],cooler:[[210,40,98],[210,40,96],[214,32,91],[213,27,84],[215,20,65],[215,16,47],[215,19,35],[215,25,27],[217,33,17],[222,47,11]]},$O=new RegExp("^("+Object.keys(b0).join("|")+")(\\d+(?:\\.\\d+)?)$"),xO=/^([xyz])$/,EO=/^([tlbr]|size|[whtlbr]|[mps][tlbrxy]?|[rcxy]?[gs])$/,TO=`*,::before,::after {
box-sizing: border-box;
border-width: 0;
border-style: solid;
border-color: currentColor;
}`,OO=class{constructor(t=null){this[rg](t)}[rg](t=null){var e;this.entries=t&&(e=t.entries)!==void 0?e:{}}register(t,e){let n=this.entries[t];n?n&&(n.css=e,n.node&&(n.node.textContent=e)):(n=this.entries[t]={sourceId:t,css:e},this.entries.resets||this.register("resets",TO),n.node=globalThis.document.createElement("style"),n.node.setAttribute("data-id",t),n.node.textContent=n.css,globalThis.document.head.appendChild(n.node))}toString(){return Object.values(this.entries).map(function(t){return t.css}).join(`

`)}toValue(t,e,n,s=null){let o;ig[n]&&(t=String(t));let u=typeof t;if(u=="number"){if(e||(xO.test(n)?e="px":EO.test(n)?e="u":n=="rotate"&&(e="turn",t=(t%1).toFixed(4))),e)return SO[e]?t+e:e=="u"?t*4+"px":"calc(var(--u_"+e+",1px) * "+t+")"}else if(u=="string"){if(n&&ig[n]&&t[0]!='"'&&t[0]!="'"&&(t.indexOf('"')>=0?t.indexOf("'")==-1&&(t="'"+t+"'"):t='"'+t+'"'),o=t.match($O)){let l=b0[o[1]][parseInt(o[2])],c="100%";if(typeof s=="number"?c=s+"%":typeof s=="string"&&(c=s),l)return"hsla("+l[0]+","+l[1]+"%,"+l[2]+"%,"+c+")"}}else if(t&&t.toStyleString instanceof Function)return t.toStyleString();return t}parseDimension(t){if(typeof t=="string"){let[e,n,s]=t.match(/^([-+]?[\d\.]+)(%|\w+)$/);return[parseFloat(n),s]}else if(typeof t=="number")return[t]}},kO=new OO,CO=class{css$(t,e,n){return this.style[t]=e}css$var(t,e,n,s,o=null){let u=kO.toValue(e,n,s,o);this.style.setProperty(t,u)}};wO(ft.prototype,CO.prototype);var PO=Symbol.for("#insertInto"),sg=Symbol.for("#removeFrom");function A0(t,e){let n=e||globalThis.document.body,s=t;if(t instanceof Function){let o=new ts(n,null),u=function(){let l=fn.context;fn.context=o;let c=t(o);return fn.context==o&&(fn.context=l),c};s=u(),En.listen("commit",u)}else s.__F|=64;return s[PO](n),s}function IO(t){return t&&t[sg]&&t[sg](t.parentNode),t}var w0=globalThis.imba||(globalThis.imba={});w0.mount=A0;w0.unmount=IO;function ns(t,e){let n=Object.getOwnPropertyDescriptors(e);return delete n.constructor,Object.defineProperties(t,n),t}function Ts(t){let e;return t?(e=t.toIterable)?e.call(t):t:[]}var Ws=Symbol.for("##onchange"),io=Symbol.for("#afterVisit"),Hs=Symbol.for("##oninput"),Ha=Symbol.for("##onclick"),so=Symbol.for("##bound"),zr=Symbol.for("##visitContext"),NO={INPUT:!0,SELECT:!0,TEXTAREA:!0,BUTTON:!0},Zc=function(t){return t instanceof Array||t&&t.has instanceof Function},Hf=function(t,e){return t==e?!0:t instanceof Array?t.indexOf(e)>=0:t&&t.has instanceof Function?t.has(e):t&&t.contains instanceof Function?t.contains(e):!1},Gf=function(t,e){if(t instanceof Array)return t.push(e);if(t&&t.add instanceof Function)return t.add(e)},Yf=function(t,e){if(t instanceof Array){let n=t.indexOf(e);if(n>=0)return t.splice(n,1)}else if(t&&t.delete instanceof Function)return t.delete(e)};function RO(t){function e(){return t[0]?t[0][t[1]]:void 0}function n(s){return t[0]?t[0][t[1]]=s:null}return{get:e,set:n}}var LO=class{getRichValue(){return this.value}setRichValue(t){return this.value=t}bind$(t,e){let n=e||[];return t=="data"&&!this[so]&&NO[this.nodeName]&&(this[so]=!0,this[Ws]&&this.addEventListener("change",this[Ws]=this[Ws].bind(this)),this[Hs]&&this.addEventListener("input",this[Hs]=this[Hs].bind(this),{capture:!0}),this[Ha]&&this.addEventListener("click",this[Ha]=this[Ha].bind(this),{capture:!0})),Object.defineProperty(this,t,n instanceof Array?RO(n):n),n}};ns(ft.prototype,LO.prototype);Object.defineProperty(ft.prototype,"richValue",{get:function(){return this.getRichValue()},set:function(t){return this.setRichValue(t)}});var DO=class{[Ws](t){let e=this.data,n=this.$$value;this.$$value=void 0;let s=this.getRichValue();if(this.multiple){if(n)for(let o=0,u=Ts(n),l=u.length;o<l;o++){let c=u[o];s.indexOf(c)==-1&&Yf(e,c)}for(let o=0,u=Ts(s),l=u.length;o<l;o++){let c=u[o];(!n||n.indexOf(c)==-1)&&Gf(e,c)}}else this.data=s[0];return Nt(),this}getRichValue(){var t;if(this.$$value)return this.$$value;t=[];for(let e=0,n=Ts(this.selectedOptions),s=n.length;e<s;e++){let o=n[e];t.push(o.richValue)}return this.$$value=t}syncValue(){let t=this.data;if(this.multiple){let e=[];for(let n=0,s=Ts(this.options),o=s.length;n<o;n++){let u=s[n],l=u.richValue,c=Hf(t,l);u.selected=c,c&&e.push(l)}this.$$value=e}else for(let e=0,n=Ts(this.options),s=n.length;e<s;e++){let o=n[e].richValue;if(o==t){this.$$value=[o],this.selectedIndex=e;break}}}[io](){if(this.syncValue(),this[zr])return this[zr]=null}};ns(DT.prototype,DO.prototype);var BO=class{setRichValue(t){return this.$$value=t,this.value=t}getRichValue(){return this.$$value!==void 0?this.$$value:this.value}};ns(UT.prototype,BO.prototype);var MO=class{setRichValue(t){return this.$$value=t,this.value=t}getRichValue(){return this.$$value!==void 0?this.$$value:this.value}[Hs](t){return this.data=this.value,Nt()}[io](){let t=this.data;if(t==null&&(t=""),this[so]&&this.value!=t&&(this.value=t),this[zr])return this[zr]=null}};ns(MT.prototype,MO.prototype);var FO=class{[Hs](t){let e=this.type;if(!(e=="checkbox"||e=="radio")&&!(e=="number"&&Number.isNaN(this.valueAsNumber)))return this.$$value=void 0,this.data=this.richValue,Nt()}[Ws](t){let e=this.data,n=this.richValue;if(this.type=="checkbox"||this.type=="radio"){let s=this.checked;Zc(e)?s?Gf(e,n):Yf(e,n):this.data=s?n:!1}return Nt()}setRichValue(t){this.$$value!==t&&(this.$$value=t,this.value!==t&&(this.value=t))}getRichValue(){if(this.$$value!==void 0)return this.$$value;let t=this.value,e=this.type;if(e=="range"||e=="number"){let n=this.valueAsNumber;Number.isNaN(n)&&(n=Number(t.replace(/\,/,".")+0)),Number.isNaN(n)&&(n=null),t=n}else e=="checkbox"&&(t==null||t==="on")&&(t=!0);return t}[io](){if(this[so]){let t=this.type;if(t=="checkbox"||t=="radio"){let e=this.data;e===!0||e===!1||e==null?this.checked=!!e:this.checked=Hf(e,this.richValue)}else this.richValue=this.data}this[zr]&&(this[zr]=null)}};ns(BT.prototype,FO.prototype);var UO=class{get checked(){return this.$checked}set checked(t){t!=this.$checked&&(this.$checked=t,this.flags.toggle("checked",!!t))}setRichValue(t){return this.$$value=t,this.value=t}getRichValue(){return this.$$value!==void 0?this.$$value:this.value}[Ha](t){let e=this.data,n=this.checked,s=this.richValue;return Zc(e)?n?Yf(e,s):Gf(e,s):this.$$value==null?this.data=!n:this.data=n?null:s,this[io](),Nt()}[io](){if(this[so]){let t=this.data,e=this.$$value==null?!0:this.$$value;Zc(t)?this.checked=Hf(t,e):this.checked=t==e}this[zr]&&(this[zr]=null)}};ns(FT.prototype,UO.prototype);function og(t){let e;return t?(e=t.toIterable)?e.call(t):t:[]}var KO=Symbol.for("#getSlot"),zO=Symbol.for("#container"),jO=Symbol.for("#afterVisit"),ai=Symbol.for("#__init__"),ag=Symbol.for("#__initor__"),ug=Symbol.for("#__inited__"),Oa=Symbol.for("#listeners"),jn=Symbol.for("#slot"),qO=Symbol.for("#parent"),an=Symbol.for("##container"),nc=Symbol.for("#domTarget"),lg=Symbol.for("#insertInto"),VO=Symbol.for("#removeFrom"),WO=Symbol.for("#teleport"),HO=Symbol.for("#self"),GO=Symbol.for("#target"),cg=Symbol(),Qf=class extends dn{static[ai](){return this.prototype[ag]=cg,this}constructor(){super(...arguments),super[ai]||this[ai](),this[ag]===cg&&this[ug]&&this[ug]()}[ai](t=null){super[ai]&&super[ai](...arguments),this.to=t?t.to:void 0}build(){return this[Oa]=[],this.win=globalThis,this.doc=globalThis.document}setup(){return this.setAttribute("style","display:none !important;")}[KO](t,e){return this[jn]||(this[jn]=Xc(0,this[qO])),this[jn]}get[zO](){if(!this[an]){let t=this.className;this[an]=this.doc.createElement("div"),this[an].className=t,this[an].style.cssText="display:contents !important;"}return this[an]}get domTarget(){return this[nc]||(this[nc]=this.to instanceof ft?this.to:this.closest(this.to)||this.doc.querySelector(this.to))}get eventTarget(){return this.domTarget}get style(){return this[an]?this[an].style:super.style}get classList(){return this[an]?this[an].classList:super.classList}get className(){return this[an]?this[an].className:super.className}set className(t){this[an]?this[an].className=t:super.className=t}[jO](){if(this.mounted\u03A6&&this[jn]&&!this[jn].parentNode)return this[jn][lg](this.target)}mount(){for(let e=0,n=og(this[Oa]),s=n.length;e<s;e++){let[o,u,l]=n[e];this.eventTarget.addEventListener(o,u,l)}let t=this.domTarget;return this[jn]&&this[jn][lg](t),this}unmount(){for(let t=0,e=og(this[Oa]),n=e.length;t<n;t++){let[s,o,u]=e[t];this.eventTarget.removeEventListener(s,o,u)}return this[jn]&&this[jn][VO](this.domTarget),this[nc]=null,this}addEventListener(t,e,n={}){var s;if(e[WO]=this,e[HO]=this,this[Oa].push([t,e,n]),this.mounted\u03A6&&((s=this.eventTarget)==null?void 0:s.addEventListener))return this.eventTarget.addEventListener(t,e,n)}};Qf[ai]();var YO=class extends Qf{get domTarget(){return this.doc.body}get eventTarget(){return this.win}addEventListener(t,e,n={}){return e[GO]=this.domTarget.parentNode,super.addEventListener(...arguments)}on$resize(t,e,n,s){return this.addEventListener("resize",n,s),n}};globalThis.customElements&&(globalThis.customElements.define("i-teleport",Qf),globalThis.customElements.define("i-global",YO));function Lr(t){let e;return t?(e=t.toIterable)?e.call(t):t:[]}function QO(t,e){let n=Object.getOwnPropertyDescriptors(e);return delete n.constructor,Object.defineProperties(t,n),t}var hr=Symbol.for("#__init__"),lu=Symbol.for("#__initor__"),cu=Symbol.for("#__inited__"),rc=Symbol.for("#insertInto"),ic=Symbol.for("#removeFrom"),JO=Symbol.for("#all"),Os=Symbol.for("#phase"),cr=Symbol.for("#nodes"),XO=Symbol.for("#sizes"),fg=Symbol.for("#mode"),hg=Symbol.for("#enabled"),ZO=Symbol.for("#easer"),dg=Symbol.for("#anims"),sc=Symbol.for("#_easer_"),pg=Symbol(),vg=Symbol(),S0=class extends o0{static[hr](){return this.prototype[lu]=pg,this}constructor(){super(...arguments),super[hr]||this[hr](),this[lu]===pg&&this[cu]&&this[cu]()}[hr](t=null){var e;super[hr]&&super[hr](...arguments),this.selectors=t&&(e=t.selectors)!==void 0?e:{}}addSelectors(t,e){var n;return((n=this.selectors)[e]||(n[e]=[])).push(...t),!0}getSelectors(...t){let e=[];for(let n=0,s=Lr(t),o=s.length;n<o;n++){let u=s[n];this.selectors[u]&&e.push(...this.selectors[u])}return e&&e.length?e.join(","):null}nodesForBase(t,e="transition"){let n=[t],s=(this.selectors[e]||[]).join(",");if(s=="")return n;let o=t.querySelectorAll(s);for(let u=0,l=Lr(o),c=l.length;u<c;u++){let d=l[u];d.closest("._ease_")==t&&n.push(d)}return n[JO]=o,n}nodesWithSize(t,e="in"){let n=this.getSelectors("_off_sized","_"+e+"_sized");return n?t.filter(function(s){return s.matches(n)}):[]}};S0[hr]();var ef=new S0,ek=globalThis.imba||(globalThis.imba={});ek.transitions=ef;var $0=class extends o0{static[hr](){return this.prototype[lu]=vg,this}constructor(t){super(),this.dom=t,this[Os]=null,this[cr]=[],this[XO]=new Map,this[lu]===vg&&this[cu]&&this[cu]()}log(...t){}get flags(){return this.dom.flags}flag(t){for(let e=0,n=Lr(this[cr]),s=n.length;e<s;e++)n[e].flags.add(t);return this}unflag(t){for(let e=0,n=Lr(this[cr]),s=n.length;e<s;e++)n[e].flags.remove(t);return this}commit(){return this.dom.offsetWidth}enable(t){return t&&(this[fg]=t),this[hg]!=!0&&(this[hg]=!0,!0)?(this.dom[rc]=this[rc].bind(this),this.dom[ic]=this[ic].bind(this),this.flags.add("_ease_")):this}disable(){return this.flags.remove("_ease_"),!0}set phase(t){var e,n,s,o,u,l,c,d,h,v,m,E;let I=this[Os];this[Os]!=t&&(this[Os]=t,!0)&&(I&&this.unflag("_"+I+"_"),t&&this.flag("_"+t+"_"),t||(this.unflag("_out_"),this.unflag("_in_"),this.unflag("_off_"),this[cr]=null),t=="enter"&&I=="leave"&&((n=(e=this.dom)==null?void 0:e.transition\u039Eout\u039Ecancel)==null||n.call(e,this)),t=="leave"&&I=="enter"&&((o=(s=this.dom)==null?void 0:s.transition\u039Ein\u039Ecancel)==null||o.call(s,this)),t=="enter"&&((l=(u=this.dom)==null?void 0:u.transition\u039Ein)==null||l.call(u,this)),t=="leave"&&((d=(c=this.dom)==null?void 0:c.transition\u039Eout)==null||d.call(c,this)),I=="leave"&&!t&&((v=(h=this.dom)==null?void 0:h.transition\u039Eout\u039Eend)==null||v.call(h,this)),I=="enter"&&!t&&((E=(m=this.dom)==null?void 0:m.transition\u039Ein\u039Eend)==null||E.call(m,this)))}get phase(){return this[Os]}get leaving\u03A6(){return this.phase=="leave"}get entering\u03A6(){return this.phase=="enter"}get idle\u03A6(){return this.phase==null}track(t){var e=this;let n={before:Ql().getAnimations()};return this.commit(),t(),this.commit(),n.after=Ql().getAnimations(),n.fresh=n.after.filter(function(s){return n.before.indexOf(s)==-1}),n.deep=n.fresh.filter(function(s){let o;return!!((o=s.effect.target)&&o.closest("._ease_")!=e.dom)}),n.own=n.fresh.filter(function(s){return n.deep.indexOf(s)==-1}),n.own.length?n.finished=new Promise(function(s){let o=new Set(n.own),u=function(){if(o.delete(this),o.size==0)return s()};for(let l=0,c=Lr(n.own),d=c.length;l<d;l++){let h=c[l];h[ZO]=e,h.addEventListener("finish",u,{once:!0}),h.addEventListener("cancel",u,{once:!0})}}):n.finished=Promise.resolve(!0),n}getAnimatedNodes(){return ef.nodesForBase(this.dom)}getNodeSizes(t="in",e=this[cr]){let n=ef.nodesWithSize(e,t),s=new Map;for(let o=0,u=Lr(n),l=u.length;o<l;o++){let c=u[o],d=window.getComputedStyle(c);s.set(c,{width:d.width,height:d.height})}return s}applyNodeSizes(t){for(let[e,n]of Lr(t))e.style.width=n.width,e.style.height=n.height;return t}clearNodeSizes(t){if(t){for(let[e,n]of Lr(t))e.style.removeProperty("width"),e.style.removeProperty("height");return t}}[rc](t,e){var n,s,o=this;let u;if(this.entering\u03A6)return this.dom;let l=function(){if(u&&o.clearNodeSizes(u),o.entering\u03A6)return o.phase=null};return o.leaving\u03A6?(o.track(function(){return o.phase="enter",o.unflag("_off_"),o.unflag("_out_")}).finished.then(l,function(c){return o.log("error cancel leave",c)}),o.dom):(Ql().contains(t),e?t.insertBefore(o.dom,e):t.appendChild(o.dom),this[cr]=o.getAnimatedNodes(),o.flag("_instant_"),o.unflag("_out_"),o.commit(),u=this[cr].sized=o.getNodeSizes("in"),(s=(n=o.dom)==null?void 0:n.transition\u039Ein\u039Einit)==null||s.call(n,o),o.flag("_off_"),o.flag("_in_"),o.flag("_enter_"),o.commit(),o.unflag("_instant_"),(this[dg]=o.track(function(){return o.phase="enter",o.applyNodeSizes(u),o.unflag("_off_"),o.unflag("_in_")})).finished.then(l,function(c){return o.clearNodeSizes(u),o.log("cancelled insert into",c)}),o.dom)}[ic](t){var e=this;if(this.leaving\u03A6)return;let n,s=function(){if(e.phase=="leave")return e.dom.emit("easeoutend",{}),t.removeChild(e.dom),e.phase=null};if(e.entering\u03A6&&this[fg]!="forward"){let u=e.track(function(){return e.flag("_off_"),e.flag("_in_"),e.unflag("_out_"),e.phase="leave",e.clearNodeSizes(e[cr].sized)});e.log("cancel enter anims own",u.own,u),u.finished.then(s,function(l){return e.log("error cancel entering",l)});return}this[cr]=e.getAnimatedNodes(),n=e.getNodeSizes("out"),e.applyNodeSizes(n),e.flag("_leave_");let o=this[dg]=e.track(function(){return e.phase="leave",e.flag("_off_"),e.flag("_out_"),e.clearNodeSizes(n)});if(!o.own.length){s();return}o.finished.then(s,function(){return!0})}};$0[hr]();var tk=class{transition\u039Ein\u039Einit(t){return!0}transition\u039Ein(t){return!0}transition\u039Ein\u039Eend(t){return!0}transition\u039Ein\u039Ecancel(t){return!0}transition\u039Eout(t){return!0}transition\u039Eout\u039Eend(t){return!0}transition\u039Eout\u039Ecancel(t){return!0}get ease(){return this[sc]||(this[sc]=new $0(this))}set ease(t){var e,n;if(t==!1){(n=(e=this[sc])==null?void 0:e.disable)==null||n.call(e);return}this.ease.enable(t)}};QO(ft.prototype,tk.prototype);function nk(t,e){let n=Object.getOwnPropertyDescriptors(e);return delete n.constructor,Object.defineProperties(t,n),t}var rk=class{\u03B1esc(){return this.keyCode==27}\u03B1tab(){return this.keyCode==9}\u03B1enter(){return this.keyCode==13}\u03B1space(){return this.keyCode==32}\u03B1up(){return this.keyCode==38}\u03B1down(){return this.keyCode==40}\u03B1left(){return this.keyCode==37}\u03B1right(){return this.keyCode==39}\u03B1del(){return this.keyCode==8||this.keyCode==46}\u03B1key(t){if(typeof t=="string")return this.key==t;if(typeof t=="number")return this.keyCode==t}};nk(LT.prototype,rk.prototype);function ik(t,e){let n=Object.getOwnPropertyDescriptors(e);return delete n.constructor,Object.defineProperties(t,n),t}var sk=class{\u03B1left(){return this.button==0}\u03B1middle(){return this.button==1}\u03B1right(){return this.button==2}\u03B1shift(){return!!this.shiftKey}\u03B1alt(){return!!this.altKey}\u03B1ctrl(){return!!this.ctrlKey}\u03B1meta(){return!!this.metaKey}\u03B1mod(){let t=globalThis.navigator.platform;return/^(Mac|iPhone|iPad|iPod)/.test(t||"")?!!this.metaKey:!!this.ctrlKey}};ik(NT.prototype,sk.prototype);function Jf(t,e){let n=Object.getOwnPropertyDescriptors(e);return delete n.constructor,Object.defineProperties(t,n),t}function gg(t){let e;return t?(e=t.toIterable)?e.call(t):t:[]}var ok=Symbol.for("#extendType"),ak=Symbol.for("#modifierState"),ka=Symbol.for("#sharedModifierState"),yg=Symbol.for("#onceHandlerEnd"),mg=Symbol.for("#extendDescriptors"),ln=Symbol.for("#context"),_g=Symbol.for("#self"),uk=Symbol.for("#target"),bg=Symbol.for("#stopPropagation"),Ag=Symbol.for("#defaultPrevented"),lk=Symbol.for("#teleport"),ck=class{[ok](t){var e;let n=t[mg]||(t[mg]=(e=Object.getOwnPropertyDescriptors(t.prototype),e.constructor,delete e.constructor,e));return Object.defineProperties(this,n)}};Jf(On.prototype,ck.prototype);var fk=class{get[ak](){var t,e;return(t=this[ln])[e=this[ln].step]||(t[e]={})}get[ka](){var t,e;return(t=this[ln].handler)[e=this[ln].step]||(t[e]={})}[yg](t){return Ln(this[ln],"end",t)}\u03B1sel(t){return!!this.target.matches(String(t))}\u03B1closest(t){return!!this.target.closest(String(t))}\u03B1log(...t){return console.info(...t),!0}\u03B1trusted(){return!!this.isTrusted}\u03B1if(t){return!!t}\u03B1wait(t=250){return new Promise(function(e){return setTimeout(e,va(t))})}\u03B1self(){return this.target==this[ln].element}\u03B1cooldown(t=250){let e=this[ka];return e.active?!1:(e.active=!0,e.target=this[ln].element,e.target.flags.incr("cooldown"),this[yg](function(){return setTimeout(function(){return e.target.flags.decr("cooldown"),e.active=!1},va(t))}),!0)}\u03B1throttle(t=250){let e=this[ka];return e.active?(e.next&&e.next(!1),new Promise(function(n){return e.next=function(s){return e.next=null,n(s)}})):(e.active=!0,e.el||(e.el=this[ln].element),e.el.flags.incr("throttled"),Ln(this[ln],"end",function(){let n=va(t);return e.interval=setInterval(function(){e.next?e.next(!0):(clearInterval(e.interval),e.el.flags.decr("throttled"),e.active=!1)},n)}),!0)}\u03B1debounce(t=250){let e=this[ka],n=this;return e.queue||(e.queue=[]),e.queue.push(e.last=n),new Promise(function(s){return setTimeout(function(){return e.last==n?(n.debounced=e.queue,e.last=null,e.queue=[],s(!0)):s(!1)},va(t))})}\u03B1flag(t,e){let{element:n,step:s,state:o,id:u,current:l}=this[ln],c=e instanceof ft?e:e?n.closest(e):n;if(!c)return!0;this[ln].commit=!0,o[s]=u,c.flags.incr(t);let d=Date.now();return Ln(l,"end",function(){let h=Date.now()-d,v=Math.max(250-h,0);return setTimeout(function(){return c.flags.decr(t)},v)}),!0}\u03B1busy(t){return this.\u03B1flag("busy",t)}\u03B1mod(t){return this.\u03B1flag("mod-"+t,globalThis.document.documentElement)}\u03B1outside(){let{handler:t}=this[ln];if(t&&t[_g])return!t[_g].parentNode.contains(this.target)}};Jf(Mr.prototype,fk.prototype);var hk=class{constructor(t,e){this.params=t,this.closure=e}getHandlerForMethod(t,e){return t?t[e]?t:this.getHandlerForMethod(t.parentNode,e):null}emit(t,...e){return vi(this,t,e)}on(t,...e){return mo(this,t,...e)}once(t,...e){return Ln(this,t,...e)}un(t,...e){return Eu(this,t,...e)}get passive\u03A6(){return this.params.passive}get capture\u03A6(){return this.params.capture}get silent\u03A6(){return this.params.silent}get global\u03A6(){return this.params.global}async handleEvent(t){let e=this[uk]||t.currentTarget,n=this.params,s=null,o=n.silence||n.silent;this.count||(this.count=0),this.state||(this.state={});let u={element:e,event:t,modifiers:n,handler:this,id:++this.count,step:-1,state:this.state,commit:null,current:null};if(u.current=u,t.handle$mod&&t.handle$mod.apply(u,n.options||[])==!1)return;let l=Mr[this.type+"$handle"]||Mr[t.type+"$handle"]||t.handle$mod||this.guard;if(!(l&&l.apply(u,n.options||[])==!1)){this.currentEvents||(this.currentEvents=new Set),this.currentEvents.add(t);for(let c=0,d=Object.keys(n),h=d.length,v,m;c<h;c++){if(v=d[c],m=n[v],u.step++,v[0]=="_")continue;v.indexOf("~")>0&&(v=v.split("~")[0]);let E=null,I=[t,u],A,$=null,k,T=!1;if(v[0]=="$"&&v[1]=="_"&&m[0]instanceof Function)v=m[0],v.passive||(u.commit=!0),I=[t,u].concat(m.slice(1)),$=e;else if(m instanceof Array){I=m.slice(),E=I;for(let B=0,N=gg(I),w=N.length;B<w;B++){let x=N[B];if(typeof x=="string"&&x[0]=="~"&&x[1]=="$"){let R=x.slice(2).split("."),L=u[R.shift()]||t;for(let P=0,S=gg(R),g=S.length;P<g;P++){let z=S[P];L=L?L[z]:void 0}I[B]=L}}}if(typeof v=="string"&&(k=v.match(/^(emit|flag|mod|moved|pin|fit|refit|map|remap|css)-(.+)$/))&&(E||(E=I=[]),I.unshift(k[2]),v=k[1]),v=="trap")t[bg]=!0,t.stopImmediatePropagation(),t[Ag]=!0,t.preventDefault();else if(v=="stop")t[bg]=!0,t.stopImmediatePropagation();else if(v=="prevent")t[Ag]=!0,t.preventDefault();else if(v=="commit")u.commit=!0;else if(v=="once")e.removeEventListener(t.type,this);else{if(v=="options"||v=="silence"||v=="silent")continue;if(v=="emit"){let B=I[0],N=I[1],w=new On(B,{bubbles:!0,detail:N});w.originalEvent=t,(this[lk]||e).dispatchEvent(w)}else if(typeof v=="string"){v[0]=="!"&&(T=!0,v=v.slice(1));let B="\u03B1"+v,N=t[B];N||(N=this.type&&Mr[this.type+"$"+v+"$mod"]),N||(N=t[v+"$mod"]||Mr[t.type+"$"+v]||Mr[v+"$mod"]),N instanceof Function?(v=N,$=u,I=E||[],t[B]&&($=t,t[ln]=u)):v[0]=="_"?(v=v.slice(1),$=this.closure):$=this.getHandlerForMethod(e,v)}}try{v instanceof Function?A=v.apply($||e,I):$&&(A=$[v].apply($,I)),A&&A.then instanceof Function&&A!=En.$promise&&(u.commit&&!o&&En.commit(),A=await A)}catch(B){s=B;break}if(T&&A===!0||!T&&A===!1)break;u.value=A}if(vi(u,"end",u),u.commit&&!o&&En.commit(),this.currentEvents.delete(t),this.currentEvents.size==0&&this.emit("idle"),s!=null){if(this.type!="error"){let c=s instanceof Error?s.message:s,d=new On("error",{detail:c,bubbles:!0,cancelable:!0});if(d.error=s,d.originalEvent=t,e.dispatchEvent(d),d.defaultPrevented)return}throw s}}}},dk=class{on$(t,e,n){let s="on$"+t,o;o=new hk(e,n);let u=e.capture||!1,l=e.passive,c=u;return l&&(c={passive:l,capture:u}),this[s]instanceof Function?o=this[s](e,n,o,c):this.addEventListener(t,o,c),o}on$error(t,e,n,s){var o;return(o=t.options)!=null&&o.length&&(n.guard=function(...u){let l=this.event.error;return!!u.find(function(c){return l instanceof c})}),this.addEventListener("error",n,s),n}};Jf(ft.prototype,dk.prototype);var Xf=new class{get ios\u03A6(){let t=globalThis.navigator.platform||"";return!!(t.match(/iPhone|iPod|iPad/)||t=="MacIntel"&&globalThis.navigator.maxTouchPoints>2)}};function Zf(t,e){let n=e;return t instanceof Element?t:typeof t=="string"?t=="this"||t==""?n:t=="up"?n.parentNode:t=="op"?n.offsetParent:n.closest(t)||n.querySelector(t)||globalThis.document.querySelector(t):null}function Qi(t){if(typeof t=="string"){let[e,n,s]=t.match(/^([-+]?[\d\.]+)(%|\w+)$/);return[parseFloat(n),s]}else if(typeof t=="number")return[t]}function tf(t,e=1){let n=1/e;return Math.round(t*n)/n}function pk(t,e,n){return e>n?Math.max(n,Math.min(e,t)):Math.min(n,Math.max(e,t))}function wg(t,e,n,s,o=.1){let[u,l]=Qi(n),[c,d]=Qi(s),[h,v]=Qi(o);return l=="%"&&(u=(e-t)*(u/100)),d=="%"&&(c=(e-t)*(c/100)),v=="%"&&(h=(c-u)*(h/100)),function(m,E){let I=(m-t)/(e-t),A=u+(c-u)*I;return o&&(A=tf(A,h)),E&&(A=pk(A,u,c)),A}}function vk(t,e){let n=Object.getOwnPropertyDescriptors(e);return delete n.constructor,Object.defineProperties(t,n),t}var gk=class{\u03B1primary(){return!!this.isPrimary}\u03B1mouse(){return this.pointerType=="mouse"}\u03B1pen(){return this.pointerType=="pen"}\u03B1touch(){return this.pointerType=="touch"}\u03B1pressure(t=.5){return this.pressure>=t}\u03B1lock(){return!0}};vk(RT.prototype,gk.prototype);function yk(t,e){let n=Object.getOwnPropertyDescriptors(e);return delete n.constructor,Object.defineProperties(t,n),t}var Sg=Symbol.for("#capture"),qn=Symbol.for("#step"),mk=Symbol.for("#cancel"),oc=Symbol.for("#reframe"),$g=Symbol.for("#mods"),ac=Symbol.for("#dx"),uc=Symbol.for("#dy"),Pr=Symbol.for("#context"),fu=Symbol.for("#locked"),x0=Symbol.for("#teardown"),xg=Symbol.for("#x"),Eg=Symbol.for("#y"),_k=Symbol.for("#pinTarget"),Tg=null,bk=class{constructor(t,e,n){this.phase="init",this.events=[],this.originalEvent=t,this.handler=e,this.target=this.currentTarget=n,this[$g]={}}set event(t){this.events.push(t)}get ctrlKey(){return this.originalEvent.ctrlKey}get altKey(){return this.originalEvent.altKey}get shiftKey(){return this.originalEvent.shiftKey}get metaKey(){return this.originalEvent.metaKey}get isPrimary(){return this.originalEvent.isPrimary}get pointerType(){return this.originalEvent.pointerType}get start(){return this.originalEvent}get originalTarget(){return this.originalEvent.target}get event(){return this.events[this.events.length-1]}get elapsed(){return this.event.timeStamp-this.events[0].timeStamp}get type(){return this.event.type}get pointerId(){return this.originalEvent.pointerId}get pressure(){return this.event.pressure}get clientX(){return this.event.clientX}get clientY(){return this.event.clientY}get offsetX(){return this.event.offsetX}get offsetY(){return this.event.offsetY}get active\u03A6(){return this.phase!="ended"}get ended\u03A6(){return this.phase=="ended"}get dx(){return this[ac]==null?this.event.x-this.start.x:this[ac]}get dy(){return this[uc]==null?this.event.y-this.start.y:this[uc]}stopImmediatePropagation(){return this.cancelBubble=!0,this.event.stopImmediatePropagation(),this}stopPropagation(){return this.cancelBubble=!0,this.event.stopPropagation(),this}preventDefault(){return this.defaultPrevented=!0,this.event.preventDefault()}emit(t,...e){return vi(this,t,e)}on(t,...e){return mo(this,t,...e)}once(t,...e){return Ln(this,t,...e)}un(t,...e){return Eu(this,t,...e)}\u03B1flag(t,e){let{element:n}=this[Pr],s=e instanceof ft?e:e?n.closest(e):n;return this[qn].setup!=!0&&(this[qn].setup=!0,!0)&&(s.flags.incr(t),Ln(this,"end",function(){return s.flags.decr(t)})),!0}\u03B1lock(){return this[Sg](),!0}[Sg](){if(this[fu]!=!0&&(this[fu]=!0,!0))return this[Pr].element.setPointerCapture(this.pointerId)}get[qn](){var t,e;return(t=this[$g])[e=this[Pr].step]||(t[e]={})}[mk](){return this[x0]()}\u03B1moved(t,e){let n=this[qn],{element:s,state:o,event:u}=this[Pr];if(!n.setup){let v=t||4;typeof t=="string"&&t.match(/^(up|down|left|right|x|y)$/)&&(n.dir=t,v=e||4),typeof e=="string"&&e.match(/^(up|down|left|right|x|y)$/)&&(n.dir=e),n.setup=!0;let[m,E]=Qi(v);n.threshold=m,n.sy=m,n.x0=this.x,n.y0=this.y,n.dir||(n.dir="dist"),n.x=n.left=n.right=n.y=n.up=n.down=n.dist=0,E&&E!="px"&&console.warn("only px threshold allowed in @touch.moved")}if(n.active)return!0;if(n.cancelled)return!1;let l=n.threshold,c=this.x-n.x0,d=this.y-n.y0;n.x=Math.max(n.x,Math.abs(c)),n.y=Math.max(n.y,Math.abs(d)),n.left=Math.max(n.left,-c),n.right=Math.max(n.right,c),n.up=Math.max(n.up,-d),n.down=Math.max(n.down,d),n.dist=Math.max(n.dist,Math.sqrt(c*c+d*d));let h=n[n.dir];if(h>l&&h>=n.x&&h>=n.y){n.active=!0;let v=o.pinTarget;return s.flags.incr("_move_"),v&&v.flags.incr("_move_"),this.preventDefault(),Ln(this,"end",function(){return v&&v.flags.decr("_move_"),s.flags.decr("_move_")}),!0}else if(n.x>l||n.y>l)return n.cancelled=!0,!1;return!1}\u03B1hold(t=250){var e=this;let n=this[qn],s=this[Pr].element;if(n.cancelled)return!1;if(n.setup&&!n.active){let o=this.clientX,u=this.clientY,l=o-n.x,c=u-n.y;Math.sqrt(l*l+c*c)>5&&!n.cancelled&&(clearTimeout(n.timeout),n.cancelled=!0)}if(n.setup!=!0&&(n.setup=!0,!0)){n.active=!1,n.x=this.clientX,n.y=this.clientY;let o;return n.timeout=setTimeout(function(){return n.active=!0,e.preventDefault(),s.flags.incr("_hold_"),o&&o(!0),o=null},t),Ln(e,"end",function(){return n.active&&s.flags.decr("_hold_"),clearTimeout(n.timeout),o&&o(!1),o=null}),new Promise(function(u){return o=u})}return n.active}\u03B1sync(t,e="x",n="y"){let s=this[qn];return s.setup!=!0&&(s.setup=!0,!0)?(s.x=t[e]||0,s.y=t[n]||0,s.tx=this.x,s.ty=this.y):(e&&(t[e]=s.x+(this.x-s.tx)),n&&(t[n]=s.y+(this.y-s.ty))),this[Pr].commit=!0,!0}\u03B1apply(t,e="x",n="y"){return e&&(t[e]=this.x),n&&(t[n]=this.y),this[Pr].commit=!0,!0}\u03B1css(t="x",e="y"){let n=this[qn];if(n.setup!=!0&&(n.setup=!0,!0))n.el=this[Pr].element,n.x=n.el[xg]||0,n.y=n.el[Eg]||0,n.tx=this.x,n.ty=this.y;else{let s=n.el[xg]=n.x+(this.x-n.tx),o=n.el[Eg]=n.y+(this.y-n.ty);t&&n.el.style.setProperty("--x",s+"px"),e&&n.el.style.setProperty("--y",o+"px")}return!0}\u03B1end(){return this.phase=="ended"}\u03B1shift(){return!!this.shiftKey}\u03B1alt(){return!!this.altKey}\u03B1ctrl(){return!!this.ctrlKey}\u03B1meta(){return!!this.metaKey}\u03B1primary(){return!!this.isPrimary}\u03B1mouse(){return this.pointerType=="mouse"}\u03B1pen(){return this.pointerType=="pen"}\u03B1touch(){return this.pointerType=="touch"}\u03B1pressure(t=.5){return this.pressure>=t}\u03B1log(...t){return console.info(...t),!0}\u03B1left(){return this.originalEvent.button==0}\u03B1middle(){return this.originalEvent.button==1}\u03B1right(){return this.originalEvent.button==2}\u03B1round(t=1,e=t){return this.x=tf(this.x,t),this.y=tf(this.y,e),!0}[oc](...t){let e=this[qn];if(e.setup!=!0&&(e.setup=!0,!0)){let n=this.target,s=t.length,o=t[0],u=0,l="100%",c=0,d=typeof o;d=="number"||d=="string"&&/^([-+]?\d[\d\.]*)(%|\w+)$/.test(o)||o instanceof Array?o=null:d=="string"&&(o=="this"||o==""?o=n:o=="up"?o=n.parentNode:o=="op"?o=n.offsetParent:o=n.closest(o)||n.querySelector(o)),o==null&&(s++,t.unshift(o=n)),s==2?c=t[1]:s>2&&([u,l,c=0]=t.slice(1));let h=o.getBoundingClientRect();u instanceof Array||(u=[u,u]),l instanceof Array||(l=[l,l]),c instanceof Array||(c=[c,c]),e.rect=h,e.x=wg(h.left,h.right,u[0],l[0],c[0]),e.y=wg(h.top,h.bottom,u[1],l[1],c[1]),this.x0=this.x=e.x(this.x,e.clamp),this.y0=this.y=e.y(this.y,e.clamp)}else{let n=this.x=e.x(this.x,e.clamp),s=this.y=e.y(this.y,e.clamp);this[ac]=n-this.x0,this[uc]=s-this.y0}return!0}\u03B1fit(...t){return this[qn].clamp=!0,this[oc](...t)}\u03B1reframe(...t){return this[oc](...t)}\u03B1pin(...t){let e=this[qn];if(e.setup!=!0&&(e.setup=!0,!0)){let n=Zf(t[0],this.target);n instanceof ft||t.unshift(n=this.target);let s=t[1]||0,o=t[2]==null?t[2]=s:t[2],u=n.getBoundingClientRect();e.x=this.clientX-(u.left+u.width*s),e.y=this.clientY-(u.top+u.height*o),n&&(this[_k]=n,n.flags.incr("_touch_"),Ln(this,"end",function(){return n.flags.decr("_touch_")}))}return this.x-=e.x,this.y-=e.y,!0}},Ak=class{on$touch(t,e,n,s){return n.type="touch",this.addEventListener("pointerdown",n,{passive:!1}),Xf.ios\u03A6&&globalThis.parent!=globalThis&&Tg!=!0&&(Tg=!0,!0)&&globalThis.parent.postMessage("setupTouchFix"),n}};yk(ft.prototype,Ak.prototype);if(globalThis.parent==globalThis&&Xf.ios\u03A6){let t=function(e){if(e.data=="setupTouchFix")return globalThis.addEventListener("touchmove",function(){return!1},{passive:!1}),globalThis.removeEventListener("message",t)};globalThis.addEventListener("message",t)}Mr.touch$handle=function(){let t=this.event,e=this.element,n=this.state.pointerId,s=this.modifiers,o=this.handler,u=Xf.ios\u03A6;if(this.current=this.state,n!=null)return n==t.pointerId;if(s.ctrl&&!t.ctrlKey||s.alt&&!t.altKey||s.meta&&!t.metaKey||s.shift&&!t.shiftKey||s.if&&!s.if[0]||s.self&&t.target!=e||s.primary&&!t.isPrimary||s.pen&&t.pointerType!="pen"||s.mouse&&t.pointerType!="mouse"||s.touch&&t.pointerType!="touch"||s.sel&&!t.target.matches(String(s.sel[0])))return;let l=this.state=o.state=this.current=new bk(t,o,e);n=l.pointerId;let c=function(A){return A.preventDefault(),!1},d=null,h=Symbol(),v=function(A){let $=l.clientX,k=l.clientY,T=A.clientX,B=A.clientY;(l[fu]||l.defaultPrevented)&&(A.pointerId==l.pointerId||$==T&&k==B)&&(A.preventDefault(),A.stopPropagation()),v&&(globalThis.removeEventListener("click",v,{capture:!0}),v=null)},m=function(A){if(!(l.type=="touchmove"&&A.changedTouches[0].identifier!=n)&&(l.defaultPrevented||l[fu]))return A.preventDefault()},E=function(A){let $=A.type,k=l.phase;if(A.pointerId&&l.pointerId!=A.pointerId||A[h])return;A[h]=!0;let T=$=="pointerup"||$=="pointercancel";if(A.pressure==0&&A.pointerType=="mouse"&&$=="pointermove"&&l.originalEvent.pressure>0)return d(A);$=="pointercancel"?(l.x=l.clientX,l.y=l.clientY):(l.x=A.clientX,l.y=A.clientY),l.event=A,T&&(l.phase="ended");try{o.handleEvent(l)}catch{}if(k=="init"&&!T&&(l.phase="active"),T&&d)return d(A)},I=!1;return d=function(A){if(!I&&(I=!0,e.flags.decr("_touch_"),l.phase!="ended"&&(l.phase="ended",l.x=l.clientX,l.y=l.clientY,o.handleEvent(l)),l.emit("end"),s.passive||--o.prevents==0&&e.style.removeProperty("touch-action"),o.state={},globalThis.removeEventListener("pointermove",E,{passive:!!s.passive}),globalThis.removeEventListener("pointerup",E),globalThis.removeEventListener("pointercancel",E),setTimeout(function(){if(v&&(globalThis.removeEventListener("click",v,{capture:!0}),v=null),u&&m)return globalThis.removeEventListener("touchend",m),globalThis.removeEventListener("touchmove",m,{passive:!1}),m=null},100),!s.passive))return globalThis.document.removeEventListener("selectstart",c,{capture:!0})},l[x0]=d,s.passive||(o.prevents||(o.prevents=0),o.prevents++,e.style.setProperty("touch-action","none"),e.offsetWidth),e.flags.incr("_touch_"),globalThis.addEventListener("pointermove",E,{passive:!!s.passive}),globalThis.addEventListener("pointerup",E),globalThis.addEventListener("pointercancel",E),globalThis.addEventListener("click",v,{capture:!0}),u&&!s.passive&&(globalThis.addEventListener("touchend",m),globalThis.addEventListener("touchmove",m,{passive:!1})),s.passive||globalThis.document.addEventListener("selectstart",c,{capture:!0}),E(t),!1};function E0(t){let e;return t?(e=t.toIterable)?e.call(t):t:[]}function wk(t,e){let n=Object.getOwnPropertyDescriptors(e);return delete n.constructor,Object.defineProperties(t,n),t}var Sk=Symbol.for("#context"),$k=Symbol.for("#extendType"),Og=new(globalThis.WeakMap||Map),lc={threshold:[0]},xk={};Mr.intersect$handle=function(){let t=this.event.detail.observer;return this.modifiers._observer==t};var Ek=class extends On{\u03B1in(){return this.delta>=0&&this.entry.isIntersecting}\u03B1out(){return this.delta<0}\u03B1css(t="ratio"){return this.target.style.setProperty("--ratio",this.ratio),!0}\u03B1flag(t,e){let{state:n,step:s}=this[Sk],o=Zf(e||"",this.target);return this.isIntersecting&&!n[s]?(o.flags.incr(t),n[s]=!0):n[s]&&!this.isIntersecting&&(o.flags.decr(t),n[s]=!1),!0}};function Tk(t,e){return function(n,s){let o=s.prevRatios||(s.prevRatios=new WeakMap);for(let u=0,l=E0(n),c=l.length;u<c;u++){let d=l[u],h=o.get(d.target)||0,v=d.intersectionRatio,m={entry:d,ratio:v,from:h,delta:v-h,observer:s},E=new On(t,{bubbles:!1,detail:m});E[$k](Ek),E.entry=d,E.isIntersecting=d.isIntersecting,E.delta=m.delta,E.ratio=m.ratio,o.set(d.target,v),d.target.dispatchEvent(E)}}}function kg(t=lc){let e=t.threshold.join("-")+t.rootMargin;!t.root&&lc.root&&(t.root||(t.root=lc.root));let n=t.root||xk,s=Og.get(n);return s||Og.set(n,s={}),s[e]||(s[e]=new IntersectionObserver(Tk("intersect"),t))}var Ok=class{on$intersect(t,e,n,s){let o;if(t.options){let u=[],l={threshold:u};for(let c=0,d=E0(t.options),h=d.length;c<h;c++){let v=d[c];v instanceof ft||v instanceof Wf?l.root=v:typeof v=="number"?u.push(v):typeof v=="string"?l.rootMargin=v:typeof v=="object"&&Object.assign(l,v)}if(u.length==1){let c=u[0];if(c>1)for(u[0]=0;u.length<c;)u.push(u.length/(c-1))}u.length==0&&u.push(0),o=kg(l)}else o=kg();return t._observer=o,o.observe(this),this.addEventListener("intersect",n,s),n}};wk(ft.prototype,Ok.prototype);function kk(t){let e;return t?(e=t.toIterable)?e.call(t):t:[]}function Ck(t,e){let n=Object.getOwnPropertyDescriptors(e);return delete n.constructor,Object.defineProperties(t,n),t}var cc=Symbol.for("#width"),fc=Symbol.for("#height"),Pk=Symbol.for("#extendType"),Ca=null,Ik=class extends On{\u03B1css(t="1elw",e="1elh",n=""){let s=this.target;if(s.offsetParent){let o=Qi(t),u=Qi(e),l=Zf(n,s),c=o?"--u_"+o[1]:"--"+t,d=u?"--u_"+u[1]:"--"+e,h=o?this.width/o[0]:this.width,v=u?this.height/u[0]:this.height;l.style.setProperty(c,h),l.style.setProperty(d,v)}return!0}get width(){return this[cc]==null?this[cc]=this.entry.target.offsetWidth:this[cc]}get height(){return this[fc]==null?this[fc]=this.entry.target.offsetHeight:this[fc]}};function Nk(){return globalThis.ResizeObserver||Ca||(console.warn(":resize not supported in this browser"),Ca={observe:function(){return!0}}),Ca||(Ca=new ResizeObserver(function(t){for(let e=0,n=kk(t),s=n.length;e<s;e++){let o=n[e],u=new On("resize",{bubbles:!1,detail:o});u.entry=o,u.rect=o.contentRect,u[Pk](Ik),o.target.dispatchEvent(u);let l=new On("resized",{bubbles:!0,detail:o});o.target.dispatchEvent(l)}}))}var Rk=class{on$resize(t,e,n,s){return Nk().observe(this),this.addEventListener("resize",n,s),n}};Ck(ft.prototype,Rk.prototype);function Lk(t,e){let n=Object.getOwnPropertyDescriptors(e);return delete n.constructor,Object.defineProperties(t,n),t}var hc,Cg=Symbol();function Dk(){if(!hc)return hc=function(t){if(t[Cg])return;t[Cg]=!0;let e=globalThis.document.activeElement;if(e&&e.matches("input,textarea")){let n=new On("selection",{detail:{start:e.selectionStart,end:e.selectionEnd}});return e.dispatchEvent(n)}},globalThis.document.addEventListener("selectionchange",hc)}var Bk=class{on$selection(t,e,n,s){return Dk(),this.addEventListener("selection",n,s),n}};Lk(ft.prototype,Bk.prototype);var Pg=Symbol.for("#string"),Ig=Symbol.for("#html"),jr={win:{sep:"+",name:"win",order:["meta","ctrl","mod","alt","option","shift"].reverse(),labels:{option:"alt",mod:"ctrl",meta:"win"}},mac:{sep:"",name:"mac",order:["ctrl","alt","option","shift","mod","command"].reverse(),labels:{left:"\u2192",up:"\u2191",down:"\u2193",right:"\u2190",plus:"+",tab:"\u21E5",meta:"\u2318",mod:"\u2318",ctrl:"\u2303",option:"\u2325",alt:"\u2325",del:"\u2326",shift:"\u21E7",enter:"\u21A9",esc:"\u238B",backspace:"\u232B"}}};jr.auto=jr.win;(globalThis.navigator.platform||"").match(/iPhone|iPod|iPad|Mac/)&&(jr.auto=jr.mac);var dc={};function T0(t,e="auto"){let n=""+t+":"+e;if(dc[n])return dc[n];let s=jr[e]||jr.win,o=t.split(" ").map(function(u){return u.split("+").sort(function(l,c){return s.order.indexOf(c)-s.order.indexOf(l)}).map(function(l){let c=s.labels[l]||l;return c=c[0].toUpperCase()+(c.slice(1)||"")})});return dc[n]=o}function Mk(t,e){let n=T0(t,e),s=jr[e]||jr.win;return n[Pg]||(n[Pg]=n.map(function(o){return o.join(s.sep)}).join(" "))}function Fk(t,e){let n=T0(t,e);return n[Ig]||(n[Ig]=n.map(function(s){return"<kbd>"+s.map(function(o){return"<kbd>"+o+"</kbd>"}).join("")+"</kbd>"}).join(" "))}var Ur={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},Ng={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Rg={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},Lg={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},Ms;for(Yn=1;Yn<20;++Yn)Ur[111+Yn]="f"+Yn;var Yn;for(Yn=0;Yn<=9;++Yn)Ur[Yn+96]=Yn.toString();function pc(t,e,n){if(t.addEventListener){t.addEventListener(e,n,!1);return}t.attachEvent("on"+e,n)}function vc(t,e,n){if(t.removeEventListener){t.removeEventListener(e,n,!1);return}t.detachEvent("on"+e,n)}function Dg(t){if(t.type=="keypress"){var e=String.fromCharCode(t.which);return t.shiftKey||(e=e.toLowerCase()),e}return Ur[t.which]?Ur[t.which]:Ng[t.which]?Ng[t.which]:String.fromCharCode(t.which).toLowerCase()}function Uk(t,e){return t.sort().join(",")===e.sort().join(",")}function Kk(t){var e=[];return t.shiftKey&&e.push("shift"),t.altKey&&e.push("alt"),t.ctrlKey&&e.push("ctrl"),t.metaKey&&e.push("meta"),e}function zk(t){if(t.preventDefault){t.preventDefault();return}t.returnValue=!1}function jk(t){if(t.stopPropagation){t.stopPropagation();return}t.cancelBubble=!0}function nf(t){return t=="shift"||t=="ctrl"||t=="alt"||t=="meta"}function qk(){if(!Ms){Ms={};for(var t in Ur)t>95&&t<112||Ur.hasOwnProperty(t)&&(Ms[Ur[t]]=t)}return Ms}function Vk(t,e,n){return n||(n=qk()[t]?"keydown":"keypress"),n=="keypress"&&e.length&&(n="keydown"),n}function Wk(t){return t==="+"?["+"]:(t=t.replace(/\+{2}/g,"+plus"),t.split("+"))}function Bg(t,e){var n,s,o,u=[];for(n=Wk(t),o=0;o<n.length;++o)s=n[o],Lg[s]&&(s=Lg[s]),e&&e!="keypress"&&Rg[s]&&(s=Rg[s],u.push("shift")),nf(s)&&u.push(s);return e=Vk(s,u,e),{key:s,modifiers:u,action:e}}function O0(t,e){return t===null||t===document?!1:t===e?!0:O0(t.parentNode,e)}function Jt(t){var e=this;if(t=t||document,!(e instanceof Jt))return new Jt(t);e.target=t,e._callbacks={},e._directMap={};var n={},s,o=!1,u=!1,l=!1;function c(A){A=A||{};var $=!1,k;for(k in n){if(A[k]){$=!0;continue}n[k]=0}$||(l=!1)}function d(A,$,k,T,B,N){var w,x,R=[],L=k.type;if(!e._callbacks[A])return[];for(L=="keyup"&&nf(A)&&($=[A]),w=0;w<e._callbacks[A].length;++w)if(x=e._callbacks[A][w],!(!T&&x.seq&&n[x.seq]!=x.level)&&L==x.action&&(L=="keypress"&&!k.metaKey&&!k.ctrlKey||Uk($,x.modifiers))){var P=!T&&x.combo==B,S=T&&x.seq==T&&x.level==N;(P||S)&&e._callbacks[A].splice(w,1),R.push(x)}return R}function h(A,$,k,T){e.stopCallback($,$.target||$.srcElement,k,T)||A($,k)===!1&&(zk($),jk($))}e._handleKey=function(A,$,k){var T=d(A,$,k),B,N={},w=0,x=!1;for(B=0;B<T.length;++B)T[B].seq&&(w=Math.max(w,T[B].level));for(B=0;B<T.length;++B){if(T[B].seq){if(T[B].level!=w)continue;x=!0,N[T[B].seq]=1,h(T[B].callback,k,T[B].combo,T[B].seq);continue}x||h(T[B].callback,k,T[B].combo)}var R=k.type=="keypress"&&u;k.type==l&&!nf(A)&&!R&&c(N),u=x&&k.type=="keydown"};function v(A){typeof A.which!="number"&&(A.which=A.keyCode);var $=Dg(A);if($){if(A.type=="keyup"&&o===$){o=!1;return}e.handleKey($,Kk(A),A)}}function m(){clearTimeout(s),s=setTimeout(c,1e3)}function E(A,$,k,T){n[A]=0;function B(L){return function(){l=L,++n[A],m()}}function N(L){h(k,L,A),T!=="keyup"&&(o=Dg(L)),setTimeout(c,10)}for(var w=0;w<$.length;++w){var x=w+1===$.length,R=x?N:B(T||Bg($[w+1]).action);I($[w],R,T,A,w)}}function I(A,$,k,T,B){e._directMap[A+":"+k]=$,A=A.replace(/\s+/g," ");var N=A.split(" "),w;if(N.length>1){E(A,N,$,k);return}w=Bg(A,k),e._callbacks[w.key]=e._callbacks[w.key]||[],d(w.key,w.modifiers,{type:w.action},T,A,B),e._callbacks[w.key][T?"unshift":"push"]({callback:$,modifiers:w.modifiers,action:w.action,seq:T,level:B,combo:A})}e._bindMultiple=function(A,$,k){for(var T=0;T<A.length;++T)I(A[T],$,k)},e.enable=function(){pc(t,"keypress",v),pc(t,"keydown",v),pc(t,"keyup",v)},e.disable=function(){vc(t,"keypress",v),vc(t,"keydown",v),vc(t,"keyup",v)},e.enable()}Jt.prototype.bind=function(t,e,n){var s=this;return t=t instanceof Array?t:[t],s._bindMultiple.call(s,t,e,n),s};Jt.prototype.unbind=function(t,e){var n=this;return n.bind.call(n,t,function(){},e)};Jt.prototype.trigger=function(t,e){var n=this;return n._directMap[t+":"+e]&&n._directMap[t+":"+e]({},t),n};Jt.prototype.reset=function(){var t=this;return t._callbacks={},t._directMap={},t};Jt.prototype.stopCallback=function(t,e){var n=this;return(" "+e.className+" ").indexOf(" mousetrap ")>-1||O0(e,n.target)?!1:e.tagName=="INPUT"||e.tagName=="SELECT"||e.tagName=="TEXTAREA"||e.isContentEditable};Jt.prototype.handleKey=function(){var t=this;return t._handleKey.apply(t,arguments)};Jt.addKeycodes=function(t){for(var e in t)t.hasOwnProperty(e)&&(Ur[e]=t[e]);Ms=null};Jt.init=function(){var t=Jt(document);for(var e in t)e.charAt(0)!=="_"&&(Jt[e]=function(n){return function(){return t[n].apply(t,arguments)}}(e))};function Gs(t){let e;return t?(e=t.toIterable)?e.call(t):t:[]}function Hk(t,e){let n=Object.getOwnPropertyDescriptors(e);return delete n.constructor,Object.defineProperties(t,n),t}var gc=Symbol.for("#updateHotKeys"),Gk=Symbol.for("#inInput"),rf=Symbol.for("#inEditable"),Yk=Symbol.for("#hotkeyTarget"),k0=Symbol.for("#hotkeyCombos"),Qk=Symbol.for("#extendType"),Ys=Symbol.for("#combos"),C0=Symbol.for("#target"),Fs=Symbol.for("#hotkeyHandlers"),Jk=Symbol.for("#defaultPrevented"),Xk=Symbol.for("#visit"),Mg=Symbol.for("#key"),Zk;try{Zk=(globalThis.navigator.platform||"").match(/iPhone|iPod|iPad|Mac/)}catch{}var sf={esc:!0},eC=class extends On{\u03B1focus(t){let e=this.target,n=e.ownerDocument;return t&&(e=e.querySelector(t)||e.closest(t)||n.querySelector(t)),e==n.body?n.activeElement!=n.body&&n.activeElement.blur():e.focus(),!0}\u03B1repeat(){return!0}},tC=function(t,e,n){return e.tagName=="INPUT"&&(n=="down"||n=="up")?!1:e.tagName=="INPUT"||e.tagName=="SELECT"||e.tagName=="TEXTAREA"?sf[n]?(t[Gk]=!0,t[rf]=!0,!1):!0:e.contentEditable&&(e.contentEditable=="true"||e.contentEditable=="plaintext-only")?sf[n]?(t[rf]=!0,!1):!0:!1},nC=new class{constructor(){this.combos={"*":{}},this.identifiers={},this.labels={},this.handler=this.handle.bind(this),this.mousetrap=null,this.hothandler=this.handle.bind(this)}addKeycodes(t){return Jt.addKeycodes(t)}trigger(t){var e,n;return(n=(e=this.mousetrap)==null?void 0:e.trigger)==null?void 0:n.call(e,t)}register(t,e={}){return this.mousetrap||(this.mousetrap=Jt(globalThis.document),this.mousetrap.stopCallback=tC),this.combos[t]||(this.combos[t]=!0,this.mousetrap.bind(t,this.handler)),(e.capture||e.force)&&(sf[t]=!0),this}comboIdentifier(t){var e;return(e=this.identifiers)[t]||(e[t]=t.replace(/\+/g,"_").replace(/\ /g,"-").replace(/\*/g,"all").replace(/\|/g," "))}humanize(t,e="auto"){return Mk(t,e)}htmlify(t,e="auto"){return Fk(t,e)}matchCombo(t){return!0}handle(t,e){var n;let s=t.target&&t.target[Yk]||t.target||globalThis.document.body,o=Array.from(globalThis.document.querySelectorAll("[data-hotkey]")),u=s.ownerDocument,l=s;for(;l&&l!=u&&l.hotkeys!==!0;)l=l.parentNode;if(o=o.reverse().filter(function(v){let m=v[k0];if(!(m&&(m[e]||m["*"])))return!1;let E=v;for(;E&&E!=u;){if(E.hotkeys===!1)return!1;E=E.parentNode}return!0}),!o.length)return;let c={combo:e,originalEvent:t,targets:o},d=new On("hotkey",{bubbles:!0,detail:c});d[Qk](eC),d.originalEvent=t,d.hotkey=e,s.dispatchEvent(d);let h=[];for(let v=0,m=Gs(o),E=m.length;v<E;v++){let I=m[v];for(let A=0,$=Gs(I[Fs]),k=$.length;A<k;A++){let T=$[A];if((T[Ys][e]||T[Ys]["*"])&&(!t[rf]||T.capture\u03A6||T.params.force)){let B=T[C0];(l.contains(B)||B.contains(l)||T.global\u03A6)&&h.push(T)}}}for(let v=0,m=Gs(h),E=m.length;v<E;v++){let I=m[v];if((!t.repeat||I.params.repeat)&&I.handleEvent(d),(!I.passive\u03A6||d[Jk])&&((n=t==null?void 0:t.preventDefault)==null||n.call(t)),!I.passive\u03A6)break}return this}},P0=function(t,e){let n=e.element;n instanceof ft&&(n.matches("input,textarea,select,option")?n.focus():n.click())};P0.passive=!0;var rC=class{on$hotkey(t,e,n,s){var o=this;return this[Fs]||(this[Fs]=[]),this[Fs].push(n),n[C0]=this,t.$_||(t.$_=[P0]),t[Xk]=function(){return o[gc]()},this[gc](),n}[gc](){let t={};for(let e=0,n=Gs(this[Fs]),s=n.length;e<s;e++){let o=n[e],u=o.params,l=u.options[0];if(o[Mg]!=l&&(o[Mg]=l,!0)){o[Ys]={};for(let c=0,d=Gs(l.split("|")),h=d.length;c<h;c++){let v=d[c];nC.register(v,u),o[Ys][v]=!0}}Object.assign(t,o[Ys])}return this[k0]=t,this.dataset.hotkey=Object.keys(t).join(" "),this}};Hk(ft.prototype,rC.prototype);var iC=nT(rT()),yc=Symbol.for("#getQueryParam"),Fg=Symbol.for("#setQueryParam"),Ug=Symbol.for("#query"),hi=class{static parse(t,e){return t instanceof hi?t:new hi(t,e)}constructor(t,e){this.router=e,this.parse(t)}parse(t){var e;let n;return t instanceof URL||(t=new URL(t,this.router.origin)),(n=(e=this.router)==null?void 0:e.aliases[t.pathname])&&(t.pathname=n),this.url=t,this}get active\u03A6(){return this.router.location==this}reparse(){return this.parse(this.url)}get searchParams(){return this.url.searchParams}search(){let t=this.searchParams?this.searchParams.toString():"";return t?"?"+t:""}update(t){if(t instanceof Object)for(let e=0,n=Object.keys(t),s=n.length,o,u;e<s;e++)o=n[e],u=t[o],this.searchParams.set(o,u);else typeof t=="string"&&this.parse(t);return this}clone(){return new hi(this.url.href,this.router)}equals(t){return this.toString()==String(t)}get href(){return this.url.href}get path(){return this.url.href.slice(this.url.origin.length)}get pathname(){return this.url.pathname}get query(){return this[Ug]||(this[Ug]=new Proxy({},{get:this[yc].bind(this),set:this[Fg].bind(this)}))}toString(){return this.href}[yc](t,e){return this.searchParams.get(e)}[Fg](t,e,n){return this[yc](t,e)!=n&&(n==null||n==""?this.searchParams.delete(e):this.searchParams.set(e,n),this.active\u03A6&&(this.router.history.replaceState({},null,this.url.toString()),this.router.touch())),!0}},eh=function(){return!0},Qs=class{constructor(t,e=""){this.store=t||{},this.cache={raw:{},rich:{}},this.ns=e,this.local=t==globalThis.sessionStorage,this.children=new Map}serialize(t,e){return JSON.stringify(t)}deserialize(t,e){return JSON.parse(t)}getItem(t){let e=String(this.ns)+":"+t;if(this.store instanceof Qs)return this.store.getItem(e);if(this.local&&this.cache.rich[e]!=null)return this.cache.rich[e];let n=this.store.getItem(e);if(n!=null)return this.cache.raw[e]==n?this.cache.rich[e]:(this.cache.raw[e]=n,this.cache.rich[e]=this.deserialize(n,e))}setItem(t,e){let n=String(this.ns)+":"+t;if(this.store instanceof Qs)return this.store.setItem(n,e);let s=this.cache.rich[n],o=typeof e;if(this.local&&(this.cache.rich[n]=e),s!==e||o=="object"){let u=this.store.getItem(n);if(e==null)return this.store.removeItem(n),this.cache.rich[n],delete this.cache.rich[n],this.cache.raw[n],delete this.cache.raw[n],Nt();{let l=this.serialize(e,n);if(this.cache.rich[n]=e,this.cache.raw[n]=l,u!=l)return this.store.setItem(n,l),Nt()}}}get(t,e,n){return this.getItem(e)}set(t,e,n,s){return this.setItem(e,n),!0}apply(t,e,[n]){let s=this.children.get(n);return s||this.children.set(n,s=new Proxy(eh,new Qs(this,n))),s}deleteProperty(t,e){let n=this.ns+e;return this.cache[n],delete this.cache[n],this.store.removeItem(n)}};new Proxy(eh,new Qs(globalThis.localStorage));var sC=new Proxy(eh,new Qs(globalThis.sessionStorage)),ks=Symbol.for("#states"),Kg=new WeakMap,mc=class{static from(t,e){return e?new this(t,e):null}constructor(t,e,n=!1){Kg.set(this,t),this.path=e.path,this.data=e.data||{},this.index=e.index,this.type=e.type,this.local=n}get history(){return Kg.get(this)}get next(){return this.history.at(this.index+1)}get prev(){return this.history.at(this.index-1)}toJSON(){return{path:this.path,data:this.data,index:this.index,type:this.type}}save(){return this.history.cache[this.index]=this,this}toString(){return""+this.history.id+"|"+this.index}},oC=class{constructor(t){this.router=t,this.store=sC("router"),this[ks]=[],this.cache={},this.index=-1;let e=globalThis.history.state;if(typeof e=="string"){let n=e.split("|");this.id=parseInt(n[0]),this.index=parseInt(n[1]),this.cache=this.store(this.id)}else this.id=this.store.id=(this.store.id||0)+1,this.cache=this.store(this.id);this.index==-1&&this.replaceState({initial:!0},null,t.path)}get length(){return this.cache.length}get state(){return this.at(this.index)}get states(){let t=this.length,e=0;for(;e<t;)this.at(e++);return this[ks]}get currentStates(){return this.states.slice(0,this.length)}get next(){return this.state.next}get prev(){return this.state.prev}slice(t,e=this.length){let n=[];for(;t<e;)n.push(this.at(t++));return n}at(t){var e;if(!(t>=this.length))return(e=this[ks])[t]||(e[t]=mc.from(this,this.cache[t]))}buildState(t,e,n=!0){let s={data:t,index:this.index+1,path:e||this.router.path,type:n?"push":"replace"};return new mc(this,s,!0)}pushState(t,e,n,s=!0){return t instanceof mc||(t=this.buildState(t,n,s)),this.index=t.index,this.cache[this.index]=t,this[ks][this.index]=t,this[ks].length=this.cache.length=Math.max(t.index+1,0),globalThis.history[s?"pushState":"replaceState"](String(t),e||null,t.path),this}replaceState(t,e,n){return this.pushState(t,e,n,!1)}},zg=class{constructor(t,e,n,s){this.params=s,this.router=t,e&&(this.location=hi.parse(e),this.original=this.location.clone()),this.referrer=n}get apply(){return this.params.apply||[]}get revert(){return this.params.revert||[]}get state(){return this.params.state}get mode(){return this.params.mode}redirect(t){var e,n;return(n=(e=this.location)==null?void 0:e.update)==null||n.call(e,t),this}get path(){var t;return(t=this.location)==null?void 0:t.path}get url(){var t,e;return(e=(t=this.location)==null?void 0:t.toString)==null?void 0:e.call(t)}set path(t){this.location.path=t}abort(t=!1){return this.aborted=!0,t&&(this.forceAbort=t),this}match(t){return this.location?this.router.route(t).match(this.path):null}};function jg(t){let e;return t?(e=t.toIterable)?e.call(t):t:[]}var hu=Symbol.for("#routes"),_c=Symbol.for("#match"),aC=Symbol.for("#symbol"),qg=Symbol.for("#matches"),bc=new Map,Ac={},Vg={},uC=/.*/;function lC(t){if(!bc.has(t)){let e=new Map;return bc.set(t,e),e}return bc.get(t)}function cC(t,e){let n=lC(t);if(!n.has(e)){let s=Object.create(t);return Object.assign(s,e),n.set(e,s),s}return n.get(e)}var fC=class{};function hC(t){if(Ac[t])return Ac[t];let e=Ac[t]={url:t},n=t.indexOf("?"),s=t.indexOf("#");if(s>=0&&(e.hash=t.slice(s+1),t=e.url=t.slice(0,s)),n>=0){let o=e.query=t.slice(n+1);t=t.slice(0,n),e.query=Vg[o]||(Vg[o]=new URLSearchParams(o))}return e.path=t,e}var dC=class{constructor(t){this.router=t,this.fullPath="",this[hu]={},this[_c]=new fC,this[_c].path=""}route(t){var e;return(e=this[hu])[t]||(e[t]=new I0(this.router,t,this))}match(){return this[_c]}resolve(t){return"/"}},I0=class{constructor(t,e,n){this.parent=n||t.rootRoute,this.router=t,this.status=200,this.path=e,this[aC]=Symbol(),this[qg]={},this[hu]={}}route(t){var e;return(e=this[hu])[t]||(e[t]=new I0(this.router,t,this))}get fullPath(){return""+this.parent.fullPath+"/"+this.$path}load(t){return this.router.queue.add(t)}set path(t){var e=this;if(this.$path==t)return;if(this.raw=t,this.$path=t,this.groups=[],this.cache={},this.dynamic=!1,t.indexOf("?")>=0){let s=t.split("?");t=s.shift(),this.query={};for(let o=0,u=jg(s.join("?").split("&")),l=u.length;o<l;o++){let c=u[o];if(!c)continue;let[d,h]=c.split("=");d[0]=="!"&&(this.dynamic=!0,d=d.slice(1),h=!1),h===""&&(h=!1),h&&h[0]==":"&&(this.dynamic=!0),this.query[d]=h||h!==!1}}if(t=t.replace(/\:(\w+|\*)(\.)?/g,function(s,o,u){return e.dynamic=!0,o!="*"&&e.groups.push(o),u?"([^/#.?]+).":"([^/#?]+)"}),t==""&&e.query)return;if(t=="*")return e.regex=uC,e;t="^"+t;let n=t[t.length-1];(n=="$"||n=="/")&&(t=t.slice(0,-1)+"(?=/?[#?]|/?$)"),n!="/"&&n!="$"&&t!="^/"&&(t=t+"(?=[/#?]|$)"),e.regex=new RegExp(t)}match(t=this.router.path){var e,n,s,o;let u=this.parent.match(t);if(!u)return null;let l=hC(t),c=l.url,d="";if(u.path&&l.path.indexOf(u.path)==0&&(d=u.path+"/",c=c.slice(d.length)),s=this.regex?c.match(this.regex):[""]){let h=d+s[0],v=[this.$path],m={};if(this.groups.length)for(let A=0,$=jg(s),k=$.length,T;A<k;A++){let B=$[A];(T=this.groups[A-1])&&(m[T]=B,v.push(B))}if(this.query)for(let A=this.query,$=0,k=Object.keys(A),T=k.length,B,N;$<T;$++){B=k[$],N=A[B];let w=B,x=(n=(e=l.query)==null?void 0:e.get)==null?void 0:n.call(e,B);if(N===!1){if(x)return null;v.push("1");continue}if(N[0]==":"&&(w=N.slice(1),N=!0),N==!0&&x||N==x)m[w]=x,v.push(x);else return null}let E=v.join("*");m=(o=this[qg])[E]||(o[E]=m);let I=cC(u,m);return I.path=h,I}return null}resolve(t=this.router.path){if(this.raw[0]=="/"&&!this.dynamic)return this.raw.replace(/\$/g,"");this.parent.match(t);let e=this.parent.resolve(t),n;if(this.dynamic){let s=this.match(t);return s?s.path:null}return this.raw[0]=="?"?n=(e||"/")+this.raw:n=e+"/"+this.raw,n.replace(/\$/g,"").replace(/\/\/+/g,"/")}},Wg=Symbol.for("#__initor__"),Hg=Symbol.for("#__inited__"),N0=Symbol.for("#__init__"),Pa=Symbol.for("#idler"),Cs=Symbol.for("#resolve"),Gg=Symbol(),R0=class extends Set{static[N0](){return this.prototype[Wg]=Gg,this}constructor(){super(),this[Pa]=Promise.resolve(this),this[Wg]===Gg&&this[Hg]&&this[Hg]()}emit(t,...e){return vi(this,t,e)}on(t,...e){return mo(this,t,...e)}once(t,...e){return Ln(this,t,...e)}un(t,...e){return Eu(this,t,...e)}add(t){var e=this;if(t instanceof Function&&(t=t()),!this.has(t)){t.then(function(){return e.delete(t)});let n=e.size==0;super.add(t),n&&(this[Pa]=this[Cs]=null,e.emit("busy",e))}return t}delete(t){return super.delete(t)?(this.size==0&&(this[Cs]&&(this[Cs](this),this[Cs]=null),this.emit("idle",this)),!0):!1}get idle(){var t=this;return this[Pa]||(this[Pa]=new Promise(function(e){return t[Cs]=e}))}};R0[N0]();function th(t,e){let n=Object.getOwnPropertyDescriptors(e);return delete n.constructor,Object.defineProperties(t,n),t}var Yg=Symbol.for("#__initor__"),Qg=Symbol.for("#__inited__"),L0=Symbol.for("#__init__"),of=Symbol.for("#enter"),af=Symbol.for("#resolved"),du=Symbol.for("#leave"),Jg=Symbol.for("#afterVisitRouted"),Xg=Symbol.for("#afterVisitRouteTo"),Zg=Symbol.for("#router"),Mi=Symbol.for("#doc"),gr=Symbol.for("#version"),pC=Symbol.for("#routes"),ey=Symbol.for("#origin"),wc=Symbol.for("#request"),Ps=Symbol.for("#hash"),$n=Symbol.for("#routeTo"),Is=Symbol.for("#path"),Hn=Symbol.for("#match"),Js=Symbol.for("#options"),vC=Symbol.for("#cache"),ty=Symbol.for("#unmatched"),Dr=Symbol.for("#active"),gC=Symbol.for("#resolvedPath"),yC=Symbol.for("#dataKey"),mC=Symbol.for("#activeKey"),Xs=Symbol.for("#urlKey"),Fi=Symbol.for("#dataMap"),Ia=Symbol.for("#href"),Yt=Symbol.for("#route"),ny=Symbol.for("#context"),ry=Symbol.for("#afterVisit"),iy=Symbol.for("#routeHandler"),_C=Symbol.for("#parentNode"),bC=Symbol.for("#visitContext"),sy=Symbol.for("##visitContext"),AC=Symbol.for("#attachToParent"),wC=Symbol.for("#detachFromParent"),oy=Symbol(),SC=class{get router(){return this[Zg]||(this[Zg]=new D0(this))}};th(Wf.prototype,SC.prototype);sT(function(){return globalThis.document.router});var D0=class extends iC.EventEmitter{static[L0](){return this.prototype[Yg]=oy,this}constructor(t,e={}){super(),this[Mi]=t,this[gr]=0,this[pC]={},this.aliases={},this.redirects={},this.rules={},this.options=e,this.busy=[],this.queue=new R0,this.root=new dC(this),this.location=new hi(e.url||t.location.href,this),this.history=new oC(this),this.mode=e.mode||"history",this.queue.on("busy",function(){return globalThis.document.flags.incr("_routing_")}),this.queue.on("idle",function(){return globalThis.document.flags.decr("_routing_"),Nt()}),this.setup(),this[Yg]===oy&&this[Qg]&&this[Qg]()}get origin(){return this[ey]||(this[ey]=this[Mi].location.origin)}get query(){return this.location.query}init(){return this.refresh({mode:"replace"}),this}alias(t,e){return this.aliases[t]=e,this.location.reparse(),this}touch(){return this[gr]++}option(t,e){return e==null?this.options[t]:(this.options[t]=e,this)}get realpath(){let t=this[Mi].location;return t.href.slice(t.origin.length)}get state(){return this.history.state}get states(){return this.history.currentStates}set state(t){this.state.data=t,this.state.save()}get ctx(){return this[wc]}pushState(t,e,n){return this.history.pushState(t,e||null,String(n))}replaceState(t,e,n){return this.history.replaceState(t,e||null,String(n))}refresh(t={}){var e=this;if(this.refreshing)return;this.refreshing=!0;let n=this.location,s=hi.parse(t.location||this.realpath,this),o=t.mode,u=this[wc];if(!s.equals(n)||!u||t.state){let l=new zg(this,s,n,t);this[wc]=l,this.emit("beforechange",l),l.aborted&&(!l.forceAbort&&globalThis.window.confirm("Are you sure you want to leave? You might have unsaved changes")?l.aborted=!1:o=="pop"?this.pushState(this.state,null,String(n)):o=="replace"&&this.replaceState(this.state,null,String(n))),l.aborted||(this.location=l.location,o=="push"?this.pushState(l.state,null,String(this.location)):o=="replace"?this.replaceState(l.state,null,String(this.location)):o=="pop"&&(this.history.index=t.index),this.emit("change",l),this.touch(),Nt())}return En.add(function(){let l=e[Mi].location.hash;if(l!=e[Ps])return e.emit("hashchange",e[Ps]=l)}),e.refreshing=!1,e}onpopstate(t){let e=this.history.index,n=e,s={pop:!0,index:0,from:e,mode:"pop"};try{if(typeof t.state=="string"){let[o,u]=t.state.split("|");n=s.index=parseInt(u),n<e?s.revert=this.history.slice(n+1,e+1).reverse():n>e&&(s.apply=this.history.slice(e+1,n+1))}}catch{}return this.refresh(s),this}onbeforeunload(t){let e=new zg(this,null,this.location,{mode:"unload"});if(this.emit("beforechange",e),e.aborted)return!0}onhashchange(t){return this.emit("hashchange",this[Ps]=this[Mi].location.hash),Nt()}setup(){this.onclick=this.onclick.bind(this),this.onhashchange=this.onhashchange.bind(this);let t=globalThis.window;return this[Ps]=this[Mi].location.hash,this.location=hi.parse(this.realpath,this),t.onpopstate=this.onpopstate.bind(this),t.onbeforeunload=this.onbeforeunload.bind(this),t.addEventListener("hashchange",this.onhashchange),t.addEventListener("click",this.onclick,{capture:!0}),t.document.documentElement.emit("routerinit",this),this.refresh,this}onclick(t){if(t.metaKey||t.altKey)return;let e=null,n=null,s=t.target;for(;s&&(!e||!n);)!e&&s.nodeName=="A"&&(e=s),!n&&s[$n]&&(n=s),s=s.parentNode;if(e&&n!=e&&(!n||n.contains(e))){let o=e.getAttribute("href");o&&!o.match(/\:\/\//)&&(!e.getAttribute("target")||e.getAttribute("target")=="_self")&&!e.classList.contains("external")&&e.addEventListener("click",this.onclicklink.bind(this),{once:!0})}return!0}onclicklink(t){let e=t.currentTarget||t.target;e[$n]&&e[$n].resolve(),e.getAttribute("href");let n=new URL(e.href),s=n.href.slice(n.origin.length),o=this.realpath.split("#")[0],u=s.split("#")[0];return o==u?globalThis.document.location.hash=n.hash:e[$n]?e[$n].go():this.go(s),t.stopPropagation(),t.preventDefault()}get url(){return this.location.url}get path(){let t=this.location.path;return this.aliases[t]||t}get pathname(){return this.location.pathname}serializeParams(t){var e;if(t instanceof Object){e=[];for(let n=0,s=Object.keys(t),o=s.length,u,l;n<o;n++)u=s[n],l=t[u],e.push([u,globalThis.encodeURI(l)].join("="));return e.join("&")}return t||""}get hash(){return this[Ps]}set hash(t){this.history.replaceState(this.state,null,"#"+this.serializeParams(t))}match(t){return this.route(t).match(this.path)}route(t){return this.root.route(t)}go(t,e=null){if(typeof t=="object"&&e===null&&(e=t,t=this.path),typeof t=="number")return globalThis.history.go(t),this;let n=this.location.clone().update(t),s=this.history.buildState(e,n.path,!0);return this.refresh({push:!0,mode:"push",location:n,state:s,apply:[s]}),this}replace(t,e=null){typeof t=="object"&&e===null&&(e=t,t=this.path);let n=this.location.clone().update(t),s=this.history.buildState(e,n.path,!1);return this.refresh({replace:!0,mode:"replace",location:n,state:s,apply:[s]})}};D0[L0]();var B0=class{constructor(t,e,n,s={}){this.parent=n,this.node=t,this[Is]=e,this[Hn]=null,this[Js]=s,this[vC]={},this[ty]={},this[Dr]=null,this[gC]=null,this[yC]=Symbol(),this[mC]=Symbol(),this[Xs]=Symbol()}get router(){return this.node.ownerDocument.router}get route(){return(this.parent?this.parent.route:this.router).route(this[Is])}get match(){return this[Hn]}get params(){return this[Hn]||this[ty]}get state(){this[Fi]||(this[Fi]=new Map);let t=this.params,e=this[Fi].get(t);return e||this[Fi].set(t,e={}),e}set state(t){(this[Fi]||(this[Fi]=new Map)).set(this.params,t)}set path(t){this[Is]!=t&&(this[Is]=t,!0)&&this.router.touch()}get path(){return this[Is]}get isActive(){return!!this[Dr]}get active\u03A6(){return!!this[Dr]}resolve(){let t=this.router[gr];if(!(this[gr]!=t&&(this[gr]=t,!0)))return;let e=this.route;this[Js];let n=this.router.path,s=e.match(n),o=this[Dr],u=this[Hn],l=s!=u,c=s&&s[this[Xs]];return s&&(this[Dr]=!0,this[Hn]=s,s[this[Xs]]=n),s&&(l||c!=n||!o)&&this[af](s,u,c),!o&&s&&this[of](),!s&&(o||o===null)&&(this[Dr]=!1,this[du]()),this[Hn]}[of](){var t,e;return this.node.flags.remove("not-routed"),this.node.flags.add("routed"),(e=(t=this.node)==null?void 0:t.routeDidEnter)==null?void 0:e.call(t,this)}[af](t,e,n=""){var s,o;return(o=(s=this.node)==null?void 0:s.routeDidResolve)==null?void 0:o.call(s,this,t,e,n)}[du](){var t,e;return this.node.flags.add("not-routed"),this.node.flags.remove("routed"),(e=(t=this.node)==null?void 0:t.routeDidLeave)==null?void 0:e.call(t,this)}},$C=class extends B0{[of](){return this}[af](){return this}[du](){return this}resolve(){let t=this.router[gr];if(!(this[gr]!=t&&(this[gr]=t,!0)))return;let e=this[Js];this.route;let n=this.router.path,s=this.route.resolve(n),o=this.route.match(n);o&&(this[Hn]=o,this[Hn][this[Xs]]=n),e.sticky&&this[Hn]&&(s=this[Hn][this[Xs]]),this[Ia]!=s&&(this[Ia]=s,!0)&&this.node.nodeName=="A"&&this.node.setAttribute("href",s),this.node.flags.toggle("active",!!o)}go(){return this.resolve(),this[Js]&&this[Js].replace?this.router.replace(this[Ia]):this.router.go(this[Ia])}},xC=class{get router(){return this.ownerDocument.router}};th(Xi.prototype,xC.prototype);var EC=class{set route(t){if(this[Yt]){this[Yt].path=t;return}let e=t[0]!="/"?this[ny].route:null;this[Yt]=new B0(this,t,e,this.route__),this[ry]=this[Jg]}get route(){return this[Yt]}set route\u039Eto(t){var e=this;if(this[$n]){this[$n].path=t;return}let n=t[0]!="/"?this[ny].route:null;this[Yt]=this[$n]=new $C(this,t,n,this.routeTo__),this[ry]=this[Xg],e.onclick=function(s){if(!s.altKey&&!s.metaKey&&!s[iy])return s.preventDefault(),s[iy]=e[$n],e[$n].go()}}[Jg](){if(this[Yt]){let t=this[_C],e=t&&t[bC];if(e&&e.matchedRoute&&e.matchedRoute!=this[Yt]){this[Yt][Dr]!=!1&&(this[Yt][Dr]=!1,!0)&&(this[Yt][du](),this[Yt][gr]=-1);return}if(this[Yt].resolve(),this[Yt].active\u03A6)e.matchedRoute=this[Yt];else return}if(this.visit&&this.visit(),this[sy])return this[sy]=null}[Xg](){if(this[$n]&&this[$n].resolve(),this.visit)return this.visit()}routeDidEnter(t){return this[AC]()}routeDidLeave(t){return this[wC]()}routeDidResolve(t,e,n){var s=this;this.routed instanceof Function&&e!=n&&s.router.queue.add(async function(){return s.suspend(),await s.routed(e,t.state,n),s.unsuspend()})}};th(ft.prototype,EC.prototype);function pu(t){let e;return t?(e=t.toIterable)?e.call(t):t:[]}function nh(t,e){let n=Object.getOwnPropertyDescriptors(e);return delete n.constructor,Object.defineProperties(t,n),t}var rh=Symbol.for("##reactive"),li=Symbol.for("##referenced"),oo=Symbol.for("##dereferenced"),Na=Symbol.for("#child"),Ns=Symbol.for("#reactions"),TC={TOUCHING:1<<1,STALE:1<<2,OBJECT:1<<3,RUNNING:1<<4,INVALIDATING:1<<5,POSSIBLY_STALE:1<<6,AUTORUN:1<<7},OC=1,vu=Symbol.for("~"),At=function(t,e){return e},Tn=function(t,e){return t[vu].invalidated(0),e},Zi=function(t,e,n){let s=t[vu];return s||(s=t[vu]=new PC(TC.OBJECT),Object.defineProperties(t,n)),e&&s.addSubscriber(e),t},ih=function(t,e){let n=t[vu];return n&&n.removeSubscriber(e),t},kC=class{constructor(t){this.changes=new Map,this.cleanup(),t&&this.reset(t)}reset(t=[]){return this.array=t,this.initialLength=t.length}cleanup(){return this.idx=0,this.array=null,this.changes.clear(),this.dirty=!1}push(t){if(this.initialLength==0){this.array.indexOf(t)<0&&(this.changes.set(t,1),this.array.push(t),this.idx++);return}let e=this.array[this.idx];if(e===t)return++this.idx;{let n=this.array.indexOf(t),s=this.changes.get(t);if(n===-1)this.array.splice(this.idx,0,t),this.changes.set(t,1),this.idx++;else if(n===this.idx+1)e&&this.changes.set(e,-1),this.array.splice(this.idx,1),++this.idx;else{if(n<this.idx)return;n>this.idx&&this.array.splice(n,1),this.array.splice(this.idx,0,t)}if(s==-1)return this.changes.delete(t)}}end(){if(this.array.length>=this.idx)for(;this.array.length>this.idx;)this.changes.set(this.array.pop(),-1);return this.array}patch(){return this.end()}};function sh(t){let e=Object.getOwnPropertyDescriptors(t.prototype);return e.name,delete e.name,e.constructor,delete e.constructor,e}var M0=class{constructor(t,e=0){this.depth=e,this.parent=t,this.target=null,this.patcher=new kC}get active\u03A6(){return Qn==this}get root\u03A6(){return this==Wi}get snapshot(){let t=[],e=this[Na];for(;e&&e.target;)t.push({depth:e.depth,target:e.target,beacon:e.beacon}),e=e[Na];return t}reset(t){return this.tracking=!0,this.target=t,this.beacon=t.beacon,this.patcher.reset(t.observing||(t.observing=[])),this}add(t){if(this.tracking&&t)return this.patcher.push(t)}react(t){return Wi.reactions.add(t)}push(t){return Qn=this.child.reset(t)}pop(){let t=null;if(this.beacon){t=this.patcher.end();let e=this.patcher.changes;if(e.size)for(let[n,s]of pu(e))s===1?n.addSubscriber(this.beacon):n.removeSubscriber(this.beacon)}return this.patcher.cleanup(),this.target=this.beacon=null,Qn=this.parent,Qn==Wi&&Wi.flush(),t}get child(){return this[Na]||(this[Na]=new M0(this,this.depth+1))}get reactions(){return this[Ns]||(this[Ns]=new Set)}flush(){if(!this[Ns])return;let t=this[Ns];this[Ns]=null;for(let e of pu(t))e.call()}},CC=class extends M0{add(){return!0}},Qn=new CC(null,0),Wi=Qn,PC=class{constructor(t,e,n,s){return this.id=OC++,this.observer=null,this.observers=null,n&&n[li]&&n[li](this),this}changed(t,e,n){if(n&&n[oo]&&n[oo](this,e),e&&e[li]&&e[li](this,n),this.observer&&this.observer.invalidated(t+1,this,e,n),this.observers)for(let s=0,o=pu(this.observers),u=o.length;s<u;s++)o[s].invalidated(t+1,this,e,n);Qn==Wi&&Qn.flush()}invalidated(t,e){if(this.observer&&this.observer.invalidated(t+1,this),this.observers)for(let n=0,s=pu(this.observers),o=s.length;n<o;n++)s[n].invalidated(t+1,this);return t==0&&Qn==Wi&&Qn.flush(),!0}addSubscriber(t){this.observer?(this.observers||(this.observers=[]),this.observers.push(t)):this.observer=t}removeSubscriber(t){if(this.observer==t)return this.observer=null;let e=this.observers,n=e.indexOf(t);n>=0&&e.splice(n,1)}reportChanged(){return this.changed(0)}reportObserved(){return Qn.add(this)}},IC=class extends Array{push(){return Tn(this,super.push(...arguments))}pop(){return Tn(this,super.pop(...arguments))}unshift(){return Tn(this,super.unshift(...arguments))}shift(){return Tn(this,super.shift(...arguments))}splice(){return Tn(this,super.splice(...arguments))}at(){return At(this,super.at(...arguments))}map(){return At(this,super.map(...arguments))}flatMap(){return At(this,super.flatMap(...arguments))}flat(){return At(this,super.flat(...arguments))}filter(){return At(this,super.filter(...arguments))}find(){return At(this,super.find(...arguments))}slice(){return At(this,super.slice(...arguments))}sort(){return At(this,super.sort(...arguments))}get len(){return At(this,this.length)}set len(t){this.length=t,Tn(this)}toIterable(){return this}[Symbol.iterator](){return At(this,super[Symbol.iterator](...arguments))}},ay=sh(IC),NC=class{get len(){return this.length}set len(t){this.length=t}get[rh](){return Zi(this,null,ay)}[li](t){return Zi(this,t,ay)}[oo](t){return ih(this,t)}};nh(Array.prototype,NC.prototype);var RC=class extends Set{has(){return At(this,super.has(...arguments))}keys(){return At(this,super.keys(...arguments))}values(){return At(this,super.values(...arguments))}entries(){return At(this,super.entries(...arguments))}add(){return Tn(this,super.add(...arguments))}clear(){return Tn(this,super.clear(...arguments))}delete(){return Tn(this,super.delete(...arguments))}},uy=sh(RC),LC=class{get[rh](){return Zi(this,null,uy)}[li](t){return Zi(this,t,uy)}[oo](t){return ih(this,t)}};nh(Set.prototype,LC.prototype);var DC=class extends Map{get(){return At(this,super.get(...arguments))}has(){return At(this,super.has(...arguments))}keys(){return At(this,super.keys(...arguments))}values(){return At(this,super.values(...arguments))}entries(){return At(this,super.entries(...arguments))}set(){return Tn(this,super.set(...arguments))}clear(){return Tn(this,super.clear(...arguments))}delete(){return Tn(this,super.delete(...arguments))}},ly=sh(DC),BC=class{get[rh](){return Zi(this,null,ly)}[li](t){return Zi(this,t,ly)}[oo](t){return ih(this,t)}};nh(Map.prototype,BC.prototype);const MC="fuzzyhome",FC="0.2.1",UC={start:"vite",dev:"vite",build:"vite build",preview:"vite preview","publish-preview":"npx gh-pages --no-history --dotfiles --dist dist/ --branch preview","publish-release":"npx gh-pages --no-history --dotfiles --dist dist/ --branch release"},KC={dexie:"^3.2.2","dexie-export-import":"^1.0.3",downloadjs:"^1.4.7",fzi:"^1.1.0",imba:"^2.0.0-alpha.225",lodash:"^4.17.21",mathjs:"^11.1.0",nanoid:"^4.0.0",vite:"^3.2.5","vite-plugin-imba":"^0.10.1"},zC="A lightweight new-tab page that lets you very quickly fuzzy find links and navigate to a result.",jC="https://fuzzyho.me/",qC="Mikey Oz (https://github.com/familyfriendlymikey)",VC={"vite-plugin-pwa":"^0.14.0"},WC={name:MC,version:FC,scripts:UC,dependencies:KC,description:zC,homepage:jC,author:qC,devDependencies:VC};let F0=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),""),cy=console.log;function Qt(t,e){return cy("error:"),cy(e),window.alert("Error "+t+`:

`+e)}globalThis._fuzzyhome_delete_everything=function(t=!0){if(!(t&&window.confirm("This will delete everything. Are you sure?")))return indexedDB.deleteDatabase("fuzzyhome"),delete localStorage.fuzzyhome_config,delete localStorage.fuzzyhome_visited,location.reload()};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.
Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.
THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ye=function(){return Ye=Object.assign||function(e){for(var n,s=1,o=arguments.length;s<o;s++){n=arguments[s];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(e[u]=n[u])}return e},Ye.apply(this,arguments)};function uf(t,e,n){if(n||arguments.length===2)for(var s=0,o=e.length,u;s<o;s++)(u||!(s in e))&&(u||(u=Array.prototype.slice.call(e,0,s)),u[s]=e[s]);return t.concat(u||Array.prototype.slice.call(e))}var ut=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,mt=Object.keys,Ft=Array.isArray;typeof Promise<"u"&&!ut.Promise&&(ut.Promise=Promise);function qt(t,e){return typeof e!="object"||mt(e).forEach(function(n){t[n]=e[n]}),t}var ao=Object.getPrototypeOf,HC={}.hasOwnProperty;function hn(t,e){return HC.call(t,e)}function es(t,e){typeof e=="function"&&(e=e(ao(t))),(typeof Reflect>"u"?mt:Reflect.ownKeys)(e).forEach(function(n){mr(t,n,e[n])})}var U0=Object.defineProperty;function mr(t,e,n,s){U0(t,e,qt(n&&hn(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},s))}function rs(t){return{from:function(e){return t.prototype=Object.create(e.prototype),mr(t.prototype,"constructor",t),{extend:es.bind(null,t.prototype)}}}}var GC=Object.getOwnPropertyDescriptor;function oh(t,e){var n=GC(t,e),s;return n||(s=ao(t))&&oh(s,e)}var YC=[].slice;function Tu(t,e,n){return YC.call(t,e,n)}function K0(t,e){return e(t)}function Us(t){if(!t)throw new Error("Assertion Failed")}function z0(t){ut.setImmediate?setImmediate(t):setTimeout(t,0)}function j0(t,e){return t.reduce(function(n,s,o){var u=e(s,o);return u&&(n[u[0]]=u[1]),n},{})}function QC(t,e,n){try{t.apply(null,n)}catch(s){e&&e(s)}}function yr(t,e){if(hn(t,e))return t[e];if(!e)return t;if(typeof e!="string"){for(var n=[],s=0,o=e.length;s<o;++s){var u=yr(t,e[s]);n.push(u)}return n}var l=e.indexOf(".");if(l!==-1){var c=t[e.substr(0,l)];return c===void 0?void 0:yr(c,e.substr(l+1))}}function Bn(t,e,n){if(!(!t||e===void 0)&&!("isFrozen"in Object&&Object.isFrozen(t)))if(typeof e!="string"&&"length"in e){Us(typeof n!="string"&&"length"in n);for(var s=0,o=e.length;s<o;++s)Bn(t,e[s],n[s])}else{var u=e.indexOf(".");if(u!==-1){var l=e.substr(0,u),c=e.substr(u+1);if(c==="")n===void 0?Ft(t)&&!isNaN(parseInt(l))?t.splice(l,1):delete t[l]:t[l]=n;else{var d=t[l];(!d||!hn(t,l))&&(d=t[l]={}),Bn(d,c,n)}}else n===void 0?Ft(t)&&!isNaN(parseInt(e))?t.splice(e,1):delete t[e]:t[e]=n}}function JC(t,e){typeof e=="string"?Bn(t,e,void 0):"length"in e&&[].map.call(e,function(n){Bn(t,n,void 0)})}function q0(t){var e={};for(var n in t)hn(t,n)&&(e[n]=t[n]);return e}var XC=[].concat;function V0(t){return XC.apply([],t)}var W0="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(V0([8,16,32,64].map(function(t){return["Int","Uint","Float"].map(function(e){return e+t+"Array"})}))).filter(function(t){return ut[t]}),ZC=W0.map(function(t){return ut[t]});j0(W0,function(t){return[t,!0]});var Br=null;function Ao(t){Br=typeof WeakMap<"u"&&new WeakMap;var e=lf(t);return Br=null,e}function lf(t){if(!t||typeof t!="object")return t;var e=Br&&Br.get(t);if(e)return e;if(Ft(t)){e=[],Br&&Br.set(t,e);for(var n=0,s=t.length;n<s;++n)e.push(lf(t[n]))}else if(ZC.indexOf(t.constructor)>=0)e=t;else{var o=ao(t);e=o===Object.prototype?{}:Object.create(o),Br&&Br.set(t,e);for(var u in t)hn(t,u)&&(e[u]=lf(t[u]))}return e}var e3={}.toString;function cf(t){return e3.call(t).slice(8,-1)}var ff=typeof Symbol<"u"?Symbol.iterator:"@@iterator",t3=typeof ff=="symbol"?function(t){var e;return t!=null&&(e=t[ff])&&e.apply(t)}:function(){return null},ji={};function pr(t){var e,n,s,o;if(arguments.length===1){if(Ft(t))return t.slice();if(this===ji&&typeof t=="string")return[t];if(o=t3(t)){for(n=[];s=o.next(),!s.done;)n.push(s.value);return n}if(t==null)return[t];if(e=t.length,typeof e=="number"){for(n=new Array(e);e--;)n[e]=t[e];return n}return[t]}for(e=arguments.length,n=new Array(e);e--;)n[e]=arguments[e];return n}var ah=typeof Symbol<"u"?function(t){return t[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Jn=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function H0(t,e){Jn=t,G0=e}var G0=function(){return!0},n3=!new Error("").stack;function mi(){if(n3)try{throw mi.arguments,new Error}catch(t){return t}return new Error}function hf(t,e){var n=t.stack;return n?(e=e||0,n.indexOf(t.name)===0&&(e+=(t.name+t.message).split(`
`).length),n.split(`
`).slice(e).filter(G0).map(function(s){return`
`+s}).join("")):""}var r3=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],Y0=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],uh=r3.concat(Y0),i3={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function is(t,e){this._e=mi(),this.name=t,this.message=e}rs(is).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+hf(this._e,2))}},toString:function(){return this.name+": "+this.message}});function Q0(t,e){return t+". Errors: "+Object.keys(e).map(function(n){return e[n].toString()}).filter(function(n,s,o){return o.indexOf(n)===s}).join(`
`)}function gu(t,e,n,s){this._e=mi(),this.failures=e,this.failedKeys=s,this.successCount=n,this.message=Q0(t,e)}rs(gu).from(is);function Zs(t,e){this._e=mi(),this.name="BulkError",this.failures=Object.keys(e).map(function(n){return e[n]}),this.failuresByPos=e,this.message=Q0(t,e)}rs(Zs).from(is);var lh=uh.reduce(function(t,e){return t[e]=e+"Error",t},{}),s3=is,Pe=uh.reduce(function(t,e){var n=e+"Error";function s(o,u){this._e=mi(),this.name=n,o?typeof o=="string"?(this.message=""+o+(u?`
 `+u:""),this.inner=u||null):typeof o=="object"&&(this.message=o.name+" "+o.message,this.inner=o):(this.message=i3[e]||n,this.inner=null)}return rs(s).from(s3),t[e]=s,t},{});Pe.Syntax=SyntaxError;Pe.Type=TypeError;Pe.Range=RangeError;var fy=Y0.reduce(function(t,e){return t[e+"Error"]=Pe[e],t},{});function o3(t,e){if(!t||t instanceof is||t instanceof TypeError||t instanceof SyntaxError||!t.name||!fy[t.name])return t;var n=new fy[t.name](e||t.message,t);return"stack"in t&&mr(n,"stack",{get:function(){return this.inner.stack}}),n}var Ou=uh.reduce(function(t,e){return["Syntax","Type","Range"].indexOf(e)===-1&&(t[e+"Error"]=Pe[e]),t},{});Ou.ModifyError=gu;Ou.DexieError=is;Ou.BulkError=Zs;function it(){}function wo(t){return t}function a3(t,e){return t==null||t===wo?e:function(n){return e(t(n))}}function gi(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function u3(t,e){return t===it?e:function(){var n=t.apply(this,arguments);n!==void 0&&(arguments[0]=n);var s=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var u=e.apply(this,arguments);return s&&(this.onsuccess=this.onsuccess?gi(s,this.onsuccess):s),o&&(this.onerror=this.onerror?gi(o,this.onerror):o),u!==void 0?u:n}}function l3(t,e){return t===it?e:function(){t.apply(this,arguments);var n=this.onsuccess,s=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?gi(n,this.onsuccess):n),s&&(this.onerror=this.onerror?gi(s,this.onerror):s)}}function c3(t,e){return t===it?e:function(n){var s=t.apply(this,arguments);qt(n,s);var o=this.onsuccess,u=this.onerror;this.onsuccess=null,this.onerror=null;var l=e.apply(this,arguments);return o&&(this.onsuccess=this.onsuccess?gi(o,this.onsuccess):o),u&&(this.onerror=this.onerror?gi(u,this.onerror):u),s===void 0?l===void 0?void 0:l:qt(s,l)}}function f3(t,e){return t===it?e:function(){return e.apply(this,arguments)===!1?!1:t.apply(this,arguments)}}function ch(t,e){return t===it?e:function(){var n=t.apply(this,arguments);if(n&&typeof n.then=="function"){for(var s=this,o=arguments.length,u=new Array(o);o--;)u[o]=arguments[o];return n.then(function(){return e.apply(s,u)})}return e.apply(this,arguments)}}var uo={},h3=100,d3=20,J0=100,fh=typeof Promise>"u"?[]:function(){var t=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[t,ao(t),t];var e=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[e,ao(e),t]}(),df=fh[0],yu=fh[1],pf=fh[2],X0=yu&&yu.then,Ga=df&&df.constructor,hh=!!pf,vf=!1,p3=pf?function(){pf.then(Ra)}:ut.setImmediate?setImmediate.bind(null,Ra):ut.MutationObserver?function(){var t=document.createElement("div");new MutationObserver(function(){Ra(),t=null}).observe(t,{attributes:!0}),t.setAttribute("i","1")}:function(){setTimeout(Ra,0)},lo=function(t,e){Ks.push([t,e]),mu&&(p3(),mu=!1)},gf=!0,mu=!0,di=[],Ya=[],yf=null,mf=wo,Ji={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:py,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(function(t){try{py(t[0],t[1])}catch{}})}},xe=Ji,Ks=[],pi=0,Qa=[];function ye(t){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=it,this._lib=!1;var e=this._PSD=xe;if(Jn&&(this._stackHolder=mi(),this._prev=null,this._numPrev=0),typeof t!="function"){if(t!==uo)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&bf(this,this._value);return}this._state=null,this._value=null,++e.ref,eA(this,t)}var _f={get:function(){var t=xe,e=_u;function n(s,o){var u=this,l=!t.global&&(t!==xe||e!==_u),c=l&&!_r(),d=new ye(function(h,v){dh(u,new Z0(Au(s,t,l,c),Au(o,t,l,c),h,v,t))});return Jn&&rA(d,this),d}return n.prototype=uo,n},set:function(t){mr(this,"then",t&&t.prototype===uo?_f:{get:function(){return t},set:_f.set})}};es(ye.prototype,{then:_f,_then:function(t,e){dh(this,new Z0(null,null,t,e,xe))},catch:function(t){if(arguments.length===1)return this.then(null,t);var e=arguments[0],n=arguments[1];return typeof e=="function"?this.then(null,function(s){return s instanceof e?n(s):Ja(s)}):this.then(null,function(s){return s&&s.name===e?n(s):Ja(s)})},finally:function(t){return this.then(function(e){return t(),e},function(e){return t(),Ja(e)})},stack:{get:function(){if(this._stack)return this._stack;try{vf=!0;var t=nA(this,[],d3),e=t.join(`
From previous: `);return this._state!==null&&(this._stack=e),e}finally{vf=!1}}},timeout:function(t,e){var n=this;return t<1/0?new ye(function(s,o){var u=setTimeout(function(){return o(new Pe.Timeout(e))},t);n.then(s,o).finally(clearTimeout.bind(null,u))}):this}});typeof Symbol<"u"&&Symbol.toStringTag&&mr(ye.prototype,Symbol.toStringTag,"Dexie.Promise");Ji.env=iA();function Z0(t,e,n,s,o){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof e=="function"?e:null,this.resolve=n,this.reject=s,this.psd=o}es(ye,{all:function(){var t=pr.apply(null,arguments).map(bu);return new ye(function(e,n){t.length===0&&e([]);var s=t.length;t.forEach(function(o,u){return ye.resolve(o).then(function(l){t[u]=l,--s||e(t)},n)})})},resolve:function(t){if(t instanceof ye)return t;if(t&&typeof t.then=="function")return new ye(function(n,s){t.then(n,s)});var e=new ye(uo,!0,t);return rA(e,yf),e},reject:Ja,race:function(){var t=pr.apply(null,arguments).map(bu);return new ye(function(e,n){t.map(function(s){return ye.resolve(s).then(e,n)})})},PSD:{get:function(){return xe},set:function(t){return xe=t}},totalEchoes:{get:function(){return _u}},newPSD:qr,usePSD:os,scheduler:{get:function(){return lo},set:function(t){lo=t}},rejectionMapper:{get:function(){return mf},set:function(t){mf=t}},follow:function(t,e){return new ye(function(n,s){return qr(function(o,u){var l=xe;l.unhandleds=[],l.onunhandled=u,l.finalize=gi(function(){var c=this;g3(function(){c.unhandleds.length===0?o():u(c.unhandleds[0])})},l.finalize),t()},e,n,s)})}});Ga&&(Ga.allSettled&&mr(ye,"allSettled",function(){var t=pr.apply(null,arguments).map(bu);return new ye(function(e){t.length===0&&e([]);var n=t.length,s=new Array(n);t.forEach(function(o,u){return ye.resolve(o).then(function(l){return s[u]={status:"fulfilled",value:l}},function(l){return s[u]={status:"rejected",reason:l}}).then(function(){return--n||e(s)})})})}),Ga.any&&typeof AggregateError<"u"&&mr(ye,"any",function(){var t=pr.apply(null,arguments).map(bu);return new ye(function(e,n){t.length===0&&n(new AggregateError([]));var s=t.length,o=new Array(s);t.forEach(function(u,l){return ye.resolve(u).then(function(c){return e(c)},function(c){o[l]=c,--s||n(new AggregateError(o))})})})}));function eA(t,e){try{e(function(n){if(t._state===null){if(n===t)throw new TypeError("A promise cannot be resolved with itself.");var s=t._lib&&So();n&&typeof n.then=="function"?eA(t,function(o,u){n instanceof ye?n._then(o,u):n.then(o,u)}):(t._state=!0,t._value=n,tA(t)),s&&$o()}},bf.bind(null,t))}catch(n){bf(t,n)}}function bf(t,e){if(Ya.push(e),t._state===null){var n=t._lib&&So();e=mf(e),t._state=!1,t._value=e,Jn&&e!==null&&typeof e=="object"&&!e._promise&&QC(function(){var s=oh(e,"stack");e._promise=t,mr(e,"stack",{get:function(){return vf?s&&(s.get?s.get.apply(e):s.value):t.stack}})}),y3(t),tA(t),n&&$o()}}function tA(t){var e=t._listeners;t._listeners=[];for(var n=0,s=e.length;n<s;++n)dh(t,e[n]);var o=t._PSD;--o.ref||o.finalize(),pi===0&&(++pi,lo(function(){--pi===0&&ph()},[]))}function dh(t,e){if(t._state===null){t._listeners.push(e);return}var n=t._state?e.onFulfilled:e.onRejected;if(n===null)return(t._state?e.resolve:e.reject)(t._value);++e.psd.ref,++pi,lo(v3,[n,t,e])}function v3(t,e,n){try{yf=e;var s,o=e._value;e._state?s=t(o):(Ya.length&&(Ya=[]),s=t(o),Ya.indexOf(o)===-1&&m3(e)),n.resolve(s)}catch(u){n.reject(u)}finally{yf=null,--pi===0&&ph(),--n.psd.ref||n.psd.finalize()}}function nA(t,e,n){if(e.length===n)return e;var s="";if(t._state===!1){var o=t._value,u,l;o!=null?(u=o.name||"Error",l=o.message||o,s=hf(o,0)):(u=o,l=""),e.push(u+(l?": "+l:"")+s)}return Jn&&(s=hf(t._stackHolder,2),s&&e.indexOf(s)===-1&&e.push(s),t._prev&&nA(t._prev,e,n)),e}function rA(t,e){var n=e?e._numPrev+1:0;n<h3&&(t._prev=e,t._numPrev=n)}function Ra(){So()&&$o()}function So(){var t=gf;return gf=!1,mu=!1,t}function $o(){var t,e,n;do for(;Ks.length>0;)for(t=Ks,Ks=[],n=t.length,e=0;e<n;++e){var s=t[e];s[0].apply(null,s[1])}while(Ks.length>0);gf=!0,mu=!0}function ph(){var t=di;di=[],t.forEach(function(s){s._PSD.onunhandled.call(null,s._value,s)});for(var e=Qa.slice(0),n=e.length;n;)e[--n]()}function g3(t){function e(){t(),Qa.splice(Qa.indexOf(e),1)}Qa.push(e),++pi,lo(function(){--pi===0&&ph()},[])}function y3(t){di.some(function(e){return e._value===t._value})||di.push(t)}function m3(t){for(var e=di.length;e;)if(di[--e]._value===t._value){di.splice(e,1);return}}function Ja(t){return new ye(uo,!1,t)}function ct(t,e){var n=xe;return function(){var s=So(),o=xe;try{return Vr(n,!0),t.apply(this,arguments)}catch(u){e&&e(u)}finally{Vr(o,!1),s&&$o()}}}var Bt={awaits:0,echoes:0,id:0},_3=0,Xa=[],Sc=0,_u=0,b3=0;function qr(t,e,n,s){var o=xe,u=Object.create(o);u.parent=o,u.ref=0,u.global=!1,u.id=++b3;var l=Ji.env;u.env=hh?{Promise:ye,PromiseProp:{value:ye,configurable:!0,writable:!0},all:ye.all,race:ye.race,allSettled:ye.allSettled,any:ye.any,resolve:ye.resolve,reject:ye.reject,nthen:hy(l.nthen,u),gthen:hy(l.gthen,u)}:{},e&&qt(u,e),++o.ref,u.finalize=function(){--this.parent.ref||this.parent.finalize()};var c=os(u,t,n,s);return u.ref===0&&u.finalize(),c}function ss(){return Bt.id||(Bt.id=++_3),++Bt.awaits,Bt.echoes+=J0,Bt.id}function _r(){return Bt.awaits?(--Bt.awaits===0&&(Bt.id=0),Bt.echoes=Bt.awaits*J0,!0):!1}(""+X0).indexOf("[native code]")===-1&&(ss=_r=it);function bu(t){return Bt.echoes&&t&&t.constructor===Ga?(ss(),t.then(function(e){return _r(),e},function(e){return _r(),wt(e)})):t}function A3(t){++_u,(!Bt.echoes||--Bt.echoes===0)&&(Bt.echoes=Bt.id=0),Xa.push(xe),Vr(t,!0)}function w3(){var t=Xa[Xa.length-1];Xa.pop(),Vr(t,!1)}function Vr(t,e){var n=xe;if((e?Bt.echoes&&(!Sc++||t!==xe):Sc&&(!--Sc||t!==xe))&&sA(e?A3.bind(null,t):w3),t!==xe&&(xe=t,n===Ji&&(Ji.env=iA()),hh)){var s=Ji.env.Promise,o=t.env;yu.then=o.nthen,s.prototype.then=o.gthen,(n.global||t.global)&&(Object.defineProperty(ut,"Promise",o.PromiseProp),s.all=o.all,s.race=o.race,s.resolve=o.resolve,s.reject=o.reject,o.allSettled&&(s.allSettled=o.allSettled),o.any&&(s.any=o.any))}}function iA(){var t=ut.Promise;return hh?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(ut,"Promise"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject,nthen:yu.then,gthen:t.prototype.then}:{}}function os(t,e,n,s,o){var u=xe;try{return Vr(t,!0),e(n,s,o)}finally{Vr(u,!1)}}function sA(t){X0.call(df,t)}function Au(t,e,n,s){return typeof t!="function"?t:function(){var o=xe;n&&ss(),Vr(e,!0);try{return t.apply(this,arguments)}finally{Vr(o,!1),s&&sA(_r)}}}function hy(t,e){return function(n,s){return t.call(this,Au(n,e),Au(s,e))}}var dy="unhandledrejection";function py(t,e){var n;try{n=e.onuncatched(t)}catch{}if(n!==!1)try{var s,o={promise:e,reason:t};if(ut.document&&document.createEvent?(s=document.createEvent("Event"),s.initEvent(dy,!0,!0),qt(s,o)):ut.CustomEvent&&(s=new CustomEvent(dy,{detail:o}),qt(s,o)),s&&ut.dispatchEvent&&(dispatchEvent(s),!ut.PromiseRejectionEvent&&ut.onunhandledrejection))try{ut.onunhandledrejection(s)}catch{}Jn&&s&&!s.defaultPrevented&&console.warn("Unhandled rejection: "+(t.stack||t))}catch{}}var wt=ye.reject;function Af(t,e,n,s){if(!t.idbdb||!t._state.openComplete&&!xe.letThrough&&!t._vip){if(t._state.openComplete)return wt(new Pe.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._options.autoOpen)return wt(new Pe.DatabaseClosed);t.open().catch(it)}return t._state.dbReadyPromise.then(function(){return Af(t,e,n,s)})}else{var o=t._createTransaction(e,n,t._dbSchema);try{o.create(),t._state.PR1398_maxLoop=3}catch(u){return u.name===lh.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(function(){return Af(t,e,n,s)})):wt(u)}return o._promise(e,function(u,l){return qr(function(){return xe.trans=o,s(u,l,o)})}).then(function(u){return o._completion.then(function(){return u})})}}var vy="3.2.2",ci=String.fromCharCode(65535),wf=-1/0,fr="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",oA="String expected.",eo=[],ku=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),S3=ku,$3=ku,aA=function(t){return!/(dexie\.js|dexie\.min\.js)/.test(t)},Cu="__dbnames",$c="readonly",xc="readwrite";function yi(t,e){return t?e?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:t:e}var uA={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function La(t){return typeof t=="string"&&!/\./.test(t)?function(e){return e[t]===void 0&&t in e&&(e=Ao(e),delete e[t]),e}:function(e){return e}}var x3=function(){function t(){}return t.prototype._trans=function(e,n,s){var o=this._tx||xe.trans,u=this.name;function l(d,h,v){if(!v.schema[u])throw new Pe.NotFound("Table "+u+" not part of transaction");return n(v.idbtrans,v)}var c=So();try{return o&&o.db===this.db?o===xe.trans?o._promise(e,l,s):qr(function(){return o._promise(e,l,s)},{trans:o,transless:xe.transless||xe}):Af(this.db,e,[this.name],l)}finally{c&&$o()}},t.prototype.get=function(e,n){var s=this;return e&&e.constructor===Object?this.where(e).first(n):this._trans("readonly",function(o){return s.core.get({trans:o,key:e}).then(function(u){return s.hook.reading.fire(u)})}).then(n)},t.prototype.where=function(e){if(typeof e=="string")return new this.db.WhereClause(this,e);if(Ft(e))return new this.db.WhereClause(this,"["+e.join("+")+"]");var n=mt(e);if(n.length===1)return this.where(n[0]).equals(e[n[0]]);var s=this.schema.indexes.concat(this.schema.primKey).filter(function(v){return v.compound&&n.every(function(m){return v.keyPath.indexOf(m)>=0})&&v.keyPath.every(function(m){return n.indexOf(m)>=0})})[0];if(s&&this.db._maxKey!==ci)return this.where(s.name).equals(s.keyPath.map(function(v){return e[v]}));!s&&Jn&&console.warn("The query "+JSON.stringify(e)+" on "+this.name+" would benefit of a "+("compound index ["+n.join("+")+"]"));var o=this.schema.idxByName,u=this.db._deps.indexedDB;function l(v,m){try{return u.cmp(v,m)===0}catch{return!1}}var c=n.reduce(function(v,m){var E=v[0],I=v[1],A=o[m],$=e[m];return[E||A,E||!A?yi(I,A&&A.multi?function(k){var T=yr(k,m);return Ft(T)&&T.some(function(B){return l($,B)})}:function(k){return l($,yr(k,m))}):I]},[null,null]),d=c[0],h=c[1];return d?this.where(d.name).equals(e[d.keyPath]).filter(h):s?this.filter(h):this.where(n).equals("")},t.prototype.filter=function(e){return this.toCollection().and(e)},t.prototype.count=function(e){return this.toCollection().count(e)},t.prototype.offset=function(e){return this.toCollection().offset(e)},t.prototype.limit=function(e){return this.toCollection().limit(e)},t.prototype.each=function(e){return this.toCollection().each(e)},t.prototype.toArray=function(e){return this.toCollection().toArray(e)},t.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},t.prototype.orderBy=function(e){return new this.db.Collection(new this.db.WhereClause(this,Ft(e)?"["+e.join("+")+"]":e))},t.prototype.reverse=function(){return this.toCollection().reverse()},t.prototype.mapToClass=function(e){this.schema.mappedClass=e;var n=function(s){if(!s)return s;var o=Object.create(e.prototype);for(var u in s)if(hn(s,u))try{o[u]=s[u]}catch{}return o};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=n,this.hook("reading",n),e},t.prototype.defineClass=function(){function e(n){qt(this,n)}return this.mapToClass(e)},t.prototype.add=function(e,n){var s=this,o=this.schema.primKey,u=o.auto,l=o.keyPath,c=e;return l&&u&&(c=La(l)(e)),this._trans("readwrite",function(d){return s.core.mutate({trans:d,type:"add",keys:n!=null?[n]:null,values:[c]})}).then(function(d){return d.numFailures?ye.reject(d.failures[0]):d.lastResult}).then(function(d){if(l)try{Bn(e,l,d)}catch{}return d})},t.prototype.update=function(e,n){if(typeof e=="object"&&!Ft(e)){var s=yr(e,this.schema.primKey.keyPath);if(s===void 0)return wt(new Pe.InvalidArgument("Given object does not contain its primary key"));try{typeof n!="function"?mt(n).forEach(function(o){Bn(e,o,n[o])}):n(e,{value:e,primKey:s})}catch{}return this.where(":id").equals(s).modify(n)}else return this.where(":id").equals(e).modify(n)},t.prototype.put=function(e,n){var s=this,o=this.schema.primKey,u=o.auto,l=o.keyPath,c=e;return l&&u&&(c=La(l)(e)),this._trans("readwrite",function(d){return s.core.mutate({trans:d,type:"put",values:[c],keys:n!=null?[n]:null})}).then(function(d){return d.numFailures?ye.reject(d.failures[0]):d.lastResult}).then(function(d){if(l)try{Bn(e,l,d)}catch{}return d})},t.prototype.delete=function(e){var n=this;return this._trans("readwrite",function(s){return n.core.mutate({trans:s,type:"delete",keys:[e]})}).then(function(s){return s.numFailures?ye.reject(s.failures[0]):void 0})},t.prototype.clear=function(){var e=this;return this._trans("readwrite",function(n){return e.core.mutate({trans:n,type:"deleteRange",range:uA})}).then(function(n){return n.numFailures?ye.reject(n.failures[0]):void 0})},t.prototype.bulkGet=function(e){var n=this;return this._trans("readonly",function(s){return n.core.getMany({keys:e,trans:s}).then(function(o){return o.map(function(u){return n.hook.reading.fire(u)})})})},t.prototype.bulkAdd=function(e,n,s){var o=this,u=Array.isArray(n)?n:void 0;s=s||(u?void 0:n);var l=s?s.allKeys:void 0;return this._trans("readwrite",function(c){var d=o.schema.primKey,h=d.auto,v=d.keyPath;if(v&&u)throw new Pe.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(u&&u.length!==e.length)throw new Pe.InvalidArgument("Arguments objects and keys must have the same length");var m=e.length,E=v&&h?e.map(La(v)):e;return o.core.mutate({trans:c,type:"add",keys:u,values:E,wantResults:l}).then(function(I){var A=I.numFailures,$=I.results,k=I.lastResult,T=I.failures,B=l?$:k;if(A===0)return B;throw new Zs(o.name+".bulkAdd(): "+A+" of "+m+" operations failed",T)})})},t.prototype.bulkPut=function(e,n,s){var o=this,u=Array.isArray(n)?n:void 0;s=s||(u?void 0:n);var l=s?s.allKeys:void 0;return this._trans("readwrite",function(c){var d=o.schema.primKey,h=d.auto,v=d.keyPath;if(v&&u)throw new Pe.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(u&&u.length!==e.length)throw new Pe.InvalidArgument("Arguments objects and keys must have the same length");var m=e.length,E=v&&h?e.map(La(v)):e;return o.core.mutate({trans:c,type:"put",keys:u,values:E,wantResults:l}).then(function(I){var A=I.numFailures,$=I.results,k=I.lastResult,T=I.failures,B=l?$:k;if(A===0)return B;throw new Zs(o.name+".bulkPut(): "+A+" of "+m+" operations failed",T)})})},t.prototype.bulkDelete=function(e){var n=this,s=e.length;return this._trans("readwrite",function(o){return n.core.mutate({trans:o,type:"delete",keys:e})}).then(function(o){var u=o.numFailures,l=o.lastResult,c=o.failures;if(u===0)return l;throw new Zs(n.name+".bulkDelete(): "+u+" of "+s+" operations failed",c)})},t}();function xo(t){var e={},n=function(c,d){if(d){for(var h=arguments.length,v=new Array(h-1);--h;)v[h-1]=arguments[h];return e[c].subscribe.apply(null,v),t}else if(typeof c=="string")return e[c]};n.addEventType=u;for(var s=1,o=arguments.length;s<o;++s)u(arguments[s]);return n;function u(c,d,h){if(typeof c=="object")return l(c);d||(d=f3),h||(h=it);var v={subscribers:[],fire:h,subscribe:function(m){v.subscribers.indexOf(m)===-1&&(v.subscribers.push(m),v.fire=d(v.fire,m))},unsubscribe:function(m){v.subscribers=v.subscribers.filter(function(E){return E!==m}),v.fire=v.subscribers.reduce(d,h)}};return e[c]=n[c]=v,v}function l(c){mt(c).forEach(function(d){var h=c[d];if(Ft(h))u(d,c[d][0],c[d][1]);else if(h==="asap")var v=u(d,wo,function(){for(var E=arguments.length,I=new Array(E);E--;)I[E]=arguments[E];v.subscribers.forEach(function(A){z0(function(){A.apply(null,I)})})});else throw new Pe.InvalidArgument("Invalid event config")})}}function Eo(t,e){return rs(e).from({prototype:t}),e}function E3(t){return Eo(x3.prototype,function(n,s,o){this.db=t,this._tx=o,this.name=n,this.schema=s,this.hook=t._allTables[n]?t._allTables[n].hook:xo(null,{creating:[u3,it],reading:[a3,wo],updating:[c3,it],deleting:[l3,it]})})}function Ui(t,e){return!(t.filter||t.algorithm||t.or)&&(e?t.justLimit:!t.replayFilter)}function Ec(t,e){t.filter=yi(t.filter,e)}function Tc(t,e,n){var s=t.replayFilter;t.replayFilter=s?function(){return yi(s(),e())}:e,t.justLimit=n&&!s}function T3(t,e){t.isMatch=yi(t.isMatch,e)}function Za(t,e){if(t.isPrimKey)return e.primaryKey;var n=e.getIndexByKeyPath(t.index);if(!n)throw new Pe.Schema("KeyPath "+t.index+" on object store "+e.name+" is not indexed");return n}function gy(t,e,n){var s=Za(t,e.schema);return e.openCursor({trans:n,values:!t.keysOnly,reverse:t.dir==="prev",unique:!!t.unique,query:{index:s,range:t.range}})}function Da(t,e,n,s){var o=t.replayFilter?yi(t.filter,t.replayFilter()):t.filter;if(t.or){var u={},l=function(c,d,h){if(!o||o(d,h,function(E){return d.stop(E)},function(E){return d.fail(E)})){var v=d.primaryKey,m=""+v;m==="[object ArrayBuffer]"&&(m=""+new Uint8Array(v)),hn(u,m)||(u[m]=!0,e(c,d,h))}};return Promise.all([t.or._iterate(l,n),yy(gy(t,s,n),t.algorithm,l,!t.keysOnly&&t.valueMapper)])}else return yy(gy(t,s,n),yi(t.algorithm,o),e,!t.keysOnly&&t.valueMapper)}function yy(t,e,n,s){var o=s?function(l,c,d){return n(s(l),c,d)}:n,u=ct(o);return t.then(function(l){if(l)return l.start(function(){var c=function(){return l.continue()};(!e||e(l,function(d){return c=d},function(d){l.stop(d),c=it},function(d){l.fail(d),c=it}))&&u(l.value,l,function(d){return c=d}),c()})})}function jt(t,e){try{var n=my(t),s=my(e);if(n!==s)return n==="Array"?1:s==="Array"?-1:n==="binary"?1:s==="binary"?-1:n==="string"?1:s==="string"?-1:n==="Date"?1:s!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return t>e?1:t<e?-1:0;case"binary":return k3(_y(t),_y(e));case"Array":return O3(t,e)}}catch{}return NaN}function O3(t,e){for(var n=t.length,s=e.length,o=n<s?n:s,u=0;u<o;++u){var l=jt(t[u],e[u]);if(l!==0)return l}return n===s?0:n<s?-1:1}function k3(t,e){for(var n=t.length,s=e.length,o=n<s?n:s,u=0;u<o;++u)if(t[u]!==e[u])return t[u]<e[u]?-1:1;return n===s?0:n<s?-1:1}function my(t){var e=typeof t;if(e!=="object")return e;if(ArrayBuffer.isView(t))return"binary";var n=cf(t);return n==="ArrayBuffer"?"binary":n}function _y(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t)}var C3=function(){function t(){}return t.prototype._read=function(e,n){var s=this._ctx;return s.error?s.table._trans(null,wt.bind(null,s.error)):s.table._trans("readonly",e).then(n)},t.prototype._write=function(e){var n=this._ctx;return n.error?n.table._trans(null,wt.bind(null,n.error)):n.table._trans("readwrite",e,"locked")},t.prototype._addAlgorithm=function(e){var n=this._ctx;n.algorithm=yi(n.algorithm,e)},t.prototype._iterate=function(e,n){return Da(this._ctx,e,n,this._ctx.table.core)},t.prototype.clone=function(e){var n=Object.create(this.constructor.prototype),s=Object.create(this._ctx);return e&&qt(s,e),n._ctx=s,n},t.prototype.raw=function(){return this._ctx.valueMapper=null,this},t.prototype.each=function(e){var n=this._ctx;return this._read(function(s){return Da(n,e,s,n.table.core)})},t.prototype.count=function(e){var n=this;return this._read(function(s){var o=n._ctx,u=o.table.core;if(Ui(o,!0))return u.count({trans:s,query:{index:Za(o,u.schema),range:o.range}}).then(function(c){return Math.min(c,o.limit)});var l=0;return Da(o,function(){return++l,!1},s,u).then(function(){return l})}).then(e)},t.prototype.sortBy=function(e,n){var s=e.split(".").reverse(),o=s[0],u=s.length-1;function l(h,v){return v?l(h[s[v]],v-1):h[o]}var c=this._ctx.dir==="next"?1:-1;function d(h,v){var m=l(h,u),E=l(v,u);return m<E?-c:m>E?c:0}return this.toArray(function(h){return h.sort(d)}).then(n)},t.prototype.toArray=function(e){var n=this;return this._read(function(s){var o=n._ctx;if(o.dir==="next"&&Ui(o,!0)&&o.limit>0){var u=o.valueMapper,l=Za(o,o.table.core.schema);return o.table.core.query({trans:s,limit:o.limit,values:!0,query:{index:l,range:o.range}}).then(function(d){var h=d.result;return u?h.map(u):h})}else{var c=[];return Da(o,function(d){return c.push(d)},s,o.table.core).then(function(){return c})}},e)},t.prototype.offset=function(e){var n=this._ctx;return e<=0?this:(n.offset+=e,Ui(n)?Tc(n,function(){var s=e;return function(o,u){return s===0?!0:s===1?(--s,!1):(u(function(){o.advance(s),s=0}),!1)}}):Tc(n,function(){var s=e;return function(){return--s<0}}),this)},t.prototype.limit=function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),Tc(this._ctx,function(){var n=e;return function(s,o,u){return--n<=0&&o(u),n>=0}},!0),this},t.prototype.until=function(e,n){return Ec(this._ctx,function(s,o,u){return e(s.value)?(o(u),n):!0}),this},t.prototype.first=function(e){return this.limit(1).toArray(function(n){return n[0]}).then(e)},t.prototype.last=function(e){return this.reverse().first(e)},t.prototype.filter=function(e){return Ec(this._ctx,function(n){return e(n.value)}),T3(this._ctx,e),this},t.prototype.and=function(e){return this.filter(e)},t.prototype.or=function(e){return new this.db.WhereClause(this._ctx.table,e,this)},t.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},t.prototype.desc=function(){return this.reverse()},t.prototype.eachKey=function(e){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(s,o){e(o.key,o)})},t.prototype.eachUniqueKey=function(e){return this._ctx.unique="unique",this.eachKey(e)},t.prototype.eachPrimaryKey=function(e){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(s,o){e(o.primaryKey,o)})},t.prototype.keys=function(e){var n=this._ctx;n.keysOnly=!n.isMatch;var s=[];return this.each(function(o,u){s.push(u.key)}).then(function(){return s}).then(e)},t.prototype.primaryKeys=function(e){var n=this._ctx;if(n.dir==="next"&&Ui(n,!0)&&n.limit>0)return this._read(function(o){var u=Za(n,n.table.core.schema);return n.table.core.query({trans:o,values:!1,limit:n.limit,query:{index:u,range:n.range}})}).then(function(o){var u=o.result;return u}).then(e);n.keysOnly=!n.isMatch;var s=[];return this.each(function(o,u){s.push(u.primaryKey)}).then(function(){return s}).then(e)},t.prototype.uniqueKeys=function(e){return this._ctx.unique="unique",this.keys(e)},t.prototype.firstKey=function(e){return this.limit(1).keys(function(n){return n[0]}).then(e)},t.prototype.lastKey=function(e){return this.reverse().firstKey(e)},t.prototype.distinct=function(){var e=this._ctx,n=e.index&&e.table.schema.idxByName[e.index];if(!n||!n.multi)return this;var s={};return Ec(this._ctx,function(o){var u=o.primaryKey.toString(),l=hn(s,u);return s[u]=!0,!l}),this},t.prototype.modify=function(e){var n=this,s=this._ctx;return this._write(function(o){var u;if(typeof e=="function")u=e;else{var l=mt(e),c=l.length;u=function(T){for(var B=!1,N=0;N<c;++N){var w=l[N],x=e[w];yr(T,w)!==x&&(Bn(T,w,x),B=!0)}return B}}var d=s.table.core,h=d.schema.primaryKey,v=h.outbound,m=h.extractKey,E=n.db._options.modifyChunkSize||200,I=[],A=0,$=[],k=function(T,B){var N=B.failures,w=B.numFailures;A+=T-w;for(var x=0,R=mt(N);x<R.length;x++){var L=R[x];I.push(N[L])}};return n.clone().primaryKeys().then(function(T){var B=function(N){var w=Math.min(E,T.length-N);return d.getMany({trans:o,keys:T.slice(N,N+w),cache:"immutable"}).then(function(x){for(var R=[],L=[],P=v?[]:null,S=[],g=0;g<w;++g){var z=x[g],M={value:Ao(z),primKey:T[N+g]};u.call(M,M.value,M)!==!1&&(M.value==null?S.push(T[N+g]):!v&&jt(m(z),m(M.value))!==0?(S.push(T[N+g]),R.push(M.value)):(L.push(M.value),v&&P.push(T[N+g])))}var V=Ui(s)&&s.limit===1/0&&(typeof e!="function"||e===Oc)&&{index:s.index,range:s.range};return Promise.resolve(R.length>0&&d.mutate({trans:o,type:"add",values:R}).then(function(ne){for(var X in ne.failures)S.splice(parseInt(X),1);k(R.length,ne)})).then(function(){return(L.length>0||V&&typeof e=="object")&&d.mutate({trans:o,type:"put",keys:P,values:L,criteria:V,changeSpec:typeof e!="function"&&e}).then(function(ne){return k(L.length,ne)})}).then(function(){return(S.length>0||V&&e===Oc)&&d.mutate({trans:o,type:"delete",keys:S,criteria:V}).then(function(ne){return k(S.length,ne)})}).then(function(){return T.length>N+w&&B(N+E)})})};return B(0).then(function(){if(I.length>0)throw new gu("Error modifying one or more objects",I,A,$);return T.length})})})},t.prototype.delete=function(){var e=this._ctx,n=e.range;return Ui(e)&&(e.isPrimKey&&!$3||n.type===3)?this._write(function(s){var o=e.table.core.schema.primaryKey,u=n;return e.table.core.count({trans:s,query:{index:o,range:u}}).then(function(l){return e.table.core.mutate({trans:s,type:"deleteRange",range:u}).then(function(c){var d=c.failures;c.lastResult,c.results;var h=c.numFailures;if(h)throw new gu("Could not delete some values",Object.keys(d).map(function(v){return d[v]}),l-h);return l-h})})}):this.modify(Oc)},t}(),Oc=function(t,e){return e.value=null};function P3(t){return Eo(C3.prototype,function(n,s){this.db=t;var o=uA,u=null;if(s)try{o=s()}catch(h){u=h}var l=n._ctx,c=l.table,d=c.hook.reading.fire;this._ctx={table:c,index:l.index,isPrimKey:!l.index||c.schema.primKey.keyPath&&l.index===c.schema.primKey.name,range:o,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:u,or:l.or,valueMapper:d!==wo?d:null}})}function I3(t,e){return t<e?-1:t===e?0:1}function N3(t,e){return t>e?-1:t===e?0:1}function cn(t,e,n){var s=t instanceof cA?new t.Collection(t):t;return s._ctx.error=n?new n(e):new TypeError(e),s}function Ki(t){return new t.Collection(t,function(){return lA("")}).limit(0)}function R3(t){return t==="next"?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()}}function L3(t){return t==="next"?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()}}function D3(t,e,n,s,o,u){for(var l=Math.min(t.length,s.length),c=-1,d=0;d<l;++d){var h=e[d];if(h!==s[d])return o(t[d],n[d])<0?t.substr(0,d)+n[d]+n.substr(d+1):o(t[d],s[d])<0?t.substr(0,d)+s[d]+n.substr(d+1):c>=0?t.substr(0,c)+e[c]+n.substr(c+1):null;o(t[d],h)<0&&(c=d)}return l<s.length&&u==="next"?t+n.substr(t.length):l<t.length&&u==="prev"?t.substr(0,n.length):c<0?null:t.substr(0,c)+s[c]+n.substr(c+1)}function Ba(t,e,n,s){var o,u,l,c,d,h,v,m=n.length;if(!n.every(function($){return typeof $=="string"}))return cn(t,oA);function E($){o=R3($),u=L3($),l=$==="next"?I3:N3;var k=n.map(function(T){return{lower:u(T),upper:o(T)}}).sort(function(T,B){return l(T.lower,B.lower)});c=k.map(function(T){return T.upper}),d=k.map(function(T){return T.lower}),h=$,v=$==="next"?"":s}E("next");var I=new t.Collection(t,function(){return Rr(c[0],d[m-1]+s)});I._ondirectionchange=function($){E($)};var A=0;return I._addAlgorithm(function($,k,T){var B=$.key;if(typeof B!="string")return!1;var N=u(B);if(e(N,d,A))return!0;for(var w=null,x=A;x<m;++x){var R=D3(B,N,c[x],d[x],l,h);R===null&&w===null?A=x+1:(w===null||l(w,R)>0)&&(w=R)}return k(w!==null?function(){$.continue(w+v)}:T),!1}),I}function Rr(t,e,n,s){return{type:2,lower:t,upper:e,lowerOpen:n,upperOpen:s}}function lA(t){return{type:1,lower:t,upper:t}}var cA=function(){function t(){}return Object.defineProperty(t.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),t.prototype.between=function(e,n,s,o){s=s!==!1,o=o===!0;try{return this._cmp(e,n)>0||this._cmp(e,n)===0&&(s||o)&&!(s&&o)?Ki(this):new this.Collection(this,function(){return Rr(e,n,!s,!o)})}catch{return cn(this,fr)}},t.prototype.equals=function(e){return e==null?cn(this,fr):new this.Collection(this,function(){return lA(e)})},t.prototype.above=function(e){return e==null?cn(this,fr):new this.Collection(this,function(){return Rr(e,void 0,!0)})},t.prototype.aboveOrEqual=function(e){return e==null?cn(this,fr):new this.Collection(this,function(){return Rr(e,void 0,!1)})},t.prototype.below=function(e){return e==null?cn(this,fr):new this.Collection(this,function(){return Rr(void 0,e,!1,!0)})},t.prototype.belowOrEqual=function(e){return e==null?cn(this,fr):new this.Collection(this,function(){return Rr(void 0,e)})},t.prototype.startsWith=function(e){return typeof e!="string"?cn(this,oA):this.between(e,e+ci,!0,!0)},t.prototype.startsWithIgnoreCase=function(e){return e===""?this.startsWith(e):Ba(this,function(n,s){return n.indexOf(s[0])===0},[e],ci)},t.prototype.equalsIgnoreCase=function(e){return Ba(this,function(n,s){return n===s[0]},[e],"")},t.prototype.anyOfIgnoreCase=function(){var e=pr.apply(ji,arguments);return e.length===0?Ki(this):Ba(this,function(n,s){return s.indexOf(n)!==-1},e,"")},t.prototype.startsWithAnyOfIgnoreCase=function(){var e=pr.apply(ji,arguments);return e.length===0?Ki(this):Ba(this,function(n,s){return s.some(function(o){return n.indexOf(o)===0})},e,ci)},t.prototype.anyOf=function(){var e=this,n=pr.apply(ji,arguments),s=this._cmp;try{n.sort(s)}catch{return cn(this,fr)}if(n.length===0)return Ki(this);var o=new this.Collection(this,function(){return Rr(n[0],n[n.length-1])});o._ondirectionchange=function(l){s=l==="next"?e._ascending:e._descending,n.sort(s)};var u=0;return o._addAlgorithm(function(l,c,d){for(var h=l.key;s(h,n[u])>0;)if(++u,u===n.length)return c(d),!1;return s(h,n[u])===0?!0:(c(function(){l.continue(n[u])}),!1)}),o},t.prototype.notEqual=function(e){return this.inAnyRange([[wf,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},t.prototype.noneOf=function(){var e=pr.apply(ji,arguments);if(e.length===0)return new this.Collection(this);try{e.sort(this._ascending)}catch{return cn(this,fr)}var n=e.reduce(function(s,o){return s?s.concat([[s[s.length-1][1],o]]):[[wf,o]]},null);return n.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})},t.prototype.inAnyRange=function(e,n){var s=this,o=this._cmp,u=this._ascending,l=this._descending,c=this._min,d=this._max;if(e.length===0)return Ki(this);if(!e.every(function(x){return x[0]!==void 0&&x[1]!==void 0&&u(x[0],x[1])<=0}))return cn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Pe.InvalidArgument);var h=!n||n.includeLowers!==!1,v=n&&n.includeUppers===!0;function m(x,R){for(var L=0,P=x.length;L<P;++L){var S=x[L];if(o(R[0],S[1])<0&&o(R[1],S[0])>0){S[0]=c(S[0],R[0]),S[1]=d(S[1],R[1]);break}}return L===P&&x.push(R),x}var E=u;function I(x,R){return E(x[0],R[0])}var A;try{A=e.reduce(m,[]),A.sort(I)}catch{return cn(this,fr)}var $=0,k=v?function(x){return u(x,A[$][1])>0}:function(x){return u(x,A[$][1])>=0},T=h?function(x){return l(x,A[$][0])>0}:function(x){return l(x,A[$][0])>=0};function B(x){return!k(x)&&!T(x)}var N=k,w=new this.Collection(this,function(){return Rr(A[0][0],A[A.length-1][1],!h,!v)});return w._ondirectionchange=function(x){x==="next"?(N=k,E=u):(N=T,E=l),A.sort(I)},w._addAlgorithm(function(x,R,L){for(var P=x.key;N(P);)if(++$,$===A.length)return R(L),!1;return B(P)?!0:(s._cmp(P,A[$][1])===0||s._cmp(P,A[$][0])===0||R(function(){E===u?x.continue(A[$][0]):x.continue(A[$][1])}),!1)}),w},t.prototype.startsWithAnyOf=function(){var e=pr.apply(ji,arguments);return e.every(function(n){return typeof n=="string"})?e.length===0?Ki(this):this.inAnyRange(e.map(function(n){return[n,n+ci]})):cn(this,"startsWithAnyOf() only works with strings")},t}();function B3(t){return Eo(cA.prototype,function(n,s,o){this.db=t,this._ctx={table:n,index:s===":id"?null:s,or:o};var u=t._deps.indexedDB;if(!u)throw new Pe.MissingAPI;this._cmp=this._ascending=u.cmp.bind(u),this._descending=function(l,c){return u.cmp(c,l)},this._max=function(l,c){return u.cmp(l,c)>0?l:c},this._min=function(l,c){return u.cmp(l,c)<0?l:c},this._IDBKeyRange=t._deps.IDBKeyRange})}function Wn(t){return ct(function(e){return co(e),t(e.target.error),!1})}function co(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}var fo="storagemutated",Fr="x-storagemutated-1",Wr=xo(null,fo),M3=function(){function t(){}return t.prototype._lock=function(){return Us(!xe.global),++this._reculock,this._reculock===1&&!xe.global&&(xe.lockOwnerFor=this),this},t.prototype._unlock=function(){if(Us(!xe.global),--this._reculock===0)for(xe.global||(xe.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{os(e[1],e[0])}catch{}}return this},t.prototype._locked=function(){return this._reculock&&xe.lockOwnerFor!==this},t.prototype.create=function(e){var n=this;if(!this.mode)return this;var s=this.db.idbdb,o=this.db._state.dbOpenError;if(Us(!this.idbtrans),!e&&!s)switch(o&&o.name){case"DatabaseClosedError":throw new Pe.DatabaseClosed(o);case"MissingAPIError":throw new Pe.MissingAPI(o.message,o);default:throw new Pe.OpenFailed(o)}if(!this.active)throw new Pe.TransactionInactive;return Us(this._completion._state===null),e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):s.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})),e.onerror=ct(function(u){co(u),n._reject(e.error)}),e.onabort=ct(function(u){co(u),n.active&&n._reject(new Pe.Abort(e.error)),n.active=!1,n.on("abort").fire(u)}),e.oncomplete=ct(function(){n.active=!1,n._resolve(),"mutatedParts"in e&&Wr.storagemutated.fire(e.mutatedParts)}),this},t.prototype._promise=function(e,n,s){var o=this;if(e==="readwrite"&&this.mode!=="readwrite")return wt(new Pe.ReadOnly("Transaction is readonly"));if(!this.active)return wt(new Pe.TransactionInactive);if(this._locked())return new ye(function(l,c){o._blockedFuncs.push([function(){o._promise(e,n,s).then(l,c)},xe])});if(s)return qr(function(){var l=new ye(function(c,d){o._lock();var h=n(c,d,o);h&&h.then&&h.then(c,d)});return l.finally(function(){return o._unlock()}),l._lib=!0,l});var u=new ye(function(l,c){var d=n(l,c,o);d&&d.then&&d.then(l,c)});return u._lib=!0,u},t.prototype._root=function(){return this.parent?this.parent._root():this},t.prototype.waitFor=function(e){var n=this._root(),s=ye.resolve(e);if(n._waitingFor)n._waitingFor=n._waitingFor.then(function(){return s});else{n._waitingFor=s,n._waitingQueue=[];var o=n.idbtrans.objectStore(n.storeNames[0]);(function l(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(o.get(-1/0).onsuccess=l)})()}var u=n._waitingFor;return new ye(function(l,c){s.then(function(d){return n._waitingQueue.push(ct(l.bind(null,d)))},function(d){return n._waitingQueue.push(ct(c.bind(null,d)))}).finally(function(){n._waitingFor===u&&(n._waitingFor=null)})})},t.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Pe.Abort))},t.prototype.table=function(e){var n=this._memoizedTables||(this._memoizedTables={});if(hn(n,e))return n[e];var s=this.schema[e];if(!s)throw new Pe.NotFound("Table "+e+" not part of transaction");var o=new this.db.Table(e,s,this);return o.core=this.db.core.table(e),n[e]=o,o},t}();function F3(t){return Eo(M3.prototype,function(n,s,o,u,l){var c=this;this.db=t,this.mode=n,this.storeNames=s,this.schema=o,this.chromeTransactionDurability=u,this.idbtrans=null,this.on=xo(this,"complete","error","abort"),this.parent=l||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new ye(function(d,h){c._resolve=d,c._reject=h}),this._completion.then(function(){c.active=!1,c.on.complete.fire()},function(d){var h=c.active;return c.active=!1,c.on.error.fire(d),c.parent?c.parent._reject(d):h&&c.idbtrans&&c.idbtrans.abort(),wt(d)})})}function Sf(t,e,n,s,o,u,l){return{name:t,keyPath:e,unique:n,multi:s,auto:o,compound:u,src:(n&&!l?"&":"")+(s?"*":"")+(o?"++":"")+fA(e)}}function fA(t){return typeof t=="string"?t:t?"["+[].join.call(t,"+")+"]":""}function hA(t,e,n){return{name:t,primKey:e,indexes:n,mappedClass:null,idxByName:j0(n,function(s){return[s.name,s]})}}function U3(t){return t.length===1?t[0]:t}var ho=function(t){try{return t.only([[]]),ho=function(){return[[]]},[[]]}catch{return ho=function(){return ci},ci}};function $f(t){return t==null?function(){}:typeof t=="string"?K3(t):function(e){return yr(e,t)}}function K3(t){var e=t.split(".");return e.length===1?function(n){return n[t]}:function(n){return yr(n,t)}}function by(t){return[].slice.call(t)}var z3=0;function to(t){return t==null?":id":typeof t=="string"?t:"["+t.join("+")+"]"}function j3(t,e,n){function s(m,E){var I=by(m.objectStoreNames);return{schema:{name:m.name,tables:I.map(function(A){return E.objectStore(A)}).map(function(A){var $=A.keyPath,k=A.autoIncrement,T=Ft($),B=$==null,N={},w={name:A.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:B,compound:T,keyPath:$,autoIncrement:k,unique:!0,extractKey:$f($)},indexes:by(A.indexNames).map(function(x){return A.index(x)}).map(function(x){var R=x.name,L=x.unique,P=x.multiEntry,S=x.keyPath,g=Ft(S),z={name:R,compound:g,keyPath:S,unique:L,multiEntry:P,extractKey:$f(S)};return N[to(S)]=z,z}),getIndexByKeyPath:function(x){return N[to(x)]}};return N[":id"]=w.primaryKey,$!=null&&(N[to($)]=w.primaryKey),w})},hasGetAll:I.length>0&&"getAll"in E.objectStore(I[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function o(m){if(m.type===3)return null;if(m.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var E=m.lower,I=m.upper,A=m.lowerOpen,$=m.upperOpen,k=E===void 0?I===void 0?null:e.upperBound(I,!!$):I===void 0?e.lowerBound(E,!!A):e.bound(E,I,!!A,!!$);return k}function u(m){var E=m.name;function I(k){var T=k.trans,B=k.type,N=k.keys,w=k.values,x=k.range;return new Promise(function(R,L){R=ct(R);var P=T.objectStore(E),S=P.keyPath==null,g=B==="put"||B==="add";if(!g&&B!=="delete"&&B!=="deleteRange")throw new Error("Invalid operation type: "+B);var z=(N||w||{length:1}).length;if(N&&w&&N.length!==w.length)throw new Error("Given keys array must have same length as given values array.");if(z===0)return R({numFailures:0,failures:{},results:[],lastResult:void 0});var M,V=[],ne=[],X=0,ce=function(ue){++X,co(ue)};if(B==="deleteRange"){if(x.type===4)return R({numFailures:X,failures:ne,results:[],lastResult:void 0});x.type===3?V.push(M=P.clear()):V.push(M=P.delete(o(x)))}else{var J=g?S?[w,N]:[w,null]:[N,null],H=J[0],ee=J[1];if(g)for(var ae=0;ae<z;++ae)V.push(M=ee&&ee[ae]!==void 0?P[B](H[ae],ee[ae]):P[B](H[ae])),M.onerror=ce;else for(var ae=0;ae<z;++ae)V.push(M=P[B](H[ae])),M.onerror=ce}var ve=function(ue){var Ue=ue.target.result;V.forEach(function(Ae,ze){return Ae.error!=null&&(ne[ze]=Ae.error)}),R({numFailures:X,failures:ne,results:B==="delete"?N:V.map(function(Ae){return Ae.result}),lastResult:Ue})};M.onerror=function(ue){ce(ue),ve(ue)},M.onsuccess=ve})}function A(k){var T=k.trans,B=k.values,N=k.query,w=k.reverse,x=k.unique;return new Promise(function(R,L){R=ct(R);var P=N.index,S=N.range,g=T.objectStore(E),z=P.isPrimaryKey?g:g.index(P.name),M=w?x?"prevunique":"prev":x?"nextunique":"next",V=B||!("openKeyCursor"in z)?z.openCursor(o(S),M):z.openKeyCursor(o(S),M);V.onerror=Wn(L),V.onsuccess=ct(function(ne){var X=V.result;if(!X){R(null);return}X.___id=++z3,X.done=!1;var ce=X.continue.bind(X),J=X.continuePrimaryKey;J&&(J=J.bind(X));var H=X.advance.bind(X),ee=function(){throw new Error("Cursor not started")},ae=function(){throw new Error("Cursor not stopped")};X.trans=T,X.stop=X.continue=X.continuePrimaryKey=X.advance=ee,X.fail=ct(L),X.next=function(){var ve=this,ue=1;return this.start(function(){return ue--?ve.continue():ve.stop()}).then(function(){return ve})},X.start=function(ve){var ue=new Promise(function(Ae,ze){Ae=ct(Ae),V.onerror=Wn(ze),X.fail=ze,X.stop=function(Me){X.stop=X.continue=X.continuePrimaryKey=X.advance=ae,Ae(Me)}}),Ue=function(){if(V.result)try{ve()}catch(Ae){X.fail(Ae)}else X.done=!0,X.start=function(){throw new Error("Cursor behind last entry")},X.stop()};return V.onsuccess=ct(function(Ae){V.onsuccess=Ue,Ue()}),X.continue=ce,X.continuePrimaryKey=J,X.advance=H,Ue(),ue},R(X)},L)})}function $(k){return function(T){return new Promise(function(B,N){B=ct(B);var w=T.trans,x=T.values,R=T.limit,L=T.query,P=R===1/0?void 0:R,S=L.index,g=L.range,z=w.objectStore(E),M=S.isPrimaryKey?z:z.index(S.name),V=o(g);if(R===0)return B({result:[]});if(k){var ne=x?M.getAll(V,P):M.getAllKeys(V,P);ne.onsuccess=function(H){return B({result:H.target.result})},ne.onerror=Wn(N)}else{var X=0,ce=x||!("openKeyCursor"in M)?M.openCursor(V):M.openKeyCursor(V),J=[];ce.onsuccess=function(H){var ee=ce.result;if(!ee)return B({result:J});if(J.push(x?ee.value:ee.primaryKey),++X===R)return B({result:J});ee.continue()},ce.onerror=Wn(N)}})}}return{name:E,schema:m,mutate:I,getMany:function(k){var T=k.trans,B=k.keys;return new Promise(function(N,w){N=ct(N);for(var x=T.objectStore(E),R=B.length,L=new Array(R),P=0,S=0,g,z=function(X){var ce=X.target;(L[ce._pos]=ce.result)!=null,++S===P&&N(L)},M=Wn(w),V=0;V<R;++V){var ne=B[V];ne!=null&&(g=x.get(B[V]),g._pos=V,g.onsuccess=z,g.onerror=M,++P)}P===0&&N(L)})},get:function(k){var T=k.trans,B=k.key;return new Promise(function(N,w){N=ct(N);var x=T.objectStore(E),R=x.get(B);R.onsuccess=function(L){return N(L.target.result)},R.onerror=Wn(w)})},query:$(d),openCursor:A,count:function(k){var T=k.query,B=k.trans,N=T.index,w=T.range;return new Promise(function(x,R){var L=B.objectStore(E),P=N.isPrimaryKey?L:L.index(N.name),S=o(w),g=S?P.count(S):P.count();g.onsuccess=ct(function(z){return x(z.target.result)}),g.onerror=Wn(R)})}}}var l=s(t,n),c=l.schema,d=l.hasGetAll,h=c.tables.map(function(m){return u(m)}),v={};return h.forEach(function(m){return v[m.name]=m}),{stack:"dbcore",transaction:t.transaction.bind(t),table:function(m){var E=v[m];if(!E)throw new Error("Table '"+m+"' not found");return v[m]},MIN_KEY:-1/0,MAX_KEY:ho(e),schema:c}}function q3(t,e){return e.reduce(function(n,s){var o=s.create;return Ye(Ye({},n),o(n))},t)}function V3(t,e,n,s){var o=n.IDBKeyRange;n.indexedDB;var u=q3(j3(e,o,s),t.dbcore);return{dbcore:u}}function vh(t,e){var n=t._novip,s=e.db,o=V3(n._middlewares,s,n._deps,e);n.core=o.dbcore,n.tables.forEach(function(u){var l=u.name;n.core.schema.tables.some(function(c){return c.name===l})&&(u.core=n.core.table(l),n[l]instanceof n.Table&&(n[l].core=u.core))})}function wu(t,e,n,s){var o=t._novip;n.forEach(function(u){var l=s[u];e.forEach(function(c){var d=oh(c,u);(!d||"value"in d&&d.value===void 0)&&(c===o.Transaction.prototype||c instanceof o.Transaction?mr(c,u,{get:function(){return this.table(u)},set:function(h){U0(this,u,{value:h,writable:!0,configurable:!0,enumerable:!0})}}):c[u]=new o.Table(u,l))})})}function xf(t,e){var n=t._novip;e.forEach(function(s){for(var o in s)s[o]instanceof n.Table&&delete s[o]})}function W3(t,e){return t._cfg.version-e._cfg.version}function H3(t,e,n,s){var o=t._dbSchema,u=t._createTransaction("readwrite",t._storeNames,o);u.create(n),u._completion.catch(s);var l=u._reject.bind(u),c=xe.transless||xe;qr(function(){xe.trans=u,xe.transless=c,e===0?(mt(o).forEach(function(d){gh(n,d,o[d].primKey,o[d].indexes)}),vh(t,n),ye.follow(function(){return t.on.populate.fire(u)}).catch(l)):G3(t,e,u,n).catch(l)})}function G3(t,e,n,s){var o=t._novip,u=[],l=o._versions,c=o._dbSchema=yh(o,o.idbdb,s),d=!1,h=l.filter(function(m){return m._cfg.version>=e});h.forEach(function(m){u.push(function(){var E=c,I=m._cfg.dbschema;Tf(o,E,s),Tf(o,I,s),c=o._dbSchema=I;var A=dA(E,I);A.add.forEach(function(w){gh(s,w[0],w[1].primKey,w[1].indexes)}),A.change.forEach(function(w){if(w.recreate)throw new Pe.Upgrade("Not yet support for changing primary key");var x=s.objectStore(w.name);w.add.forEach(function(R){return Ef(x,R)}),w.change.forEach(function(R){x.deleteIndex(R.name),Ef(x,R)}),w.del.forEach(function(R){return x.deleteIndex(R)})});var $=m._cfg.contentUpgrade;if($&&m._cfg.version>e){vh(o,s),n._memoizedTables={},d=!0;var k=q0(I);A.del.forEach(function(w){k[w]=E[w]}),xf(o,[o.Transaction.prototype]),wu(o,[o.Transaction.prototype],mt(k),k),n.schema=k;var T=ah($);T&&ss();var B,N=ye.follow(function(){if(B=$(n),B&&T){var w=_r.bind(null,null);B.then(w,w)}});return B&&typeof B.then=="function"?ye.resolve(B):N.then(function(){return B})}}),u.push(function(E){if(!d||!S3){var I=m._cfg.dbschema;Q3(I,E)}xf(o,[o.Transaction.prototype]),wu(o,[o.Transaction.prototype],o._storeNames,o._dbSchema),n.schema=o._dbSchema})});function v(){return u.length?ye.resolve(u.shift()(n.idbtrans)).then(v):ye.resolve()}return v().then(function(){Y3(c,s)})}function dA(t,e){var n={del:[],add:[],change:[]},s;for(s in t)e[s]||n.del.push(s);for(s in e){var o=t[s],u=e[s];if(!o)n.add.push([s,u]);else{var l={name:s,def:u,recreate:!1,del:[],add:[],change:[]};if(""+(o.primKey.keyPath||"")!=""+(u.primKey.keyPath||"")||o.primKey.auto!==u.primKey.auto&&!ku)l.recreate=!0,n.change.push(l);else{var c=o.idxByName,d=u.idxByName,h=void 0;for(h in c)d[h]||l.del.push(h);for(h in d){var v=c[h],m=d[h];v?v.src!==m.src&&l.change.push(m):l.add.push(m)}(l.del.length>0||l.add.length>0||l.change.length>0)&&n.change.push(l)}}}return n}function gh(t,e,n,s){var o=t.db.createObjectStore(e,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return s.forEach(function(u){return Ef(o,u)}),o}function Y3(t,e){mt(t).forEach(function(n){e.db.objectStoreNames.contains(n)||gh(e,n,t[n].primKey,t[n].indexes)})}function Q3(t,e){[].slice.call(e.db.objectStoreNames).forEach(function(n){return t[n]==null&&e.db.deleteObjectStore(n)})}function Ef(t,e){t.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})}function yh(t,e,n){var s={},o=Tu(e.objectStoreNames,0);return o.forEach(function(u){for(var l=n.objectStore(u),c=l.keyPath,d=Sf(fA(c),c||"",!1,!1,!!l.autoIncrement,c&&typeof c!="string",!0),h=[],v=0;v<l.indexNames.length;++v){var m=l.index(l.indexNames[v]);c=m.keyPath;var E=Sf(m.name,c,!!m.unique,!!m.multiEntry,!1,c&&typeof c!="string",!1);h.push(E)}s[u]=hA(u,d,h)}),s}function J3(t,e,n){var s=t._novip;s.verno=e.version/10;var o=s._dbSchema=yh(s,e,n);s._storeNames=Tu(e.objectStoreNames,0),wu(s,[s._allTables],mt(o),o)}function X3(t,e){var n=yh(t,t.idbdb,e),s=dA(n,t._dbSchema);return!(s.add.length||s.change.some(function(o){return o.add.length||o.change.length}))}function Tf(t,e,n){for(var s=t._novip,o=n.db.objectStoreNames,u=0;u<o.length;++u){var l=o[u],c=n.objectStore(l);s._hasGetAll="getAll"in c;for(var d=0;d<c.indexNames.length;++d){var h=c.indexNames[d],v=c.index(h).keyPath,m=typeof v=="string"?v:"["+Tu(v).join("+")+"]";if(e[l]){var E=e[l].idxByName[m];E&&(E.name=h,delete e[l].idxByName[m],e[l].idxByName[h]=E)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&ut.WorkerGlobalScope&&ut instanceof ut.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(s._hasGetAll=!1)}function Z3(t){return t.split(",").map(function(e,n){e=e.trim();var s=e.replace(/([&*]|\+\+)/g,""),o=/^\[/.test(s)?s.match(/^\[(.*)\]$/)[1].split("+"):s;return Sf(s,o||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),Ft(o),n===0)})}var eP=function(){function t(){}return t.prototype._parseStoresSpec=function(e,n){mt(e).forEach(function(s){if(e[s]!==null){var o=Z3(e[s]),u=o.shift();if(u.multi)throw new Pe.Schema("Primary key cannot be multi-valued");o.forEach(function(l){if(l.auto)throw new Pe.Schema("Only primary key can be marked as autoIncrement (++)");if(!l.keyPath)throw new Pe.Schema("Index must have a name and cannot be an empty string")}),n[s]=hA(s,u,o)}})},t.prototype.stores=function(e){var n=this.db;this._cfg.storesSource=this._cfg.storesSource?qt(this._cfg.storesSource,e):e;var s=n._versions,o={},u={};return s.forEach(function(l){qt(o,l._cfg.storesSource),u=l._cfg.dbschema={},l._parseStoresSpec(o,u)}),n._dbSchema=u,xf(n,[n._allTables,n,n.Transaction.prototype]),wu(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],mt(u),u),n._storeNames=mt(u),this},t.prototype.upgrade=function(e){return this._cfg.contentUpgrade=ch(this._cfg.contentUpgrade||it,e),this},t}();function tP(t){return Eo(eP.prototype,function(n){this.db=t,this._cfg={version:n,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}function mh(t,e){var n=t._dbNamesDB;return n||(n=t._dbNamesDB=new Tt(Cu,{addons:[],indexedDB:t,IDBKeyRange:e}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function _h(t){return t&&typeof t.databases=="function"}function nP(t){var e=t.indexedDB,n=t.IDBKeyRange;return _h(e)?Promise.resolve(e.databases()).then(function(s){return s.map(function(o){return o.name}).filter(function(o){return o!==Cu})}):mh(e,n).toCollection().primaryKeys()}function rP(t,e){var n=t.indexedDB,s=t.IDBKeyRange;!_h(n)&&e!==Cu&&mh(n,s).put({name:e}).catch(it)}function iP(t,e){var n=t.indexedDB,s=t.IDBKeyRange;!_h(n)&&e!==Cu&&mh(n,s).delete(e).catch(it)}function Of(t){return qr(function(){return xe.letThrough=!0,t()})}function sP(){var t=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!t||!indexedDB.databases)return Promise.resolve();var e;return new Promise(function(n){var s=function(){return indexedDB.databases().finally(n)};e=setInterval(s,100),s()}).finally(function(){return clearInterval(e)})}function oP(t){var e=t._state,n=t._deps.indexedDB;if(e.isBeingOpened||t.idbdb)return e.dbReadyPromise.then(function(){return e.dbOpenError?wt(e.dbOpenError):t});Jn&&(e.openCanceller._stackHolder=mi()),e.isBeingOpened=!0,e.dbOpenError=null,e.openComplete=!1;var s=e.openCanceller;function o(){if(e.openCanceller!==s)throw new Pe.DatabaseClosed("db.open() was cancelled")}var u=e.dbReadyResolve,l=null,c=!1;return ye.race([s,(typeof navigator>"u"?ye.resolve():sP()).then(function(){return new ye(function(d,h){if(o(),!n)throw new Pe.MissingAPI;var v=t.name,m=e.autoSchema?n.open(v):n.open(v,Math.round(t.verno*10));if(!m)throw new Pe.MissingAPI;m.onerror=Wn(h),m.onblocked=ct(t._fireOnBlocked),m.onupgradeneeded=ct(function(E){if(l=m.transaction,e.autoSchema&&!t._options.allowEmptyDB){m.onerror=co,l.abort(),m.result.close();var I=n.deleteDatabase(v);I.onsuccess=I.onerror=ct(function(){h(new Pe.NoSuchDatabase("Database "+v+" doesnt exist"))})}else{l.onerror=Wn(h);var A=E.oldVersion>Math.pow(2,62)?0:E.oldVersion;c=A<1,t._novip.idbdb=m.result,H3(t,A/10,l,h)}},h),m.onsuccess=ct(function(){l=null;var E=t._novip.idbdb=m.result,I=Tu(E.objectStoreNames);if(I.length>0)try{var A=E.transaction(U3(I),"readonly");e.autoSchema?J3(t,E,A):(Tf(t,t._dbSchema,A),X3(t,A)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),vh(t,A)}catch{}eo.push(t),E.onversionchange=ct(function($){e.vcFired=!0,t.on("versionchange").fire($)}),E.onclose=ct(function($){t.on("close").fire($)}),c&&rP(t._deps,v),d()},h)})})]).then(function(){return o(),e.onReadyBeingFired=[],ye.resolve(Of(function(){return t.on.ready.fire(t.vip)})).then(function d(){if(e.onReadyBeingFired.length>0){var h=e.onReadyBeingFired.reduce(ch,it);return e.onReadyBeingFired=[],ye.resolve(Of(function(){return h(t.vip)})).then(d)}})}).finally(function(){e.onReadyBeingFired=null,e.isBeingOpened=!1}).then(function(){return t}).catch(function(d){e.dbOpenError=d;try{l&&l.abort()}catch{}return s===e.openCanceller&&t._close(),wt(d)}).finally(function(){e.openComplete=!0,u()})}function kf(t){var e=function(l){return t.next(l)},n=function(l){return t.throw(l)},s=u(e),o=u(n);function u(l){return function(c){var d=l(c),h=d.value;return d.done?h:!h||typeof h.then!="function"?Ft(h)?Promise.all(h).then(s,o):s(h):h.then(s,o)}}return u(e)()}function aP(t,e,n){var s=arguments.length;if(s<2)throw new Pe.InvalidArgument("Too few arguments");for(var o=new Array(s-1);--s;)o[s-1]=arguments[s];n=o.pop();var u=V0(o);return[t,u,n]}function pA(t,e,n,s,o){return ye.resolve().then(function(){var u=xe.transless||xe,l=t._createTransaction(e,n,t._dbSchema,s),c={trans:l,transless:u};if(s)l.idbtrans=s.idbtrans;else try{l.create(),t._state.PR1398_maxLoop=3}catch(m){return m.name===lh.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(function(){return pA(t,e,n,null,o)})):wt(m)}var d=ah(o);d&&ss();var h,v=ye.follow(function(){if(h=o.call(l,l),h)if(d){var m=_r.bind(null,null);h.then(m,m)}else typeof h.next=="function"&&typeof h.throw=="function"&&(h=kf(h))},c);return(h&&typeof h.then=="function"?ye.resolve(h).then(function(m){return l.active?m:wt(new Pe.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):v.then(function(){return h})).then(function(m){return s&&l._resolve(),l._completion.then(function(){return m})}).catch(function(m){return l._reject(m),wt(m)})})}function Ma(t,e,n){for(var s=Ft(t)?t.slice():[t],o=0;o<n;++o)s.push(e);return s}function uP(t){return Ye(Ye({},t),{table:function(e){var n=t.table(e),s=n.schema,o={},u=[];function l($,k,T){var B=to($),N=o[B]=o[B]||[],w=$==null?0:typeof $=="string"?1:$.length,x=k>0,R=Ye(Ye({},T),{isVirtual:x,keyTail:k,keyLength:w,extractKey:$f($),unique:!x&&T.unique});if(N.push(R),R.isPrimaryKey||u.push(R),w>1){var L=w===2?$[0]:$.slice(0,w-1);l(L,k+1,T)}return N.sort(function(P,S){return P.keyTail-S.keyTail}),R}var c=l(s.primaryKey.keyPath,0,s.primaryKey);o[":id"]=[c];for(var d=0,h=s.indexes;d<h.length;d++){var v=h[d];l(v.keyPath,0,v)}function m($){var k=o[to($)];return k&&k[0]}function E($,k){return{type:$.type===1?2:$.type,lower:Ma($.lower,$.lowerOpen?t.MAX_KEY:t.MIN_KEY,k),lowerOpen:!0,upper:Ma($.upper,$.upperOpen?t.MIN_KEY:t.MAX_KEY,k),upperOpen:!0}}function I($){var k=$.query.index;return k.isVirtual?Ye(Ye({},$),{query:{index:k,range:E($.query.range,k.keyTail)}}):$}var A=Ye(Ye({},n),{schema:Ye(Ye({},s),{primaryKey:c,indexes:u,getIndexByKeyPath:m}),count:function($){return n.count(I($))},query:function($){return n.query(I($))},openCursor:function($){var k=$.query.index,T=k.keyTail,B=k.isVirtual,N=k.keyLength;if(!B)return n.openCursor($);function w(x){function R(P){P!=null?x.continue(Ma(P,$.reverse?t.MAX_KEY:t.MIN_KEY,T)):$.unique?x.continue(x.key.slice(0,N).concat($.reverse?t.MIN_KEY:t.MAX_KEY,T)):x.continue()}var L=Object.create(x,{continue:{value:R},continuePrimaryKey:{value:function(P,S){x.continuePrimaryKey(Ma(P,t.MAX_KEY,T),S)}},primaryKey:{get:function(){return x.primaryKey}},key:{get:function(){var P=x.key;return N===1?P[0]:P.slice(0,N)}},value:{get:function(){return x.value}}});return L}return n.openCursor(I($)).then(function(x){return x&&w(x)})}});return A}})}var lP={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:uP};function bh(t,e,n,s){return n=n||{},s=s||"",mt(t).forEach(function(o){if(!hn(e,o))n[s+o]=void 0;else{var u=t[o],l=e[o];if(typeof u=="object"&&typeof l=="object"&&u&&l){var c=cf(u),d=cf(l);c!==d?n[s+o]=e[o]:c==="Object"?bh(u,l,n,s+o+"."):u!==l&&(n[s+o]=e[o])}else u!==l&&(n[s+o]=e[o])}}),mt(e).forEach(function(o){hn(t,o)||(n[s+o]=e[o])}),n}function cP(t,e){return e.type==="delete"?e.keys:e.keys||e.values.map(t.extractKey)}var fP={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(t){return Ye(Ye({},t),{table:function(e){var n=t.table(e),s=n.schema.primaryKey,o=Ye(Ye({},n),{mutate:function(u){var l=xe.trans,c=l.table(e).hook,d=c.deleting,h=c.creating,v=c.updating;switch(u.type){case"add":if(h.fire===it)break;return l._promise("readwrite",function(){return m(u)},!0);case"put":if(h.fire===it&&v.fire===it)break;return l._promise("readwrite",function(){return m(u)},!0);case"delete":if(d.fire===it)break;return l._promise("readwrite",function(){return m(u)},!0);case"deleteRange":if(d.fire===it)break;return l._promise("readwrite",function(){return E(u)},!0)}return n.mutate(u);function m(A){var $=xe.trans,k=A.keys||cP(s,A);if(!k)throw new Error("Keys missing");return A=A.type==="add"||A.type==="put"?Ye(Ye({},A),{keys:k}):Ye({},A),A.type!=="delete"&&(A.values=uf([],A.values,!0)),A.keys&&(A.keys=uf([],A.keys,!0)),hP(n,A,k).then(function(T){var B=k.map(function(N,w){var x=T[w],R={onerror:null,onsuccess:null};if(A.type==="delete")d.fire.call(R,N,x,$);else if(A.type==="add"||x===void 0){var L=h.fire.call(R,N,A.values[w],$);N==null&&L!=null&&(N=L,A.keys[w]=N,s.outbound||Bn(A.values[w],s.keyPath,N))}else{var P=bh(x,A.values[w]),S=v.fire.call(R,P,N,x,$);if(S){var g=A.values[w];Object.keys(S).forEach(function(z){hn(g,z)?g[z]=S[z]:Bn(g,z,S[z])})}}return R});return n.mutate(A).then(function(N){for(var w=N.failures,x=N.results,R=N.numFailures,L=N.lastResult,P=0;P<k.length;++P){var S=x?x[P]:k[P],g=B[P];S==null?g.onerror&&g.onerror(w[P]):g.onsuccess&&g.onsuccess(A.type==="put"&&T[P]?A.values[P]:S)}return{failures:w,results:x,numFailures:R,lastResult:L}}).catch(function(N){return B.forEach(function(w){return w.onerror&&w.onerror(N)}),Promise.reject(N)})})}function E(A){return I(A.trans,A.range,1e4)}function I(A,$,k){return n.query({trans:A,values:!1,query:{index:s,range:$},limit:k}).then(function(T){var B=T.result;return m({type:"delete",keys:B,trans:A}).then(function(N){return N.numFailures>0?Promise.reject(N.failures[0]):B.length<k?{failures:[],numFailures:0,lastResult:void 0}:I(A,Ye(Ye({},$),{lower:B[B.length-1],lowerOpen:!0}),k)})})}}});return o}})}};function hP(t,e,n){return e.type==="add"?Promise.resolve([]):t.getMany({trans:e.trans,keys:n,cache:"immutable"})}function vA(t,e,n){try{if(!e||e.keys.length<t.length)return null;for(var s=[],o=0,u=0;o<e.keys.length&&u<t.length;++o)jt(e.keys[o],t[u])===0&&(s.push(n?Ao(e.values[o]):e.values[o]),++u);return s.length===t.length?s:null}catch{return null}}var dP={stack:"dbcore",level:-1,create:function(t){return{table:function(e){var n=t.table(e);return Ye(Ye({},n),{getMany:function(s){if(!s.cache)return n.getMany(s);var o=vA(s.keys,s.trans._cache,s.cache==="clone");return o?ye.resolve(o):n.getMany(s).then(function(u){return s.trans._cache={keys:s.keys,values:s.cache==="clone"?Ao(u):u},u})},mutate:function(s){return s.type!=="add"&&(s.trans._cache=null),n.mutate(s)}})}}}},kc;function Ah(t){return!("from"in t)}var dr=function(t,e){if(this)qt(this,arguments.length?{d:1,from:t,to:arguments.length>1?e:t}:{d:0});else{var n=new dr;return t&&"d"in t&&qt(n,t),n}};es(dr.prototype,(kc={add:function(t){return Su(this,t),this},addKey:function(t){return po(this,t,t),this},addKeys:function(t){var e=this;return t.forEach(function(n){return po(e,n,n)}),this}},kc[ff]=function(){return Cf(this)},kc));function po(t,e,n){var s=jt(e,n);if(!isNaN(s)){if(s>0)throw RangeError();if(Ah(t))return qt(t,{from:e,to:n,d:1});var o=t.l,u=t.r;if(jt(n,t.from)<0)return o?po(o,e,n):t.l={from:e,to:n,d:1,l:null,r:null},Ay(t);if(jt(e,t.to)>0)return u?po(u,e,n):t.r={from:e,to:n,d:1,l:null,r:null},Ay(t);jt(e,t.from)<0&&(t.from=e,t.l=null,t.d=u?u.d+1:1),jt(n,t.to)>0&&(t.to=n,t.r=null,t.d=t.l?t.l.d+1:1);var l=!t.r;o&&!t.l&&Su(t,o),u&&l&&Su(t,u)}}function Su(t,e){function n(s,o){var u=o.from,l=o.to,c=o.l,d=o.r;po(s,u,l),c&&n(s,c),d&&n(s,d)}Ah(e)||n(t,e)}function pP(t,e){var n=Cf(e),s=n.next();if(s.done)return!1;for(var o=s.value,u=Cf(t),l=u.next(o.from),c=l.value;!s.done&&!l.done;){if(jt(c.from,o.to)<=0&&jt(c.to,o.from)>=0)return!0;jt(o.from,c.from)<0?o=(s=n.next(c.from)).value:c=(l=u.next(o.from)).value}return!1}function Cf(t){var e=Ah(t)?null:{s:0,n:t};return{next:function(n){for(var s=arguments.length>0;e;)switch(e.s){case 0:if(e.s=1,s)for(;e.n.l&&jt(n,e.n.from)<0;)e={up:e,n:e.n.l,s:1};else for(;e.n.l;)e={up:e,n:e.n.l,s:1};case 1:if(e.s=2,!s||jt(n,e.n.to)<=0)return{value:e.n,done:!1};case 2:if(e.n.r){e.s=3,e={up:e,n:e.n.r,s:0};continue}case 3:e=e.up}return{done:!0}}}}function Ay(t){var e,n,s=(((e=t.r)===null||e===void 0?void 0:e.d)||0)-(((n=t.l)===null||n===void 0?void 0:n.d)||0),o=s>1?"r":s<-1?"l":"";if(o){var u=o==="r"?"l":"r",l=Ye({},t),c=t[o];t.from=c.from,t.to=c.to,t[o]=c[o],l[o]=c[u],t[u]=l,l.d=wy(l)}t.d=wy(t)}function wy(t){var e=t.r,n=t.l;return(e?n?Math.max(e.d,n.d):e.d:n?n.d:0)+1}var vP={stack:"dbcore",level:0,create:function(t){var e=t.schema.name,n=new dr(t.MIN_KEY,t.MAX_KEY);return Ye(Ye({},t),{table:function(s){var o=t.table(s),u=o.schema,l=u.primaryKey,c=l.extractKey,d=l.outbound,h=Ye(Ye({},o),{mutate:function(E){var I=E.trans,A=I.mutatedParts||(I.mutatedParts={}),$=function(L){var P="idb://"+e+"/"+s+"/"+L;return A[P]||(A[P]=new dr)},k=$(""),T=$(":dels"),B=E.type,N=E.type==="deleteRange"?[E.range]:E.type==="delete"?[E.keys]:E.values.length<50?[[],E.values]:[],w=N[0],x=N[1],R=E.trans._cache;return o.mutate(E).then(function(L){if(Ft(w)){B!=="delete"&&(w=L.results),k.addKeys(w);var P=vA(w,R);!P&&B!=="add"&&T.addKeys(w),(P||x)&&gP($,u,P,x)}else if(w){var S={from:w.lower,to:w.upper};T.add(S),k.add(S)}else k.add(n),T.add(n),u.indexes.forEach(function(g){return $(g.name).add(n)});return L})}}),v=function(E){var I,A,$=E.query,k=$.index,T=$.range;return[k,new dr((I=T.lower)!==null&&I!==void 0?I:t.MIN_KEY,(A=T.upper)!==null&&A!==void 0?A:t.MAX_KEY)]},m={get:function(E){return[l,new dr(E.key)]},getMany:function(E){return[l,new dr().addKeys(E.keys)]},count:v,query:v,openCursor:v};return mt(m).forEach(function(E){h[E]=function(I){var A=xe.subscr;if(A){var $=function(R){var L="idb://"+e+"/"+s+"/"+R;return A[L]||(A[L]=new dr)},k=$(""),T=$(":dels"),B=m[E](I),N=B[0],w=B[1];if($(N.name||"").add(w),!N.isPrimaryKey)if(E==="count")T.add(n);else{var x=E==="query"&&d&&I.values&&o.query(Ye(Ye({},I),{values:!1}));return o[E].apply(this,arguments).then(function(R){if(E==="query"){if(d&&I.values)return x.then(function(g){var z=g.result;return k.addKeys(z),R});var L=I.values?R.result.map(c):R.result;I.values?k.addKeys(L):T.addKeys(L)}else if(E==="openCursor"){var P=R,S=I.values;return P&&Object.create(P,{key:{get:function(){return T.addKey(P.primaryKey),P.key}},primaryKey:{get:function(){var g=P.primaryKey;return T.addKey(g),g}},value:{get:function(){return S&&k.addKey(P.primaryKey),P.value}}})}return R})}}return o[E].apply(this,arguments)}}),h}})}};function gP(t,e,n,s){function o(u){var l=t(u.name||"");function c(h){return h!=null?u.extractKey(h):null}var d=function(h){return u.multiEntry&&Ft(h)?h.forEach(function(v){return l.addKey(v)}):l.addKey(h)};(n||s).forEach(function(h,v){var m=n&&c(n[v]),E=s&&c(s[v]);jt(m,E)!==0&&(m!=null&&d(m),E!=null&&d(E))})}e.indexes.forEach(o)}var Tt=function(){function t(e,n){var s=this;this._middlewares={},this.verno=0;var o=t.dependencies;this._options=n=Ye({addons:t.addons,autoOpen:!0,indexedDB:o.indexedDB,IDBKeyRange:o.IDBKeyRange},n),this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};var u=n.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var l={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:it,dbReadyPromise:null,cancelOpen:it,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};l.dbReadyPromise=new ye(function(c){l.dbReadyResolve=c}),l.openCanceller=new ye(function(c,d){l.cancelOpen=d}),this._state=l,this.name=e,this.on=xo(this,"populate","blocked","versionchange","close",{ready:[ch,it]}),this.on.ready.subscribe=K0(this.on.ready.subscribe,function(c){return function(d,h){t.vip(function(){var v=s._state;if(v.openComplete)v.dbOpenError||ye.resolve().then(d),h&&c(d);else if(v.onReadyBeingFired)v.onReadyBeingFired.push(d),h&&c(d);else{c(d);var m=s;h||c(function E(){m.on.ready.unsubscribe(d),m.on.ready.unsubscribe(E)})}})}}),this.Collection=P3(this),this.Table=E3(this),this.Transaction=F3(this),this.Version=tP(this),this.WhereClause=B3(this),this.on("versionchange",function(c){c.newVersion>0?console.warn("Another connection wants to upgrade database '"+s.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+s.name+"'. Closing db now to resume the delete request."),s.close()}),this.on("blocked",function(c){!c.newVersion||c.newVersion<c.oldVersion?console.warn("Dexie.delete('"+s.name+"') was blocked"):console.warn("Upgrade '"+s.name+"' blocked by other connection holding version "+c.oldVersion/10)}),this._maxKey=ho(n.IDBKeyRange),this._createTransaction=function(c,d,h,v){return new s.Transaction(c,d,h,s._options.chromeTransactionDurability,v)},this._fireOnBlocked=function(c){s.on("blocked").fire(c),eo.filter(function(d){return d.name===s.name&&d!==s&&!d._state.vcFired}).map(function(d){return d.on("versionchange").fire(c)})},this.use(lP),this.use(fP),this.use(vP),this.use(dP),this.vip=Object.create(this,{_vip:{value:!0}}),u.forEach(function(c){return c(s)})}return t.prototype.version=function(e){if(isNaN(e)||e<.1)throw new Pe.Type("Given version is not a positive number");if(e=Math.round(e*10)/10,this.idbdb||this._state.isBeingOpened)throw new Pe.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var n=this._versions,s=n.filter(function(o){return o._cfg.version===e})[0];return s||(s=new this.Version(e),n.push(s),n.sort(W3),s.stores({}),this._state.autoSchema=!1,s)},t.prototype._whenReady=function(e){var n=this;return this.idbdb&&(this._state.openComplete||xe.letThrough||this._vip)?e():new ye(function(s,o){if(n._state.openComplete)return o(new Pe.DatabaseClosed(n._state.dbOpenError));if(!n._state.isBeingOpened){if(!n._options.autoOpen){o(new Pe.DatabaseClosed);return}n.open().catch(it)}n._state.dbReadyPromise.then(s,o)}).then(e)},t.prototype.use=function(e){var n=e.stack,s=e.create,o=e.level,u=e.name;u&&this.unuse({stack:n,name:u});var l=this._middlewares[n]||(this._middlewares[n]=[]);return l.push({stack:n,create:s,level:o==null?10:o,name:u}),l.sort(function(c,d){return c.level-d.level}),this},t.prototype.unuse=function(e){var n=e.stack,s=e.name,o=e.create;return n&&this._middlewares[n]&&(this._middlewares[n]=this._middlewares[n].filter(function(u){return o?u.create!==o:s?u.name!==s:!1})),this},t.prototype.open=function(){return oP(this)},t.prototype._close=function(){var e=this._state,n=eo.indexOf(this);if(n>=0&&eo.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}e.dbReadyPromise=new ye(function(s){e.dbReadyResolve=s}),e.openCanceller=new ye(function(s,o){e.cancelOpen=o})},t.prototype.close=function(){this._close();var e=this._state;this._options.autoOpen=!1,e.dbOpenError=new Pe.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)},t.prototype.delete=function(){var e=this,n=arguments.length>0,s=this._state;return new ye(function(o,u){var l=function(){e.close();var c=e._deps.indexedDB.deleteDatabase(e.name);c.onsuccess=ct(function(){iP(e._deps,e.name),o()}),c.onerror=Wn(u),c.onblocked=e._fireOnBlocked};if(n)throw new Pe.InvalidArgument("Arguments not allowed in db.delete()");s.isBeingOpened?s.dbReadyPromise.then(l):l()})},t.prototype.backendDB=function(){return this.idbdb},t.prototype.isOpen=function(){return this.idbdb!==null},t.prototype.hasBeenClosed=function(){var e=this._state.dbOpenError;return e&&e.name==="DatabaseClosed"},t.prototype.hasFailed=function(){return this._state.dbOpenError!==null},t.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(t.prototype,"tables",{get:function(){var e=this;return mt(this._allTables).map(function(n){return e._allTables[n]})},enumerable:!1,configurable:!0}),t.prototype.transaction=function(){var e=aP.apply(this,arguments);return this._transaction.apply(this,e)},t.prototype._transaction=function(e,n,s){var o=this,u=xe.trans;(!u||u.db!==this||e.indexOf("!")!==-1)&&(u=null);var l=e.indexOf("?")!==-1;e=e.replace("!","").replace("?","");var c,d;try{if(d=n.map(function(v){var m=v instanceof o.Table?v.name:v;if(typeof m!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return m}),e=="r"||e===$c)c=$c;else if(e=="rw"||e==xc)c=xc;else throw new Pe.InvalidArgument("Invalid transaction mode: "+e);if(u){if(u.mode===$c&&c===xc)if(l)u=null;else throw new Pe.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");u&&d.forEach(function(v){if(u&&u.storeNames.indexOf(v)===-1)if(l)u=null;else throw new Pe.SubTransaction("Table "+v+" not included in parent transaction.")}),l&&u&&!u.active&&(u=null)}}catch(v){return u?u._promise(null,function(m,E){E(v)}):wt(v)}var h=pA.bind(null,this,c,d,u,s);return u?u._promise(c,h,"lock"):xe.trans?os(xe.transless,function(){return o._whenReady(h)}):this._whenReady(h)},t.prototype.table=function(e){if(!hn(this._allTables,e))throw new Pe.InvalidTable("Table "+e+" does not exist");return this._allTables[e]},t}(),yP=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",mP=function(){function t(e){this._subscribe=e}return t.prototype.subscribe=function(e,n,s){return this._subscribe(!e||typeof e=="function"?{next:e,error:n,complete:s}:e)},t.prototype[yP]=function(){return this},t}();function gA(t,e){return mt(e).forEach(function(n){var s=t[n]||(t[n]=new dr);Su(s,e[n])}),t}function _P(t){return new mP(function(e){var n=ah(t);function s(I){n&&ss();var A=function(){return qr(t,{subscr:I,trans:null})},$=xe.trans?os(xe.transless,A):A();return n&&$.then(_r,_r),$}var o=!1,u={},l={},c={get closed(){return o},unsubscribe:function(){o=!0,Wr.storagemutated.unsubscribe(m)}};e.start&&e.start(c);var d=!1,h=!1;function v(){return mt(l).some(function(I){return u[I]&&pP(u[I],l[I])})}var m=function(I){gA(u,I),v()&&E()},E=function(){if(!(d||o)){u={};var I={},A=s(I);h||(Wr(fo,m),h=!0),d=!0,Promise.resolve(A).then(function($){d=!1,!o&&(v()?E():(u={},l=I,e.next&&e.next($)))},function($){d=!1,e.error&&e.error($),c.unsubscribe()})}};return E(),c})}var Pf;try{Pf={indexedDB:ut.indexedDB||ut.mozIndexedDB||ut.webkitIndexedDB||ut.msIndexedDB,IDBKeyRange:ut.IDBKeyRange||ut.webkitIDBKeyRange}}catch{Pf={indexedDB:null,IDBKeyRange:null}}var ui=Tt;es(ui,Ye(Ye({},Ou),{delete:function(t){var e=new ui(t,{addons:[]});return e.delete()},exists:function(t){return new ui(t,{addons:[]}).open().then(function(e){return e.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(t){try{return nP(ui.dependencies).then(t)}catch{return wt(new Pe.MissingAPI)}},defineClass:function(){function t(e){qt(this,e)}return t},ignoreTransaction:function(t){return xe.trans?os(xe.transless,t):t()},vip:Of,async:function(t){return function(){try{var e=kf(t.apply(this,arguments));return!e||typeof e.then!="function"?ye.resolve(e):e}catch(n){return wt(n)}}},spawn:function(t,e,n){try{var s=kf(t.apply(n,e||[]));return!s||typeof s.then!="function"?ye.resolve(s):s}catch(o){return wt(o)}},currentTransaction:{get:function(){return xe.trans||null}},waitFor:function(t,e){var n=ye.resolve(typeof t=="function"?ui.ignoreTransaction(t):t).timeout(e||6e4);return xe.trans?xe.trans.waitFor(n):n},Promise:ye,debug:{get:function(){return Jn},set:function(t){H0(t,t==="dexie"?function(){return!0}:aA)}},derive:rs,extend:qt,props:es,override:K0,Events:xo,on:Wr,liveQuery:_P,extendObservabilitySet:gA,getByKeyPath:yr,setByKeyPath:Bn,delByKeyPath:JC,shallowClone:q0,deepClone:Ao,getObjectDiff:bh,cmp:jt,asap:z0,minKey:wf,addons:[],connections:eo,errnames:lh,dependencies:Pf,semVer:vy,version:vy.split(".").map(function(t){return parseInt(t)}).reduce(function(t,e,n){return t+e/Math.pow(10,n*2)})}));ui.maxKey=ho(ui.dependencies.IDBKeyRange);typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Wr(fo,function(t){if(!vr){var e;ku?(e=document.createEvent("CustomEvent"),e.initCustomEvent(Fr,!0,!0,t)):e=new CustomEvent(Fr,{detail:t}),vr=!0,dispatchEvent(e),vr=!1}}),addEventListener(Fr,function(t){var e=t.detail;vr||$u(e)}));function $u(t){var e=vr;try{vr=!0,Wr.storagemutated.fire(t)}finally{vr=e}}var vr=!1;if(typeof BroadcastChannel<"u"){var Sy=new BroadcastChannel(Fr);Wr(fo,function(t){vr||Sy.postMessage(t)}),Sy.onmessage=function(t){t.data&&$u(t.data)}}else if(typeof self<"u"&&typeof navigator<"u"){Wr(fo,function(t){try{vr||(typeof localStorage<"u"&&localStorage.setItem(Fr,JSON.stringify({trig:Math.random(),changedParts:t})),typeof self.clients=="object"&&uf([],self.clients.matchAll({includeUncontrolled:!0}),!0).forEach(function(e){return e.postMessage({type:Fr,changedParts:t})}))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",function(t){if(t.key===Fr){var e=JSON.parse(t.newValue);e&&$u(e.changedParts)}});var $y=self.document&&navigator.serviceWorker;$y&&$y.addEventListener("message",bP)}function bP(t){var e=t.data;e&&e.type===Fr&&$u(e.changedParts)}ye.rejectionMapper=o3;H0(Jn,aA);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Hr(t,e,n,s){function o(u){return u instanceof n?u:new n(function(l){l(u)})}return new(n||(n=Promise))(function(u,l){function c(v){try{h(s.next(v))}catch(m){l(m)}}function d(v){try{h(s.throw(v))}catch(m){l(m)}}function h(v){v.done?u(v.value):o(v.value).then(c,d)}h((s=s.apply(t,e||[])).next())})}function Dn(t,e){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,o,u,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(h){return function(v){return d([h,v])}}function d(h){if(s)throw new TypeError("Generator is already executing.");for(;n;)try{if(s=1,o&&(u=h[0]&2?o.return:h[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,h[1])).done)return u;switch(o=0,u&&(h=[h[0]&2,u.value]),h[0]){case 0:case 1:u=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,o=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!u||h[1]>u[0]&&h[1]<u[3])){n.label=h[1];break}if(h[0]===6&&n.label<u[1]){n.label=u[1],u=h;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(h);break}u[2]&&n.ops.pop(),n.trys.pop();continue}h=e.call(t,n)}catch(v){h=[6,v],o=0}finally{s=u=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function AP(t){var e=[t.schema.primKey].concat(t.schema.indexes);return e.map(function(n){return n.src}).join(",")}function wP(t){for(var e={},n=0,s=t.tables;n<s.length;n++){var o=s[n];e[o.name]=o.schema}return e}function yA(t,e){return new Promise(function(n,s){var o=new FileReader;o.onabort=function(u){return s(new Error("file read aborted"))},o.onerror=function(u){return s(u.target.error)},o.onload=function(u){return n(u.target.result)},e==="binary"?o.readAsArrayBuffer(t):o.readAsText(t)})}function mA(t,e){if(typeof FileReaderSync>"u")throw new Error("FileReaderSync missing. Reading blobs synchronously requires code to run from within a web worker. Use TSON.encapsulateAsync() to do it from the main thread.");var n=new FileReaderSync,s=e==="binary"?n.readAsArrayBuffer(t):n.readAsText(t);return s}var If=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wh(t,e){return e={exports:{}},t(e,e.exports),e.exports}var Pu=wh(function(t,e){(function(n,s){t.exports=s()})(If,function(){var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},s=function(){return function(P,S){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return function(z,M){var V=[],ne=!0,X=!1,ce=void 0;try{for(var J,H=z[Symbol.iterator]();!(ne=(J=H.next()).done)&&(V.push(J.value),!M||V.length!==M);ne=!0);}catch(ee){X=!0,ce=ee}finally{try{!ne&&H.return&&H.return()}finally{if(X)throw ce}}return V}(P,S);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(P){if(Array.isArray(P)){for(var S=0,g=Array(P.length);S<P.length;S++)g[S]=P[S];return g}return Array.from(P)},u=Object.keys,l=Array.isArray,c={}.toString,d=Object.getPrototypeOf,h={}.hasOwnProperty,v=h.toString,m=["type","replaced","iterateIn","iterateUnsetNumeric"];function E(P,S){return T.isObject(P)&&typeof P.then=="function"&&(!S||typeof P.catch=="function")}function I(P){return c.call(P).slice(8,-1)}function A(P,S){if(!P||(P===void 0?"undefined":n(P))!=="object")return!1;var g=d(P);if(!g)return!1;var z=h.call(g,"constructor")&&g.constructor;return typeof z!="function"?S===null:typeof z=="function"&&S!==null&&v.call(z)===v.call(S)}function $(P){return!(!P||I(P)!=="Object")&&(!d(P)||A(P,Object))}function k(P){return P&&(P===void 0?"undefined":n(P))==="object"}function T(P){var S=[],g=[],z={},M=this.types={},V=this.stringify=function(J,H,ee,ae){ae=Object.assign({},P,ae,{stringification:!0});var ve=X(J,null,ae);return l(ve)?JSON.stringify(ve[0],H,ee):ve.then(function(ue){return JSON.stringify(ue,H,ee)})};this.stringifySync=function(J,H,ee,ae){return V(J,H,ee,Object.assign({},{throwOnBadSyncType:!0},ae,{sync:!0}))},this.stringifyAsync=function(J,H,ee,ae){return V(J,H,ee,Object.assign({},{throwOnBadSyncType:!0},ae,{sync:!1}))};var ne=this.parse=function(J,H,ee){return ee=Object.assign({},P,ee,{parse:!0}),ce(JSON.parse(J,H),ee)};this.parseSync=function(J,H,ee){return ne(J,H,Object.assign({},{throwOnBadSyncType:!0},ee,{sync:!0}))},this.parseAsync=function(J,H,ee){return ne(J,H,Object.assign({},{throwOnBadSyncType:!0},ee,{sync:!1}))},this.specialTypeNames=function(J,H){var ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ee.returnTypeNames=!0,this.encapsulate(J,H,ee)},this.rootTypeName=function(J,H){var ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ee.iterateNone=!0,this.encapsulate(J,H,ee)};var X=this.encapsulate=function(J,H,ee){var ae=(ee=Object.assign({sync:!0},P,ee)).sync,ve={},ue=[],Ue=[],Ae=[],ze=!(ee&&"cyclic"in ee)||ee.cyclic,Me=ee.encapsulateObserver,Qe=q("",J,ze,H||{},Ae);function U(Q){var te=Object.values(ve);if(ee.iterateNone)return te.length?te[0]:T.getJSONType(Q);if(te.length){if(ee.returnTypeNames)return[].concat(o(new Set(te)));Q&&$(Q)&&!Q.hasOwnProperty("$types")?Q.$types=ve:Q={$:Q,$types:{$:ve}}}else k(Q)&&Q.hasOwnProperty("$types")&&(Q={$:Q,$types:!0});return!ee.returnTypeNames&&Q}return Ae.length?ae&&ee.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():Promise.resolve(function Q(te,se){return Promise.all(se.map(function(le){return le[1].p})).then(function(le){return Promise.all(le.map(function(De){var re=[],de=se.splice(0,1)[0],ie=s(de,7),we=ie[0],Se=ie[2],oe=ie[3],He=ie[4],Xe=ie[5],Ne=ie[6],je=q(we,De,Se,oe,re,!0,Ne),$e=A(je,L);return we&&$e?je.p.then(function(ht){return He[Xe]=ht,Q(te,re)}):(we?He[Xe]=je:te=$e?je.p:je,Q(te,re))}))}).then(function(){return te})}(Qe,Ae)).then(U):!ae&&ee.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():ee.stringification&&ae?[U(Qe)]:ae?U(Qe):Promise.resolve(U(Qe));function O(Q,te,se){Object.assign(Q,te);var le=m.map(function(De){var re=Q[De];return delete Q[De],re});se(),m.forEach(function(De,re){Q[De]=le[re]})}function q(Q,te,se,le,De,re,de){var ie=void 0,we={},Se=te===void 0?"undefined":n(te),oe=Me?function(pe){var Ie=de||le.type||T.getJSONType(te);Me(Object.assign(pe||we,{keypath:Q,value:te,cyclic:se,stateObj:le,promisesData:De,resolvingTypesonPromise:re,awaitingTypesonPromise:A(te,L)},Ie!==void 0?{type:Ie}:{}))}:null;if(Se in{string:1,boolean:1,number:1,undefined:1})return te===void 0||Se==="number"&&(isNaN(te)||te===-1/0||te===1/0)?(ie=fe(Q,te,le,De,!1,re,oe))!==te&&(we={replaced:ie}):ie=te,oe&&oe(),ie;if(te===null)return oe&&oe(),te;if(se&&!le.iterateIn&&!le.iterateUnsetNumeric){var He=ue.indexOf(te);if(!(He<0))return ve[Q]="#",oe&&oe({cyclicKeypath:Ue[He]}),"#"+Ue[He];se===!0&&(ue.push(te),Ue.push(Q))}var Xe=$(te),Ne=l(te),je=(Xe||Ne)&&(!S.length||le.replaced)||le.iterateIn?te:fe(Q,te,le,De,Xe||Ne,null,oe),$e=void 0;if(je!==te?(ie=je,we={replaced:je}):Ne||le.iterateIn==="array"?($e=new Array(te.length),we={clone:$e}):Xe||le.iterateIn==="object"?we={clone:$e={}}:(Q===""&&A(te,L)&&De.push([Q,te,se,le,void 0,void 0,le.type]),ie=te),oe&&oe(),ee.iterateNone)return $e||ie;if(!$e)return ie;if(le.iterateIn){var ht=function(Ie){var Te={ownKeys:te.hasOwnProperty(Ie)};O(le,Te,function(){var Je=Q+(Q?".":"")+N(Ie),nt=q(Je,te[Ie],!!se,le,De,re);A(nt,L)?De.push([Je,nt,!!se,le,$e,Ie,le.type]):nt!==void 0&&($e[Ie]=nt)})};for(var Ot in te)ht(Ot);oe&&oe({endIterateIn:!0,end:!0})}else u(te).forEach(function(pe){var Ie=Q+(Q?".":"")+N(pe);O(le,{ownKeys:!0},function(){var Te=q(Ie,te[pe],!!se,le,De,re);A(Te,L)?De.push([Ie,Te,!!se,le,$e,pe,le.type]):Te!==void 0&&($e[pe]=Te)})}),oe&&oe({endIterateOwn:!0,end:!0});if(le.iterateUnsetNumeric){for(var pt=te.length,Fn=function(Ie){if(!(Ie in te)){var Te=Q+(Q?".":"")+Ie;O(le,{ownKeys:!1},function(){var Je=q(Te,void 0,!!se,le,De,re);A(Je,L)?De.push([Te,Je,!!se,le,$e,Ie,le.type]):Je!==void 0&&($e[Ie]=Je)})}},Ee=0;Ee<pt;Ee++)Fn(Ee);oe&&oe({endIterateUnsetNumeric:!0,end:!0})}return $e}function fe(Q,te,se,le,De,re,de){for(var ie=De?S:g,we=ie.length;we--;){var Se=ie[we];if(Se.test(te,se)){var oe=Se.type;if(z[oe]){var He=ve[Q];ve[Q]=He?[oe].concat(He):oe}return Object.assign(se,{type:oe,replaced:!0}),!ae&&Se.replaceAsync||Se.replace?(de&&de({replacing:!0}),q(Q,Se[ae||!Se.replaceAsync?"replace":"replaceAsync"](te,se),ze&&"readonly",se,le,re,oe)):(de&&de({typeDetected:!0}),q(Q,te,ze&&"readonly",se,le,re,oe))}}return te}};this.encapsulateSync=function(J,H,ee){return X(J,H,Object.assign({},{throwOnBadSyncType:!0},ee,{sync:!0}))},this.encapsulateAsync=function(J,H,ee){return X(J,H,Object.assign({},{throwOnBadSyncType:!0},ee,{sync:!1}))};var ce=this.revive=function(J,H){var ee=(H=Object.assign({sync:!0},P,H)).sync,ae=J&&J.$types,ve=!0;if(!ae)return J;if(ae===!0)return J.$;ae.$&&$(ae.$)&&(J=J.$,ae=ae.$,ve=!1);var ue=[],Ue={},Ae=function ze(Me,Qe,U,O,q,fe){if(!(ve&&Me==="$types")){var Q=ae[Me];if(l(Qe)||$(Qe)){var te=l(Qe)?new Array(Qe.length):{};for(u(Qe).forEach(function(oe){var He=ze(Me+(Me?".":"")+N(oe),Qe[oe],U||te,O,te,oe);A(He,R)?te[oe]=void 0:He!==void 0&&(te[oe]=He)}),Qe=te;ue.length;){var se=s(ue[0],4),le=se[0],De=se[1],re=se[2],de=se[3],ie=x(le,De);if(A(ie,R))re[de]=void 0;else{if(ie===void 0)break;re[de]=ie}ue.splice(0,1)}}if(!Q)return Qe;if(Q==="#"){var we=x(U,Qe.substr(1));return we===void 0&&ue.push([U,Qe.substr(1),q,fe]),we}var Se=O.sync;return[].concat(Q).reduce(function(oe,He){var Xe=z[He];if(!Xe)throw new Error("Unregistered type: "+He);return Xe[Se&&Xe.revive?"revive":!Se&&Xe.reviveAsync?"reviveAsync":"revive"](oe,Ue)},Qe)}}("",J,null,H);return E(Ae=A(Ae,R)?void 0:Ae)?ee&&H.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():Ae:!ee&&H.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():ee?Ae:Promise.resolve(Ae)};this.reviveSync=function(J,H){return ce(J,Object.assign({},{throwOnBadSyncType:!0},H,{sync:!0}))},this.reviveAsync=function(J,H){return ce(J,Object.assign({},{throwOnBadSyncType:!0},H,{sync:!1}))},this.register=function(J,H){return H=H||{},[].concat(J).forEach(function ee(ae){if(l(ae))return ae.map(ee);ae&&u(ae).forEach(function(ve){if(ve==="#")throw new TypeError("# cannot be used as a type name as it is reserved for cyclic objects");if(T.JSON_TYPES.includes(ve))throw new TypeError("Plain JSON object types are reserved as type names");var ue=ae[ve],Ue=ue.testPlainObjects?S:g,Ae=Ue.filter(function(O){return O.type===ve});if(Ae.length&&(Ue.splice(Ue.indexOf(Ae[0]),1),delete z[ve],delete M[ve]),ue){if(typeof ue=="function"){var ze=ue;ue={test:function(q){return q&&q.constructor===ze},replace:function(q){return B({},q)},revive:function(q){return B(Object.create(ze.prototype),q)}}}else l(ue)&&(ue={test:ue[0],replace:ue[1],revive:ue[2]});var Me={type:ve,test:ue.test.bind(ue)};ue.replace&&(Me.replace=ue.replace.bind(ue)),ue.replaceAsync&&(Me.replaceAsync=ue.replaceAsync.bind(ue));var Qe=typeof H.fallback=="number"?H.fallback:H.fallback?0:1/0;if(ue.testPlainObjects?S.splice(Qe,0,Me):g.splice(Qe,0,Me),ue.revive||ue.reviveAsync){var U={};ue.revive&&(U.revive=ue.revive.bind(ue)),ue.reviveAsync&&(U.reviveAsync=ue.reviveAsync.bind(ue)),z[ve]=U}M[ve]=ue}})}),this}}function B(P,S){return u(S).map(function(g){P[g]=S[g]}),P}function N(P){return P.replace(/~/g,"~0").replace(/\./g,"~1")}function w(P){return P.replace(/~1/g,".").replace(/~0/g,"~")}function x(P,S){if(S==="")return P;var g=S.indexOf(".");if(g>-1){var z=P[w(S.substr(0,g))];return z===void 0?void 0:x(z,S.substr(g+1))}return P[w(S)]}function R(){}function L(P){this.p=new Promise(P)}return L.prototype.then=function(P,S){var g=this;return new L(function(z,M){g.p.then(function(V){z(P?P(V):V)},function(V){g.p.catch(function(ne){return S?S(ne):Promise.reject(ne)}).then(z,M)})})},L.prototype.catch=function(P){return this.then(null,P)},L.resolve=function(P){return new L(function(S){S(P)})},L.reject=function(P){return new L(function(S,g){g(P)})},["all","race"].map(function(P){L[P]=function(S){return new L(function(g,z){Promise[P](S.map(function(M){return M.p})).then(g,z)})}}),T.Undefined=R,T.Promise=L,T.isThenable=E,T.toStringTag=I,T.hasConstructorOf=A,T.isObject=k,T.isPlainObject=$,T.isUserObject=function P(S){if(!S||I(S)!=="Object")return!1;var g=d(S);return!g||A(S,Object)||P(g)},T.escapeKeyPathComponent=N,T.unescapeKeyPathComponent=w,T.getByKeyPath=x,T.getJSONType=function(P){return P===null?"null":l(P)?"array":P===void 0?"undefined":n(P)},T.JSON_TYPES=["null","boolean","number","string","array","object"],T})}),SP=wh(function(t,e){(function(n,s){t.exports=s()})(If,function(){var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},s=function(){return function(U,O){if(Array.isArray(U))return U;if(Symbol.iterator in Object(U))return function(fe,Q){var te=[],se=!0,le=!1,De=void 0;try{for(var re,de=fe[Symbol.iterator]();!(se=(re=de.next()).done)&&(te.push(re.value),!Q||te.length!==Q);se=!0);}catch(ie){le=!0,De=ie}finally{try{!se&&de.return&&de.return()}finally{if(le)throw De}}return te}(U,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(U){if(Array.isArray(U)){for(var O=0,q=Array(U.length);O<U.length;O++)q[O]=U[O];return q}return Array.from(U)},u=Object.keys,l=Array.isArray,c={}.toString,d=Object.getPrototypeOf,h={}.hasOwnProperty,v=h.toString,m=["type","replaced","iterateIn","iterateUnsetNumeric"];function E(U,O){return T.isObject(U)&&typeof U.then=="function"&&(!O||typeof U.catch=="function")}function I(U){return c.call(U).slice(8,-1)}function A(U,O){if(!U||(U===void 0?"undefined":n(U))!=="object")return!1;var q=d(U);if(!q)return!1;var fe=h.call(q,"constructor")&&q.constructor;return typeof fe!="function"?O===null:typeof fe=="function"&&O!==null&&v.call(fe)===v.call(O)}function $(U){return!(!U||I(U)!=="Object")&&(!d(U)||A(U,Object))}function k(U){return U&&(U===void 0?"undefined":n(U))==="object"}function T(U){var O=[],q=[],fe={},Q=this.types={},te=this.stringify=function(re,de,ie,we){we=Object.assign({},U,we,{stringification:!0});var Se=le(re,null,we);return l(Se)?JSON.stringify(Se[0],de,ie):Se.then(function(oe){return JSON.stringify(oe,de,ie)})};this.stringifySync=function(re,de,ie,we){return te(re,de,ie,Object.assign({},{throwOnBadSyncType:!0},we,{sync:!0}))},this.stringifyAsync=function(re,de,ie,we){return te(re,de,ie,Object.assign({},{throwOnBadSyncType:!0},we,{sync:!1}))};var se=this.parse=function(re,de,ie){return ie=Object.assign({},U,ie,{parse:!0}),De(JSON.parse(re,de),ie)};this.parseSync=function(re,de,ie){return se(re,de,Object.assign({},{throwOnBadSyncType:!0},ie,{sync:!0}))},this.parseAsync=function(re,de,ie){return se(re,de,Object.assign({},{throwOnBadSyncType:!0},ie,{sync:!1}))},this.specialTypeNames=function(re,de){var ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ie.returnTypeNames=!0,this.encapsulate(re,de,ie)},this.rootTypeName=function(re,de){var ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ie.iterateNone=!0,this.encapsulate(re,de,ie)};var le=this.encapsulate=function(re,de,ie){var we=(ie=Object.assign({sync:!0},U,ie)).sync,Se={},oe=[],He=[],Xe=[],Ne=!(ie&&"cyclic"in ie)||ie.cyclic,je=ie.encapsulateObserver,$e=pt("",re,Ne,de||{},Xe);function ht(Ee){var pe=Object.values(Se);if(ie.iterateNone)return pe.length?pe[0]:T.getJSONType(Ee);if(pe.length){if(ie.returnTypeNames)return[].concat(o(new Set(pe)));Ee&&$(Ee)&&!Ee.hasOwnProperty("$types")?Ee.$types=Se:Ee={$:Ee,$types:{$:Se}}}else k(Ee)&&Ee.hasOwnProperty("$types")&&(Ee={$:Ee,$types:!0});return!ie.returnTypeNames&&Ee}return Xe.length?we&&ie.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():Promise.resolve(function Ee(pe,Ie){return Promise.all(Ie.map(function(Te){return Te[1].p})).then(function(Te){return Promise.all(Te.map(function(Je){var nt=[],Xt=Ie.splice(0,1)[0],ot=s(Xt,7),kt=ot[0],Ct=ot[2],Ve=ot[3],St=ot[4],Zt=ot[5],Gr=ot[6],kn=pt(kt,Je,Ct,Ve,nt,!0,Gr),$t=A(kn,L);return kt&&$t?kn.p.then(function(us){return St[Zt]=us,Ee(pe,nt)}):(kt?St[Zt]=kn:pe=$t?kn.p:kn,Ee(pe,nt))}))}).then(function(){return pe})}($e,Xe)).then(ht):!we&&ie.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():ie.stringification&&we?[ht($e)]:we?ht($e):Promise.resolve(ht($e));function Ot(Ee,pe,Ie){Object.assign(Ee,pe);var Te=m.map(function(Je){var nt=Ee[Je];return delete Ee[Je],nt});Ie(),m.forEach(function(Je,nt){Ee[Je]=Te[nt]})}function pt(Ee,pe,Ie,Te,Je,nt,Xt){var ot=void 0,kt={},Ct=pe===void 0?"undefined":n(pe),Ve=je?function(pn){var xt=Xt||Te.type||T.getJSONType(pe);je(Object.assign(pn||kt,{keypath:Ee,value:pe,cyclic:Ie,stateObj:Te,promisesData:Je,resolvingTypesonPromise:nt,awaitingTypesonPromise:A(pe,L)},xt!==void 0?{type:xt}:{}))}:null;if(Ct in{string:1,boolean:1,number:1,undefined:1})return pe===void 0||Ct==="number"&&(isNaN(pe)||pe===-1/0||pe===1/0)?(ot=Fn(Ee,pe,Te,Je,!1,nt,Ve))!==pe&&(kt={replaced:ot}):ot=pe,Ve&&Ve(),ot;if(pe===null)return Ve&&Ve(),pe;if(Ie&&!Te.iterateIn&&!Te.iterateUnsetNumeric){var St=oe.indexOf(pe);if(!(St<0))return Se[Ee]="#",Ve&&Ve({cyclicKeypath:He[St]}),"#"+He[St];Ie===!0&&(oe.push(pe),He.push(Ee))}var Zt=$(pe),Gr=l(pe),kn=(Zt||Gr)&&(!O.length||Te.replaced)||Te.iterateIn?pe:Fn(Ee,pe,Te,Je,Zt||Gr,null,Ve),$t=void 0;if(kn!==pe?(ot=kn,kt={replaced:kn}):Gr||Te.iterateIn==="array"?($t=new Array(pe.length),kt={clone:$t}):Zt||Te.iterateIn==="object"?kt={clone:$t={}}:(Ee===""&&A(pe,L)&&Je.push([Ee,pe,Ie,Te,void 0,void 0,Te.type]),ot=pe),Ve&&Ve(),ie.iterateNone)return $t||ot;if(!$t)return ot;if(Te.iterateIn){var us=function(xt){var Cn={ownKeys:pe.hasOwnProperty(xt)};Ot(Te,Cn,function(){var Xn=Ee+(Ee?".":"")+N(xt),_i=pt(Xn,pe[xt],!!Ie,Te,Je,nt);A(_i,L)?Je.push([Xn,_i,!!Ie,Te,$t,xt,Te.type]):_i!==void 0&&($t[xt]=_i)})};for(var Nu in pe)us(Nu);Ve&&Ve({endIterateIn:!0,end:!0})}else u(pe).forEach(function(pn){var xt=Ee+(Ee?".":"")+N(pn);Ot(Te,{ownKeys:!0},function(){var Cn=pt(xt,pe[pn],!!Ie,Te,Je,nt);A(Cn,L)?Je.push([xt,Cn,!!Ie,Te,$t,pn,Te.type]):Cn!==void 0&&($t[pn]=Cn)})}),Ve&&Ve({endIterateOwn:!0,end:!0});if(Te.iterateUnsetNumeric){for(var Ru=pe.length,ls=function(xt){if(!(xt in pe)){var Cn=Ee+(Ee?".":"")+xt;Ot(Te,{ownKeys:!1},function(){var Xn=pt(Cn,void 0,!!Ie,Te,Je,nt);A(Xn,L)?Je.push([Cn,Xn,!!Ie,Te,$t,xt,Te.type]):Xn!==void 0&&($t[xt]=Xn)})}},cs=0;cs<Ru;cs++)ls(cs);Ve&&Ve({endIterateUnsetNumeric:!0,end:!0})}return $t}function Fn(Ee,pe,Ie,Te,Je,nt,Xt){for(var ot=Je?O:q,kt=ot.length;kt--;){var Ct=ot[kt];if(Ct.test(pe,Ie)){var Ve=Ct.type;if(fe[Ve]){var St=Se[Ee];Se[Ee]=St?[Ve].concat(St):Ve}return Object.assign(Ie,{type:Ve,replaced:!0}),!we&&Ct.replaceAsync||Ct.replace?(Xt&&Xt({replacing:!0}),pt(Ee,Ct[we||!Ct.replaceAsync?"replace":"replaceAsync"](pe,Ie),Ne&&"readonly",Ie,Te,nt,Ve)):(Xt&&Xt({typeDetected:!0}),pt(Ee,pe,Ne&&"readonly",Ie,Te,nt,Ve))}}return pe}};this.encapsulateSync=function(re,de,ie){return le(re,de,Object.assign({},{throwOnBadSyncType:!0},ie,{sync:!0}))},this.encapsulateAsync=function(re,de,ie){return le(re,de,Object.assign({},{throwOnBadSyncType:!0},ie,{sync:!1}))};var De=this.revive=function(re,de){var ie=(de=Object.assign({sync:!0},U,de)).sync,we=re&&re.$types,Se=!0;if(!we)return re;if(we===!0)return re.$;we.$&&$(we.$)&&(re=re.$,we=we.$,Se=!1);var oe=[],He={},Xe=function Ne(je,$e,ht,Ot,pt,Fn){if(!(Se&&je==="$types")){var Ee=we[je];if(l($e)||$($e)){var pe=l($e)?new Array($e.length):{};for(u($e).forEach(function(Ve){var St=Ne(je+(je?".":"")+N(Ve),$e[Ve],ht||pe,Ot,pe,Ve);A(St,R)?pe[Ve]=void 0:St!==void 0&&(pe[Ve]=St)}),$e=pe;oe.length;){var Ie=s(oe[0],4),Te=Ie[0],Je=Ie[1],nt=Ie[2],Xt=Ie[3],ot=x(Te,Je);if(A(ot,R))nt[Xt]=void 0;else{if(ot===void 0)break;nt[Xt]=ot}oe.splice(0,1)}}if(!Ee)return $e;if(Ee==="#"){var kt=x(ht,$e.substr(1));return kt===void 0&&oe.push([ht,$e.substr(1),pt,Fn]),kt}var Ct=Ot.sync;return[].concat(Ee).reduce(function(Ve,St){var Zt=fe[St];if(!Zt)throw new Error("Unregistered type: "+St);return Zt[Ct&&Zt.revive?"revive":!Ct&&Zt.reviveAsync?"reviveAsync":"revive"](Ve,He)},$e)}}("",re,null,de);return E(Xe=A(Xe,R)?void 0:Xe)?ie&&de.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():Xe:!ie&&de.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():ie?Xe:Promise.resolve(Xe)};this.reviveSync=function(re,de){return De(re,Object.assign({},{throwOnBadSyncType:!0},de,{sync:!0}))},this.reviveAsync=function(re,de){return De(re,Object.assign({},{throwOnBadSyncType:!0},de,{sync:!1}))},this.register=function(re,de){return de=de||{},[].concat(re).forEach(function ie(we){if(l(we))return we.map(ie);we&&u(we).forEach(function(Se){if(Se==="#")throw new TypeError("# cannot be used as a type name as it is reserved for cyclic objects");if(T.JSON_TYPES.includes(Se))throw new TypeError("Plain JSON object types are reserved as type names");var oe=we[Se],He=oe.testPlainObjects?O:q,Xe=He.filter(function(Ot){return Ot.type===Se});if(Xe.length&&(He.splice(He.indexOf(Xe[0]),1),delete fe[Se],delete Q[Se]),oe){if(typeof oe=="function"){var Ne=oe;oe={test:function(pt){return pt&&pt.constructor===Ne},replace:function(pt){return B({},pt)},revive:function(pt){return B(Object.create(Ne.prototype),pt)}}}else l(oe)&&(oe={test:oe[0],replace:oe[1],revive:oe[2]});var je={type:Se,test:oe.test.bind(oe)};oe.replace&&(je.replace=oe.replace.bind(oe)),oe.replaceAsync&&(je.replaceAsync=oe.replaceAsync.bind(oe));var $e=typeof de.fallback=="number"?de.fallback:de.fallback?0:1/0;if(oe.testPlainObjects?O.splice($e,0,je):q.splice($e,0,je),oe.revive||oe.reviveAsync){var ht={};oe.revive&&(ht.revive=oe.revive.bind(oe)),oe.reviveAsync&&(ht.reviveAsync=oe.reviveAsync.bind(oe)),fe[Se]=ht}Q[Se]=oe}})}),this}}function B(U,O){return u(O).map(function(q){U[q]=O[q]}),U}function N(U){return U.replace(/~/g,"~0").replace(/\./g,"~1")}function w(U){return U.replace(/~1/g,".").replace(/~0/g,"~")}function x(U,O){if(O==="")return U;var q=O.indexOf(".");if(q>-1){var fe=U[w(O.substr(0,q))];return fe===void 0?void 0:x(fe,O.substr(q+1))}return U[w(O)]}function R(){}function L(U){this.p=new Promise(U)}L.prototype.then=function(U,O){var q=this;return new L(function(fe,Q){q.p.then(function(te){fe(U?U(te):te)},function(te){q.p.catch(function(se){return O?O(se):Promise.reject(se)}).then(fe,Q)})})},L.prototype.catch=function(U){return this.then(null,U)},L.resolve=function(U){return new L(function(O){O(U)})},L.reject=function(U){return new L(function(O,q){q(U)})},["all","race"].map(function(U){L[U]=function(O){return new L(function(q,fe){Promise[U](O.map(function(Q){return Q.p})).then(q,fe)})}}),T.Undefined=R,T.Promise=L,T.isThenable=E,T.toStringTag=I,T.hasConstructorOf=A,T.isObject=k,T.isPlainObject=$,T.isUserObject=function U(O){if(!O||I(O)!=="Object")return!1;var q=d(O);return!q||A(O,Object)||U(q)},T.escapeKeyPathComponent=N,T.unescapeKeyPathComponent=w,T.getByKeyPath=x,T.getJSONType=function(U){return U===null?"null":l(U)?"array":U===void 0?"undefined":n(U)},T.JSON_TYPES=["null","boolean","number","string","array","object"];for(var P={userObject:{test:function(O,q){return T.isUserObject(O)},replace:function(O){return Object.assign({},O)},revive:function(O){return O}}},S=[[{sparseArrays:{testPlainObjects:!0,test:function(O){return Array.isArray(O)},replace:function(O,q){return q.iterateUnsetNumeric=!0,O}}},{sparseUndefined:{test:function(O,q){return O===void 0&&q.ownKeys===!1},replace:function(O){return null},revive:function(O){}}}],{undef:{test:function(O,q){return O===void 0&&(q.ownKeys||!("ownKeys"in q))},replace:function(O){return null},revive:function(O){return new T.Undefined}}}],g={StringObject:{test:function(O){return T.toStringTag(O)==="String"&&(O===void 0?"undefined":n(O))==="object"},replace:function(O){return String(O)},revive:function(O){return new String(O)}},BooleanObject:{test:function(O){return T.toStringTag(O)==="Boolean"&&(O===void 0?"undefined":n(O))==="object"},replace:function(O){return Boolean(O)},revive:function(O){return new Boolean(O)}},NumberObject:{test:function(O){return T.toStringTag(O)==="Number"&&(O===void 0?"undefined":n(O))==="object"},replace:function(O){return Number(O)},revive:function(O){return new Number(O)}}},z=[{nan:{test:function(O){return typeof O=="number"&&isNaN(O)},replace:function(O){return"NaN"},revive:function(O){return NaN}}},{infinity:{test:function(O){return O===1/0},replace:function(O){return"Infinity"},revive:function(O){return 1/0}}},{negativeInfinity:{test:function(O){return O===-1/0},replace:function(O){return"-Infinity"},revive:function(O){return-1/0}}}],M={date:{test:function(O){return T.toStringTag(O)==="Date"},replace:function(O){var q=O.getTime();return isNaN(q)?"NaN":q},revive:function(O){return O==="NaN"?new Date(NaN):new Date(O)}}},V={regexp:{test:function(O){return T.toStringTag(O)==="RegExp"},replace:function(O){return{source:O.source,flags:(O.global?"g":"")+(O.ignoreCase?"i":"")+(O.multiline?"m":"")+(O.sticky?"y":"")+(O.unicode?"u":"")}},revive:function(O){var q=O.source,fe=O.flags;return new RegExp(q,fe)}}},ne={map:{test:function(O){return T.toStringTag(O)==="Map"},replace:function(O){return Array.from(O.entries())},revive:function(O){return new Map(O)}}},X={set:{test:function(O){return T.toStringTag(O)==="Set"},replace:function(O){return Array.from(O.values())},revive:function(O){return new Set(O)}}},ce="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",J=new Uint8Array(256),H=0;H<ce.length;H++)J[ce.charCodeAt(H)]=H;var ee=function(O,q,fe){for(var Q=new Uint8Array(O,q,fe),te=Q.length,se="",le=0;le<te;le+=3)se+=ce[Q[le]>>2],se+=ce[(3&Q[le])<<4|Q[le+1]>>4],se+=ce[(15&Q[le+1])<<2|Q[le+2]>>6],se+=ce[63&Q[le+2]];return te%3==2?se=se.substring(0,se.length-1)+"=":te%3==1&&(se=se.substring(0,se.length-2)+"=="),se},ae=function(O){var q=O.length,fe=.75*O.length,Q=0,te=void 0,se=void 0,le=void 0,De=void 0;O[O.length-1]==="="&&(fe--,O[O.length-2]==="="&&fe--);for(var re=new ArrayBuffer(fe),de=new Uint8Array(re),ie=0;ie<q;ie+=4)te=J[O.charCodeAt(ie)],se=J[O.charCodeAt(ie+1)],le=J[O.charCodeAt(ie+2)],De=J[O.charCodeAt(ie+3)],de[Q++]=te<<2|se>>4,de[Q++]=(15&se)<<4|le>>2,de[Q++]=(3&le)<<6|63&De;return re},ve={arraybuffer:{test:function(O){return T.toStringTag(O)==="ArrayBuffer"},replace:function(O,q){q.buffers||(q.buffers=[]);var fe=q.buffers.indexOf(O);return fe>-1?{index:fe}:(q.buffers.push(O),ee(O))},revive:function(O,q){if(q.buffers||(q.buffers=[]),(O===void 0?"undefined":n(O))==="object")return q.buffers[O.index];var fe=ae(O);return q.buffers.push(fe),fe}}},ue=typeof self>"u"?If:self,Ue={};["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach(function(U){var O=U,q=ue[O];q&&(Ue[U.toLowerCase()]={test:function(Q){return T.toStringTag(Q)===O},replace:function(Q,te){var se=Q.buffer,le=Q.byteOffset,De=Q.length;te.buffers||(te.buffers=[]);var re=te.buffers.indexOf(se);return re>-1?{index:re,byteOffset:le,length:De}:(te.buffers.push(se),{encoded:ee(se),byteOffset:le,length:De})},revive:function(Q,te){te.buffers||(te.buffers=[]);var se=Q.byteOffset,le=Q.length,De=Q.encoded,re=Q.index,de=void 0;return"index"in Q?de=te.buffers[re]:(de=ae(De),te.buffers.push(de)),new q(de,se,le)}})});var Ae={dataview:{test:function(O){return T.toStringTag(O)==="DataView"},replace:function(O,q){var fe=O.buffer,Q=O.byteOffset,te=O.byteLength;q.buffers||(q.buffers=[]);var se=q.buffers.indexOf(fe);return se>-1?{index:se,byteOffset:Q,byteLength:te}:(q.buffers.push(fe),{encoded:ee(fe),byteOffset:Q,byteLength:te})},revive:function(O,q){q.buffers||(q.buffers=[]);var fe=O.byteOffset,Q=O.byteLength,te=O.encoded,se=O.index,le=void 0;return"index"in O?le=q.buffers[se]:(le=ae(te),q.buffers.push(le)),new DataView(le,fe,Q)}}},ze={IntlCollator:{test:function(O){return T.hasConstructorOf(O,Intl.Collator)},replace:function(O){return O.resolvedOptions()},revive:function(O){return new Intl.Collator(O.locale,O)}},IntlDateTimeFormat:{test:function(O){return T.hasConstructorOf(O,Intl.DateTimeFormat)},replace:function(O){return O.resolvedOptions()},revive:function(O){return new Intl.DateTimeFormat(O.locale,O)}},IntlNumberFormat:{test:function(O){return T.hasConstructorOf(O,Intl.NumberFormat)},replace:function(O){return O.resolvedOptions()},revive:function(O){return new Intl.NumberFormat(O.locale,O)}}};function Me(U){for(var O=new Uint16Array(U.length),q=0;q<U.length;q++)O[q]=U.charCodeAt(q);return O.buffer}var Qe={file:{test:function(O){return T.toStringTag(O)==="File"},replace:function(O){var q=new XMLHttpRequest;if(q.open("GET",URL.createObjectURL(O),!1),typeof TextEncoder<"u"&&q.overrideMimeType("text/plain; charset=utf-16le"),q.status!==200&&q.status!==0)throw new Error("Bad Blob access: "+q.status);return q.send(),{type:O.type,stringContents:q.responseText,name:O.name,lastModified:O.lastModified}},revive:function(O){var q=O.name,fe=O.type,Q=O.stringContents,te=O.lastModified,se=Me(Q);return new File([se],q,{type:fe,lastModified:te})},replaceAsync:function(O){return new T.Promise(function(q,fe){if(O.isClosed)fe(new Error("The File is closed"));else{var Q=new FileReader;Q.addEventListener("load",function(){q({type:O.type,stringContents:Q.result,name:O.name,lastModified:O.lastModified})}),Q.addEventListener("error",function(){fe(Q.error)}),Q.readAsText(O,"UTF-16")}})}}};return[P,S,g,z,M,V,{imagedata:{test:function(O){return T.toStringTag(O)==="ImageData"},replace:function(O){return{array:Array.from(O.data),width:O.width,height:O.height}},revive:function(O){return new ImageData(new Uint8ClampedArray(O.array),O.width,O.height)}}},{imagebitmap:{test:function(O){return T.toStringTag(O)==="ImageBitmap"||O&&O.dataset&&O.dataset.toStringTag==="ImageBitmap"},replace:function(O){var q=document.createElement("canvas");return q.getContext("2d").drawImage(O,0,0),q.toDataURL()},revive:function(O){var q=document.createElement("canvas"),fe=q.getContext("2d"),Q=document.createElement("img");return Q.onload=function(){fe.drawImage(Q,0,0)},Q.src=O,q},reviveAsync:function(O){var q=document.createElement("canvas"),fe=q.getContext("2d"),Q=document.createElement("img");return Q.onload=function(){fe.drawImage(Q,0,0)},Q.src=O,createImageBitmap(q)}}},Qe,{file:Qe.file,filelist:{test:function(O){return T.toStringTag(O)==="FileList"},replace:function(O){for(var q=[],fe=0;fe<O.length;fe++)q[fe]=O.item(fe);return q},revive:function(O){function q(){this._files=arguments[0],this.length=this._files.length}return q.prototype.item=function(fe){return this._files[fe]},q.prototype[Symbol.toStringTag]="FileList",new q(O)}}},{blob:{test:function(O){return T.toStringTag(O)==="Blob"},replace:function(O){var q=new XMLHttpRequest;if(q.open("GET",URL.createObjectURL(O),!1),typeof TextEncoder<"u"&&q.overrideMimeType("text/plain; charset=utf-16le"),q.status!==200&&q.status!==0)throw new Error("Bad Blob access: "+q.status);return q.send(),{type:O.type,stringContents:q.responseText}},revive:function(O){var q=O.type,fe=O.stringContents;return new Blob([Me(fe)],{type:q})},replaceAsync:function(O){return new T.Promise(function(q,fe){if(O.isClosed)fe(new Error("The Blob is closed"));else{var Q=new FileReader;Q.addEventListener("load",function(){q({type:O.type,stringContents:Q.result})}),Q.addEventListener("error",function(){fe(Q.error)}),Q.readAsText(O,"UTF-16")}})}}}].concat(typeof Map=="function"?ne:[],typeof Set=="function"?X:[],typeof ArrayBuffer=="function"?ve:[],typeof Uint8Array=="function"?Ue:[],typeof DataView=="function"?Ae:[],typeof Intl<"u"?ze:[])})}),Hi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",zs=new Uint8Array(256);for(var Fa=0;Fa<Hi.length;Fa++)zs[Hi.charCodeAt(Fa)]=Fa;var Nf=function(e,n,s){s==null&&(s=e.byteLength);for(var o=new Uint8Array(e,n||0,s),u=o.length,l="",c=0;c<u;c+=3)l+=Hi[o[c]>>2],l+=Hi[(o[c]&3)<<4|o[c+1]>>4],l+=Hi[(o[c+1]&15)<<2|o[c+2]>>6],l+=Hi[o[c+2]&63];return u%3===2?l=l.substring(0,l.length-1)+"=":u%3===1&&(l=l.substring(0,l.length-2)+"=="),l},_A=function(e){var n=e.length,s=e.length*.75,o=0,u,l,c,d;e[e.length-1]==="="&&(s--,e[e.length-2]==="="&&s--);for(var h=new ArrayBuffer(s),v=new Uint8Array(h),m=0;m<n;m+=4)u=zs[e.charCodeAt(m)],l=zs[e.charCodeAt(m+1)],c=zs[e.charCodeAt(m+2)],d=zs[e.charCodeAt(m+3)],v[o++]=u<<2|l>>4,v[o++]=(l&15)<<4|c>>2,v[o++]=(c&3)<<6|d&63;return h},$P=typeof self>"u"?global:self,bA={};["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach(function(t){var e=t,n=$P[e];n&&(bA[t.toLowerCase()+"2"]={test:function(s){return Pu.toStringTag(s)===e},replace:function(s){var o=s.buffer,u=s.byteOffset,l=s.length;return{buffer:o,byteOffset:u,length:l}},revive:function(s){var o=s.buffer,u=s.byteOffset,l=s.length;return new n(o,u,l)}})});var xP={arraybuffer:{test:function(t){return Pu.toStringTag(t)==="ArrayBuffer"},replace:function(t){return Nf(t,0,t.byteLength)},revive:function(t){var e=_A(t);return e}}},xn=new Pu().register(SP),EP="FileReaderSync"in self,xu=[],Cc=0;xn.register([xP,bA,{blob2:{test:function(t){return Pu.toStringTag(t)==="Blob"},replace:function(t){if(t.isClosed)throw new Error("The Blob is closed");if(EP){var e=mA(t,"binary"),n=Nf(e,0,e.byteLength);return{type:t.type,data:n}}else{xu.push(t);var s={type:t.type,data:{start:Cc,end:Cc+t.size}};return console.log("b.size: "+t.size),Cc+=t.size,s}},finalize:function(t,e){t.data=Nf(e,0,e.byteLength)},revive:function(t){var e=t.type,n=t.data;return new Blob([_A(n)],{type:e})}}}]);xn.mustFinalize=function(){return xu.length>0};xn.finalize=function(t){return Hr(void 0,void 0,void 0,function(){var e,n,s,o,u,l,c,d,h,v;return Dn(this,function(m){switch(m.label){case 0:return[4,yA(new Blob(xu),"binary")];case 1:if(e=m.sent(),t){for(n=0,s=t;n<s.length;n++)if(o=s[n],o.$types){u=o.$types,l=u.$,l&&(u=u.$);for(c in u)d=u[c],h=xn.types[d],h&&h.finalize&&(v=Tt.getByKeyPath(o,l?"$."+c:c),h.finalize(v,e.slice(v.start,v.end)))}}return xu=[],[2]}})})};var TP=2e3;function OP(t,e){return Hr(this,void 0,void 0,function(){function n(){return Hr(this,void 0,void 0,function(){var h,v,m,E,I,A,$,k,T;return Dn(this,function(B){switch(B.label){case 0:return[4,Promise.all(t.tables.map(function(N){return N.count()}))];case 1:h=B.sent(),h.forEach(function(N,w){return o[w].rowCount=N}),d.totalRows=h.reduce(function(N,w){return N+w}),v=JSON.stringify(l,void 0,u?2:void 0),m=v.lastIndexOf("]"),E=v.substring(0,m),s.push(E),I=e.filter,A=function(N){var w,x,R,L,P,S,g,z,M,V,ne,X;return Dn(this,function(ce){switch(ce.label){case 0:w=t.table(N),x=w.schema.primKey,R=!!x.keyPath,L=e.numRowsPerChunk||TP,P=R?{tableName:w.name,inbound:!0,rows:[]}:{tableName:w.name,inbound:!1,rows:[]},S=JSON.stringify(P,void 0,u?2:void 0),u&&(S=S.split(`
`).join(`
    `)),g=S.lastIndexOf("]"),s.push(S.substring(0,g)),z=null,M=0,V=!0,ne=function(){var J,H,ee,ae,Ae,ve,ue,Ue,Ae;return Dn(this,function(ze){switch(ze.label){case 0:return c&&Tt.ignoreTransaction(function(){return c(d)}),J=z==null?w.limit(L):w.where(":id").above(z).limit(L),[4,J.toArray()];case 1:return H=ze.sent(),H.length===0?[2,"break"]:(z!=null&&M>0&&(s.push(","),u&&s.push(`
      `)),V=H.length===L,R?(ee=I?H.filter(function(Me){return I(N,Me)}):H,ae=ee.map(function(Me){return xn.encapsulate(Me)}),xn.mustFinalize()?[4,Tt.waitFor(xn.finalize(ae))]:[3,3]):[3,4]);case 2:ze.sent(),ze.label=3;case 3:return Ae=JSON.stringify(ae,void 0,u?2:void 0),u&&(Ae=Ae.split(`
`).join(`
      `)),s.push(new Blob([Ae.substring(1,Ae.length-1)])),M=ee.length,z=H.length>0?Tt.getByKeyPath(H[H.length-1],x.keyPath):null,[3,8];case 4:return[4,J.primaryKeys()];case 5:return ve=ze.sent(),ue=ve.map(function(Me,Qe){return[Me,H[Qe]]}),I&&(ue=ue.filter(function(Me){var Qe=Me[0],U=Me[1];return I(N,U,Qe)})),Ue=ue.map(function(Me){return xn.encapsulate(Me)}),xn.mustFinalize()?[4,Tt.waitFor(xn.finalize(Ue))]:[3,7];case 6:ze.sent(),ze.label=7;case 7:Ae=JSON.stringify(Ue,void 0,u?2:void 0),u&&(Ae=Ae.split(`
`).join(`
      `)),s.push(new Blob([Ae.substring(1,Ae.length-1)])),M=ue.length,z=ve.length>0?ve[ve.length-1]:null,ze.label=8;case 8:return d.completedRows+=H.length,[2]}})},ce.label=1;case 1:return V?[5,ne()]:[3,3];case 2:return X=ce.sent(),X==="break"?[3,3]:[3,1];case 3:return s.push(S.substr(g)),d.completedTables+=1,d.completedTables<d.totalTables&&s.push(","),[2]}})},$=0,k=o,B.label=2;case 2:return $<k.length?(T=k[$].name,[5,A(T)]):[3,5];case 3:B.sent(),B.label=4;case 4:return $++,[3,2];case 5:return s.push(v.substr(m)),d.done=!0,c&&Tt.ignoreTransaction(function(){return c(d)}),[2]}})})}var s,o,u,l,c,d;return Dn(this,function(h){switch(h.label){case 0:e=e||{},s=[],o=t.tables.map(function(v){return{name:v.name,schema:AP(v),rowCount:0}}),u=e.prettyJson,l={formatName:"dexie",formatVersion:1,data:{databaseName:t.name,databaseVersion:t.verno,tables:o,data:[]}},c=e.progressCallback,d={done:!1,completedRows:0,completedTables:0,totalRows:NaN,totalTables:t.tables.length},h.label=1;case 1:return h.trys.push([1,,6,7]),e.noTransaction?[4,n()]:[3,3];case 2:return h.sent(),[3,5];case 3:return[4,t.transaction("r",t.tables,n)];case 4:h.sent(),h.label=5;case 5:return[3,7];case 6:return xn.finalize(),[7];case 7:return c&&Tt.ignoreTransaction(function(){return c(d)}),[2,new Blob(s,{type:"text/json"})]}})})}var kP=1,CP={Stream:function(){}},PP=wh(function(t,e){(function(n){var s=typeof process=="object"&&process.env?process.env:self;n.parser=function(S){return new I(S)},n.CParser=I,n.CStream=$,n.createStream=A,n.MAX_BUFFER_LENGTH=10*1024*1024,n.DEBUG=s.CDEBUG==="debug",n.INFO=s.CDEBUG==="debug"||s.CDEBUG==="info",n.EVENTS=["value","string","key","openobject","closeobject","openarray","closearray","error","end","ready"];var o={textNode:void 0,numberNode:""},u=n.EVENTS.filter(function(S){return S!=="error"&&S!=="end"}),l=0,c;n.STATE={BEGIN:l++,VALUE:l++,OPEN_OBJECT:l++,CLOSE_OBJECT:l++,OPEN_ARRAY:l++,CLOSE_ARRAY:l++,TEXT_ESCAPE:l++,STRING:l++,BACKSLASH:l++,END:l++,OPEN_KEY:l++,CLOSE_KEY:l++,TRUE:l++,TRUE2:l++,TRUE3:l++,FALSE:l++,FALSE2:l++,FALSE3:l++,FALSE4:l++,NULL:l++,NULL2:l++,NULL3:l++,NUMBER_DECIMAL_POINT:l++,NUMBER_DIGIT:l++};for(var d in n.STATE)n.STATE[n.STATE[d]]=d;l=n.STATE;const h={tab:9,lineFeed:10,carriageReturn:13,space:32,doubleQuote:34,plus:43,comma:44,minus:45,period:46,_0:48,_9:57,colon:58,E:69,openBracket:91,backslash:92,closeBracket:93,a:97,b:98,e:101,f:102,l:108,n:110,r:114,s:115,t:116,u:117,openBrace:123,closeBrace:125};Object.create||(Object.create=function(S){function g(){this.__proto__=S}return g.prototype=S,new g}),Object.getPrototypeOf||(Object.getPrototypeOf=function(S){return S.__proto__}),Object.keys||(Object.keys=function(S){var g=[];for(var z in S)S.hasOwnProperty(z)&&g.push(z);return g});function v(S){var g=Math.max(n.MAX_BUFFER_LENGTH,10),z=0;for(var M in o){var V=S[M]===void 0?0:S[M].length;if(V>g)switch(M){case"text":closeText(S);break;default:x(S,"Max buffer length exceeded: "+M)}z=Math.max(z,V)}S.bufferCheckPosition=n.MAX_BUFFER_LENGTH-z+S.position}function m(S){for(var g in o)S[g]=o[g]}var E=/[\\"\n]/g;function I(S){if(!(this instanceof I))return new I(S);var g=this;m(g),g.bufferCheckPosition=n.MAX_BUFFER_LENGTH,g.q=g.c=g.p="",g.opt=S||{},g.closed=g.closedRoot=g.sawRoot=!1,g.tag=g.error=null,g.state=l.BEGIN,g.stack=new Array,g.position=g.column=0,g.line=1,g.slashed=!1,g.unicodeI=0,g.unicodeS=null,g.depth=0,k(g,"onready")}I.prototype={end:function(){R(this)},write:P,resume:function(){return this.error=null,this},close:function(){return this.write(null)}};try{c=CP.Stream}catch{c=function(){}}function A(S){return new $(S)}function $(S){if(!(this instanceof $))return new $(S);this._parser=new I(S),this.writable=!0,this.readable=!0,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:new Buffer(2),3:new Buffer(3),4:new Buffer(4)},this.string="";var g=this;c.apply(g),this._parser.onend=function(){g.emit("end")},this._parser.onerror=function(z){g.emit("error",z),g._parser.error=null},u.forEach(function(z){Object.defineProperty(g,"on"+z,{get:function(){return g._parser["on"+z]},set:function(M){if(!M)return g.removeAllListeners(z),g._parser["on"+z]=M,M;g.on(z,M)},enumerable:!0,configurable:!1})})}$.prototype=Object.create(c.prototype,{constructor:{value:$}}),$.prototype.write=function(S){S=new Buffer(S);for(var g=0;g<S.length;g++){var z=S[g];if(this.bytes_remaining>0){for(var M=0;M<this.bytes_remaining;M++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+M]=S[M];this.string=this.temp_buffs[this.bytes_in_sequence].toString(),this.bytes_in_sequence=this.bytes_remaining=0,g=g+M-1,this._parser.write(this.string),this.emit("data",this.string);continue}if(this.bytes_remaining===0&&z>=128)if(z>=194&&z<=223&&(this.bytes_in_sequence=2),z>=224&&z<=239&&(this.bytes_in_sequence=3),z>=240&&z<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+g>S.length){for(var V=0;V<=S.length-1-g;V++)this.temp_buffs[this.bytes_in_sequence][V]=S[g+V];return this.bytes_remaining=g+this.bytes_in_sequence-S.length,!0}else{this.string=S.slice(g,g+this.bytes_in_sequence).toString(),g=g+this.bytes_in_sequence-1,this._parser.write(this.string),this.emit("data",this.string);continue}for(var ne=g;ne<S.length&&!(S[ne]>=128);ne++);this.string=S.slice(g,ne).toString(),this._parser.write(this.string),this.emit("data",this.string),g=ne-1}},$.prototype.end=function(S){return S&&S.length&&this._parser.write(S.toString()),this._parser.end(),!0},$.prototype.on=function(S,g){var z=this;return!z._parser["on"+S]&&u.indexOf(S)!==-1&&(z._parser["on"+S]=function(){var M=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);M.splice(0,0,S),z.emit.apply(z,M)}),c.prototype.on.call(z,S,g)},$.prototype.destroy=function(){m(this._parser),this.emit("close")};function k(S,g,z){n.INFO&&console.log("-- emit",g,z),S[g]&&S[g](z)}function T(S,g,z){B(S),k(S,g,z)}function B(S,g){S.textNode=w(S.opt,S.textNode),S.textNode!==void 0&&k(S,g||"onvalue",S.textNode),S.textNode=void 0}function N(S){S.numberNode&&k(S,"onvalue",parseFloat(S.numberNode)),S.numberNode=""}function w(S,g){return g===void 0||(S.trim&&(g=g.trim()),S.normalize&&(g=g.replace(/\s+/g," "))),g}function x(S,g){return B(S),g+=`
Line: `+S.line+`
Column: `+S.column+`
Char: `+S.c,g=new Error(g),S.error=g,k(S,"onerror",g),S}function R(S){return(S.state!==l.VALUE||S.depth!==0)&&x(S,"Unexpected end"),B(S),S.c="",S.closed=!0,k(S,"onend"),I.call(S,S.opt),S}function L(S){return S===h.carriageReturn||S===h.lineFeed||S===h.space||S===h.tab}function P(S){var g=this;if(this.error)throw this.error;if(g.closed)return x(g,"Cannot write after close. Assign an onready handler.");if(S===null)return R(g);var z=0,M=S.charCodeAt(0),V=g.p;for(n.DEBUG&&console.log("write -> ["+S+"]");M&&(V=M,g.c=M=S.charCodeAt(z++),V!==M?g.p=V:V=g.p,!!M);)switch(n.DEBUG&&console.log(z,M,n.STATE[g.state]),g.position++,M===h.lineFeed?(g.line++,g.column=0):g.column++,g.state){case l.BEGIN:M===h.openBrace?g.state=l.OPEN_OBJECT:M===h.openBracket?g.state=l.OPEN_ARRAY:L(M)||x(g,"Non-whitespace before {[.");continue;case l.OPEN_KEY:case l.OPEN_OBJECT:if(L(M))continue;if(g.state===l.OPEN_KEY)g.stack.push(l.CLOSE_KEY);else if(M===h.closeBrace){k(g,"onopenobject"),this.depth++,k(g,"oncloseobject"),this.depth--,g.state=g.stack.pop()||l.VALUE;continue}else g.stack.push(l.CLOSE_OBJECT);M===h.doubleQuote?g.state=l.STRING:x(g,'Malformed object key should start with "');continue;case l.CLOSE_KEY:case l.CLOSE_OBJECT:if(L(M))continue;g.state,l.CLOSE_KEY,M===h.colon?(g.state===l.CLOSE_OBJECT?(g.stack.push(l.CLOSE_OBJECT),B(g,"onopenobject"),this.depth++):B(g,"onkey"),g.state=l.VALUE):M===h.closeBrace?(T(g,"oncloseobject"),this.depth--,g.state=g.stack.pop()||l.VALUE):M===h.comma?(g.state===l.CLOSE_OBJECT&&g.stack.push(l.CLOSE_OBJECT),B(g),g.state=l.OPEN_KEY):x(g,"Bad object");continue;case l.OPEN_ARRAY:case l.VALUE:if(L(M))continue;if(g.state===l.OPEN_ARRAY)if(k(g,"onopenarray"),this.depth++,g.state=l.VALUE,M===h.closeBracket){k(g,"onclosearray"),this.depth--,g.state=g.stack.pop()||l.VALUE;continue}else g.stack.push(l.CLOSE_ARRAY);M===h.doubleQuote?g.state=l.STRING:M===h.openBrace?g.state=l.OPEN_OBJECT:M===h.openBracket?g.state=l.OPEN_ARRAY:M===h.t?g.state=l.TRUE:M===h.f?g.state=l.FALSE:M===h.n?g.state=l.NULL:M===h.minus?g.numberNode+="-":h._0<=M&&M<=h._9?(g.numberNode+=String.fromCharCode(M),g.state=l.NUMBER_DIGIT):x(g,"Bad value");continue;case l.CLOSE_ARRAY:if(M===h.comma)g.stack.push(l.CLOSE_ARRAY),B(g,"onvalue"),g.state=l.VALUE;else if(M===h.closeBracket)T(g,"onclosearray"),this.depth--,g.state=g.stack.pop()||l.VALUE;else{if(L(M))continue;x(g,"Bad array")}continue;case l.STRING:g.textNode===void 0&&(g.textNode="");var ne=z-1,X=g.slashed,ce=g.unicodeI;e:for(;;){for(n.DEBUG&&console.log(z,M,n.STATE[g.state],X);ce>0;)if(g.unicodeS+=String.fromCharCode(M),M=S.charCodeAt(z++),g.position++,ce===4?(g.textNode+=String.fromCharCode(parseInt(g.unicodeS,16)),ce=0,ne=z-1):ce++,!M)break e;if(M===h.doubleQuote&&!X){g.state=g.stack.pop()||l.VALUE,g.textNode+=S.substring(ne,z-1),g.position+=z-1-ne;break}if(M===h.backslash&&!X&&(X=!0,g.textNode+=S.substring(ne,z-1),g.position+=z-1-ne,M=S.charCodeAt(z++),g.position++,!M))break;if(X){if(X=!1,M===h.n?g.textNode+=`
`:M===h.r?g.textNode+="\r":M===h.t?g.textNode+="	":M===h.f?g.textNode+="\f":M===h.b?g.textNode+="\b":M===h.u?(ce=1,g.unicodeS=""):g.textNode+=String.fromCharCode(M),M=S.charCodeAt(z++),g.position++,ne=z-1,M)continue;break}E.lastIndex=z;var J=E.exec(S);if(J===null){z=S.length+1,g.textNode+=S.substring(ne,z-1),g.position+=z-1-ne;break}if(z=J.index+1,M=S.charCodeAt(J.index),!M){g.textNode+=S.substring(ne,z-1),g.position+=z-1-ne;break}}g.slashed=X,g.unicodeI=ce;continue;case l.TRUE:M===h.r?g.state=l.TRUE2:x(g,"Invalid true started with t"+M);continue;case l.TRUE2:M===h.u?g.state=l.TRUE3:x(g,"Invalid true started with tr"+M);continue;case l.TRUE3:M===h.e?(k(g,"onvalue",!0),g.state=g.stack.pop()||l.VALUE):x(g,"Invalid true started with tru"+M);continue;case l.FALSE:M===h.a?g.state=l.FALSE2:x(g,"Invalid false started with f"+M);continue;case l.FALSE2:M===h.l?g.state=l.FALSE3:x(g,"Invalid false started with fa"+M);continue;case l.FALSE3:M===h.s?g.state=l.FALSE4:x(g,"Invalid false started with fal"+M);continue;case l.FALSE4:M===h.e?(k(g,"onvalue",!1),g.state=g.stack.pop()||l.VALUE):x(g,"Invalid false started with fals"+M);continue;case l.NULL:M===h.u?g.state=l.NULL2:x(g,"Invalid null started with n"+M);continue;case l.NULL2:M===h.l?g.state=l.NULL3:x(g,"Invalid null started with nu"+M);continue;case l.NULL3:M===h.l?(k(g,"onvalue",null),g.state=g.stack.pop()||l.VALUE):x(g,"Invalid null started with nul"+M);continue;case l.NUMBER_DECIMAL_POINT:M===h.period?(g.numberNode+=".",g.state=l.NUMBER_DIGIT):x(g,"Leading zero not followed by .");continue;case l.NUMBER_DIGIT:h._0<=M&&M<=h._9?g.numberNode+=String.fromCharCode(M):M===h.period?(g.numberNode.indexOf(".")!==-1&&x(g,"Invalid number has two dots"),g.numberNode+="."):M===h.e||M===h.E?((g.numberNode.indexOf("e")!==-1||g.numberNode.indexOf("E")!==-1)&&x(g,"Invalid number has two exponential"),g.numberNode+="e"):M===h.plus||M===h.minus?(V===h.e||V===h.E||x(g,"Invalid symbol in number"),g.numberNode+=String.fromCharCode(M)):(N(g),z--,g.state=g.stack.pop()||l.VALUE);continue;default:x(g,"Unknown state: "+g.state)}return g.position>=g.bufferCheckPosition&&v(g),g}})(e)});function IP(t){var e=0,n=NP(!0),s={pullAsync:function(o){return Hr(this,void 0,void 0,function(){var u,l,c;return Dn(this,function(d){switch(d.label){case 0:return u=t.slice(e,e+o),e+=o,[4,yA(u,"text")];case 1:return l=d.sent(),c=n.write(l),s.result=c||{},[2,c]}})})},pullSync:function(o){var u=t.slice(e,e+o);e+=o;var l=mA(u,"text"),c=n.write(l);return s.result=c||{},c},done:function(){return n.done()},eof:function(){return e>=t.size},result:{}};return s}function NP(t){var e=PP.parser(),n=0,s,o=[],u,l,c=!1,d=!1;return e.onopenobject=function(h){var v={};v.incomplete=!0,s||(s=v),u&&(o.push([l,u,d]),t&&(d?u.push(v):u[l]=v)),u=v,l=h,d=!1,++n},e.onkey=function(h){return l=h},e.onvalue=function(h){return d?u.push(h):u[l]=h},e.oncloseobject=function(){var h;if(delete u.incomplete,l=null,--n===0)c=!0;else{var v=u;h=o.pop(),l=h[0],u=h[1],d=h[2],t||(d?u.push(v):u[l]=v)}},e.onopenarray=function(){var h=[];h.incomplete=!0,s||(s=h),u&&(o.push([l,u,d]),t&&(d?u.push(h):u[l]=h)),u=h,d=!0,l=null,++n},e.onclosearray=function(){var h;if(delete u.incomplete,l=null,--n===0)c=!0;else{var v=u;h=o.pop(),l=h[0],u=h[1],d=h[2],t||(d?u.push(v):u[l]=v)}},{write:function(h){return e.write(h),s},done:function(){return c}}}var AA=1024;function RP(t,e){return Hr(this,void 0,void 0,function(){var n,s,o,u;return Dn(this,function(l){switch(l.label){case 0:return e=e||{},n=e.chunkSizeBytes||AA*1024,[4,SA(t,n)];case 1:return s=l.sent(),o=s.result.data,u=new Tt(o.databaseName),u.version(o.databaseVersion).stores(wP(o)),[4,wA(u,s,e)];case 2:return l.sent(),[2,u]}})})}function wA(t,e,n){return Hr(this,void 0,void 0,function(){function s(){return Hr(this,void 0,void 0,function(){var A,$,k,T,B;return Dn(this,function(N){switch(N.label){case 0:A=function(w){var x,R,L,P,S,g,z,M,V,ne,X,ce;return Dn(this,function(J){switch(J.label){case 0:if(!w.rows)return[2,"break"];if(!w.rows.incomplete&&w.rows.length===0)return[2,"continue"];if(h&&Tt.ignoreTransaction(function(){return h(v)}),x=w.tableName,R=t.table(x),L=d.tables.filter(function(H){return H.name===x})[0].schema,!R){if(n.acceptMissingTables)return[2,"continue"];throw new Error("Exported table "+w.tableName+" is missing in installed database")}if(!n.acceptChangedPrimaryKey&&L.split(",")[0]!=R.schema.primKey.src)throw new Error("Primary key differs for table "+w.tableName+". ");for(P=w.rows,S=[],g=0;g<P.length&&(z=P[g],!z.incomplete);g++)S.push(xn.revive(z));return M=n.filter,V=M?w.inbound?S.filter(function(H){return M(x,H)}):S.filter(function(H){var ee=H[0],ae=H[1];return M(x,ae,ee)}):S,ne=w.inbound?[void 0,V]:[V.map(function(H){return H[0]}),S.map(function(H){return H[1]})],X=ne[0],ce=ne[1],n.overwriteValues?[4,R.bulkPut(ce,X)]:[3,2];case 1:return J.sent(),[3,4];case 2:return[4,R.bulkAdd(ce,X)];case 3:J.sent(),J.label=4;case 4:return v.completedRows+=S.length,S.incomplete||(v.completedTables+=1),P.splice(0,S.length),[2]}})},$=0,k=d.data,N.label=1;case 1:return $<k.length?(T=k[$],[5,A(T)]):[3,4];case 2:if(B=N.sent(),B==="break")return[3,4];N.label=3;case 3:return $++,[3,1];case 4:for(;d.data.length>0&&d.data[0].rows&&!d.data[0].rows.incomplete;)d.data.splice(0,1);return!u.done()&&!u.eof()?c?(u.pullSync(o),[3,7]):[3,5]:[3,8];case 5:return[4,Tt.waitFor(u.pullAsync(o))];case 6:N.sent(),N.label=7;case 7:return[3,9];case 8:return[3,10];case 9:return[3,0];case 10:return[2]}})})}var o,u,l,c,d,h,v,m,E,I;return Dn(this,function(A){switch(A.label){case 0:return n=n||{},o=n.chunkSizeBytes||AA*1024,[4,SA(e,o)];case 1:if(u=A.sent(),l=u.result,c="FileReaderSync"in self,d=l.data,!n.acceptNameDiff&&t.name!==d.databaseName)throw new Error("Name differs. Current database name is "+t.name+" but export is "+d.databaseName);if(!n.acceptVersionDiff&&t.verno!==d.databaseVersion)throw new Error("Database version differs. Current database is in version "+t.verno+" but export is "+d.databaseVersion);if(h=n.progressCallback,v={done:!1,completedRows:0,completedTables:0,totalRows:d.tables.reduce(function($,k){return $+k.rowCount},0),totalTables:d.tables.length},h&&Tt.ignoreTransaction(function(){return h(v)}),!n.clearTablesBeforeImport)return[3,5];m=0,E=t.tables,A.label=2;case 2:return m<E.length?(I=E[m],[4,I.clear()]):[3,5];case 3:A.sent(),A.label=4;case 4:return m++,[3,2];case 5:return n.noTransaction?[4,s()]:[3,7];case 6:return A.sent(),[3,9];case 7:return[4,t.transaction("rw",t.tables,s)];case 8:A.sent(),A.label=9;case 9:return v.done=!0,h&&Tt.ignoreTransaction(function(){return h(v)}),[2]}})})}function SA(t,e){return Hr(this,void 0,void 0,function(){var n,s;return Dn(this,function(o){switch(o.label){case 0:n="slice"in t?IP(t):t,o.label=1;case 1:return n.eof()?[3,3]:[4,n.pullAsync(e)];case 2:return o.sent(),n.result.data&&n.result.data.data?[3,3]:[3,1];case 3:if(s=n.result,!s||s.formatName!="dexie")throw new Error("Given file is not a dexie export");if(s.formatVersion>kP)throw new Error("Format version "+s.formatVersion+" not supported");if(!s.data)throw new Error("No data in export file");if(!s.data.databaseName)throw new Error("Missing databaseName in export file");if(!s.data.databaseVersion)throw new Error("Missing databaseVersion in export file");if(!s.data.tables)throw new Error("Missing tables in export file");return[2,n]}})})}Tt.prototype.export=function(t){return OP(this,t)};Tt.prototype.import=function(t,e){return wA(this,t,e)};Tt.import=function(t,e){return RP(t,e)};const be={query:"",links:[],sorted_links:[],loading:!1,link_selection_index:0,active_bang:!1,bang_selection_index:-1};function LP(t,e){Object.defineProperty(t,"name",{value:e,configurable:!0})}let DP=console.log;var vo;const Dt=new(vo=class{constructor(){var e,n,s,o,u,l,c,d,h,v,m,E,I,A,$,k,T,B,N,w,x,R,L,P,S,g,z,M,V,ne;this.data={};try{this.data=JSON.parse(globalThis.localStorage.fuzzyhome_config)}catch{}(n=(e=this.data).enable_tips)!=null||(e.enable_tips=!0),(o=(s=this.data).enable_buttons)!=null||(s.enable_buttons=!0),(l=(u=this.data).enable_search_on_paste)!=null||(u.enable_search_on_paste=!0),(d=(c=this.data).enable_dark_theme)!=null||(c.enable_dark_theme=!0),(v=(h=this.data).enable_effective_names)!=null||(h.enable_effective_names=!0),(E=(m=this.data).theme)!=null||(m.theme="timed"),(A=(I=this.data).default_bang)!=null||(I.default_bang={}),(k=($=this.data.default_bang).name)!=null||($.name="!google"),(B=(T=this.data.default_bang).display_name)!=null||(T.display_name="google"),(w=(N=this.data.default_bang).url)!=null||(N.url="https://www.google.com/search?q="),(R=(x=this.data.default_bang).frequency)!=null||(x.frequency=0),(P=(L=this.data.default_bang).icon)!=null||(L.icon="data:image/x-icon;base64,AAABAAIAEBAAAAEAIABoBAAAJgAAACAgAAABACAAqBAAAI4EAAAoAAAAEAAAACAAAAABACAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP///zD9/f2W/f392P39/fn9/f35/f391/39/ZT+/v4uAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/v7+Cf39/Zn///////////////////////////////////////////39/ZX///8IAAAAAAAAAAAAAAAA/v7+Cf39/cH/////+v35/7TZp/92ul3/WKs6/1iqOv9yuFn/rNWd//j79v///////f39v////wgAAAAAAAAAAP39/Zn/////7PXp/3G3WP9TqDT/U6g0/1OoNP9TqDT/U6g0/1OoNP+Or1j//vDo///////9/f2VAAAAAP///zD/////+vz5/3G3V/9TqDT/WKo6/6LQkf/U6cz/1urO/6rUm/+Zo0r/8IZB//adZ////v7///////7+/i79/f2Y/////4nWzf9Lqkj/Vqo4/9Xqzv///////////////////////ebY//SHRv/0hUL//NjD///////9/f2U/f392v////8sxPH/Ebzt/43RsP/////////////////////////////////4roL/9IVC//i1jf///////f391/39/fr/////Cr37/wW8+/+16/7/////////////////9IVC//SFQv/0hUL/9IVC//SFQv/3pnX///////39/fn9/f36/////wu++/8FvPv/tuz+//////////////////SFQv/0hUL/9IVC//SFQv/0hUL/96p7///////9/f35/f392/////81yfz/CrL5/2uk9v///////////////////////////////////////////////////////f392P39/Zn/////ks/7/zdS7P84Rur/0NT6///////////////////////9/f////////////////////////39/Zb+/v4y//////n5/v9WYu3/NUPq/ztJ6/+VnPT/z9L6/9HU+v+WnfT/Ul7t/+Hj/P////////////////////8wAAAAAP39/Z3/////6Or9/1hj7v81Q+r/NUPq/zVD6v81Q+r/NUPq/zVD6v9sdvD////////////9/f2YAAAAAAAAAAD///8K/f39w//////5+f7/paz2/11p7v88Suv/Okfq/1pm7v+iqfX/+fn+///////9/f3B/v7+CQAAAAAAAAAAAAAAAP///wr9/f2d///////////////////////////////////////////9/f2Z/v7+CQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP7+/jL9/f2Z/f392/39/fr9/f36/f392v39/Zj///8wAAAAAAAAAAAAAAAAAAAAAPAPAADAAwAAgAEAAIABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIABAACAAQAAwAMAAPAPAAAoAAAAIAAAAEAAAAABACAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP7+/g3+/v5X/f39mf39/cj9/f3q/f39+f39/fn9/f3q/f39yP39/Zn+/v5W////DAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP7+/iT9/f2c/f399f/////////////////////////////////////////////////////9/f31/f39mv7+/iMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP7+/gn9/f2K/f39+////////////////////////////////////////////////////////////////////////////f39+v39/Yf///8IAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD+/v4k/f390v////////////////////////////////////////////////////////////////////////////////////////////////39/dD///8iAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////MP39/er//////////////////////////+r05v+v16H/gsBs/2WxSf9Wqjj/Vqk3/2OwRv99vWX/pdKV/97u2P////////////////////////////39/ej+/v4vAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP7+/iT9/f3q/////////////////////+v15/+Pxnv/VKk2/1OoNP9TqDT/U6g0/1OoNP9TqDT/U6g0/1OoNP9TqDT/U6g0/36+Z//d7tf///////////////////////39/ej///8iAAAAAAAAAAAAAAAAAAAAAAAAAAD///8K/f390//////////////////////E4bn/XKw+/1OoNP9TqDT/U6g0/1OoNP9TqDT/U6g0/1OoNP9TqDT/U6g0/1OoNP9TqDT/U6g0/1apN/+x0pv///////////////////////39/dD///8IAAAAAAAAAAAAAAAAAAAAAP39/Yv/////////////////////sdij/1OoNP9TqDT/U6g0/1OoNP9TqDT/U6g0/1OoNP9TqDT/U6g0/1OoNP9TqDT/U6g0/1OoNP9TqDT/YKU1/8qOPv/5wZ////////////////////////39/YcAAAAAAAAAAAAAAAD+/v4l/f39+////////////////8Lgt/9TqDT/U6g0/1OoNP9TqDT/U6g0/1OoNP9utlT/n86N/7faqv+426v/pdKV/3u8ZP9UqDX/U6g0/3egN//jiUH/9IVC//SFQv/82MP//////////////////f39+v7+/iMAAAAAAAAAAP39/Z3////////////////q9Ob/W6w+/1OoNP9TqDT/U6g0/1OoNP9nskz/zOXC/////////////////////////////////+Dv2v+osWP/8YVC//SFQv/0hUL/9IVC//WQVP/++fb//////////////////f39mgAAAAD+/v4O/f399v///////////////4LHj/9TqDT/U6g0/1OoNP9TqDT/dblc//L58P/////////////////////////////////////////////8+v/3p3f/9IVC//SFQv/0hUL/9IVC//rIqf/////////////////9/f31////DP7+/ln////////////////f9v7/Cbz2/zOwhv9TqDT/U6g0/2KwRv/v9+z///////////////////////////////////////////////////////738//1kFT/9IVC//SFQv/0hUL/9plg///////////////////////+/v5W/f39nP///////////////4jf/f8FvPv/Bbz7/yG1s/9QqDz/vN2w//////////////////////////////////////////////////////////////////rHqP/0hUL/9IVC//SFQv/0hUL//vDn//////////////////39/Zn9/f3L////////////////R878/wW8+/8FvPv/Bbz7/y7C5P/7/fr//////////////////////////////////////////////////////////////////ere//SFQv/0hUL/9IVC//SFQv/718H//////////////////f39yP39/ez///////////////8cwvv/Bbz7/wW8+/8FvPv/WNL8///////////////////////////////////////0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//rIqv/////////////////9/f3q/f39+v///////////////we9+/8FvPv/Bbz7/wW8+/993P3///////////////////////////////////////SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/+cGf//////////////////39/fn9/f36////////////////B737/wW8+/8FvPv/Bbz7/33c/f//////////////////////////////////////9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/6xaX//////////////////f39+f39/e3///////////////8cwvv/Bbz7/wW8+/8FvPv/WdP8///////////////////////////////////////0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//vVv//////////////////9/f3q/f39y////////////////0bN/P8FvPv/Bbz7/wW8+/8hrvn/+/v///////////////////////////////////////////////////////////////////////////////////////////////////////////////////39/cj9/f2c////////////////ht/9/wW8+/8FvPv/FZP1/zRJ6/+zuPf//////////////////////////////////////////////////////////////////////////////////////////////////////////////////f39mf7+/lr////////////////d9v7/B7n7/yB38f81Q+r/NUPq/0hV7P/u8P3////////////////////////////////////////////////////////////////////////////////////////////////////////////+/v5X////D/39/ff///////////////9tkPT/NUPq/zVD6v81Q+r/NUPq/2Fs7//y8v7////////////////////////////////////////////09f7//////////////////////////////////////////////////f399f7+/g0AAAAA/f39n////////////////+Tm/P89Suv/NUPq/zVD6v81Q+r/NUPq/1Bc7f/IzPn/////////////////////////////////x8v5/0xY7P+MlPP////////////////////////////////////////////9/f2cAAAAAAAAAAD+/v4n/f39/P///////////////7W69/81Q+r/NUPq/zVD6v81Q+r/NUPq/zVD6v9ZZe7/k5v0/6609/+vtff/lJv0/1pm7v81Q+r/NUPq/zVD6v+GjvL//v7//////////////////////////////f39+/7+/iQAAAAAAAAAAAAAAAD9/f2N/////////////////////6Cn9f81Q+r/NUPq/zVD6v81Q+r/NUPq/zVD6v81Q+r/NUPq/zVD6v81Q+r/NUPq/zVD6v81Q+r/NUPq/zVD6v+BivL////////////////////////////9/f2KAAAAAAAAAAAAAAAAAAAAAP7+/gv9/f3V/////////////////////7W69/8+S+v/NUPq/zVD6v81Q+r/NUPq/zVD6v81Q+r/NUPq/zVD6v81Q+r/NUPq/zVD6v81Q+r/P0zr/7q/+P///////////////////////f390v7+/gkAAAAAAAAAAAAAAAAAAAAAAAAAAP7+/ib9/f3r/////////////////////+Xn/P94gfH/NkTq/zVD6v81Q+r/NUPq/zVD6v81Q+r/NUPq/zVD6v81Q+r/NkTq/3Z/8f/l5/z///////////////////////39/er+/v4kAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP7+/jL9/f3r///////////////////////////k5vz/nqX1/2p08P9IVez/OEbq/zdF6v9GU+z/aHLv/5qh9f/i5Pz////////////////////////////9/f3q////MAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP7+/ib9/f3V/////////////////////////////////////////////////////////////////////////////////////////////////f390v7+/iQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP///wr9/f2N/f39/P///////////////////////////////////////////////////////////////////////////f39+/39/Yv+/v4JAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD+/v4n/f39n/39/ff//////////////////////////////////////////////////////f399v39/Z3+/v4lAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/v7+Dv7+/lr9/f2c/f39y/39/e39/f36/f39+v39/ez9/f3L/f39nP7+/ln+/v4OAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/AA///AAD//AAAP/gAAB/wAAAP4AAAB8AAAAPAAAADgAAAAYAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAABgAAAAcAAAAPAAAAD4AAAB/AAAA/4AAAf/AAAP/8AAP//wAP/"),(g=(S=this.data.default_bang).id)!=null||(S.id="FEJbsKLUMwHbazbqW3c4i"),(M=(z=this.data.default_bang).history)!=null||(z.history=[]),(ne=(V=this.data.default_bang).is_bang)!=null||(V.is_bang=!0),DP("config:",this.data)}cycle_theme(){return this.data.theme==="dark"?this.data.theme="light":this.data.theme==="light"?this.data.theme="timed":this.data.theme="dark",this.save()}get theme(){if(this.data.theme==="light")return"light";if(this.data.theme==="timed"){let e=new Date().getHours();return e>18||e<8?"dark":"light"}else return"dark"}set_default_bang(e){return e.is_bang?(this.data.default_bang=e,this.save()):Qt("setting default bang","Link is not a bang.")}save(){return globalThis.localStorage.fuzzyhome_config=JSON.stringify(this.data)}},(()=>{LP(vo,"config")})(),vo);var qi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Gn={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(t,e){(function(){var n,s="4.17.21",o=200,u="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",c="Invalid `variable` option passed into `_.template`",d="__lodash_hash_undefined__",h=500,v="__lodash_placeholder__",m=1,E=2,I=4,A=1,$=2,k=1,T=2,B=4,N=8,w=16,x=32,R=64,L=128,P=256,S=512,g=30,z="...",M=800,V=16,ne=1,X=2,ce=3,J=1/0,H=9007199254740991,ee=17976931348623157e292,ae=0/0,ve=4294967295,ue=ve-1,Ue=ve>>>1,Ae=[["ary",L],["bind",k],["bindKey",T],["curry",N],["curryRight",w],["flip",S],["partial",x],["partialRight",R],["rearg",P]],ze="[object Arguments]",Me="[object Array]",Qe="[object AsyncFunction]",U="[object Boolean]",O="[object Date]",q="[object DOMException]",fe="[object Error]",Q="[object Function]",te="[object GeneratorFunction]",se="[object Map]",le="[object Number]",De="[object Null]",re="[object Object]",de="[object Promise]",ie="[object Proxy]",we="[object RegExp]",Se="[object Set]",oe="[object String]",He="[object Symbol]",Xe="[object Undefined]",Ne="[object WeakMap]",je="[object WeakSet]",$e="[object ArrayBuffer]",ht="[object DataView]",Ot="[object Float32Array]",pt="[object Float64Array]",Fn="[object Int8Array]",Ee="[object Int16Array]",pe="[object Int32Array]",Ie="[object Uint8Array]",Te="[object Uint8ClampedArray]",Je="[object Uint16Array]",nt="[object Uint32Array]",Xt=/\b__p \+= '';/g,ot=/\b(__p \+=) '' \+/g,kt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ct=/&(?:amp|lt|gt|quot|#39);/g,Ve=/[&<>"']/g,St=RegExp(Ct.source),Zt=RegExp(Ve.source),Gr=/<%-([\s\S]+?)%>/g,kn=/<%([\s\S]+?)%>/g,$t=/<%=([\s\S]+?)%>/g,us=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Nu=/^\w*$/,Ru=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ls=/[\\^$.*+?()[\]{}|]/g,cs=RegExp(ls.source),pn=/^\s+/,xt=/\s/,Cn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Xn=/\{\n\/\* \[wrapped with (.+)\] \*/,_i=/,? & /,PA=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,IA=/[()=,{}\[\]\/\s]/,NA=/\\(\\)?/g,RA=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Rh=/\w*$/,LA=/^[-+]0x[0-9a-f]+$/i,DA=/^0b[01]+$/i,BA=/^\[object .+?Constructor\]$/,MA=/^0o[0-7]+$/i,FA=/^(?:0|[1-9]\d*)$/,UA=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,To=/($^)/,KA=/['\n\r\u2028\u2029\\]/g,Oo="\\ud800-\\udfff",zA="\\u0300-\\u036f",jA="\\ufe20-\\ufe2f",qA="\\u20d0-\\u20ff",Lh=zA+jA+qA,Dh="\\u2700-\\u27bf",Bh="a-z\\xdf-\\xf6\\xf8-\\xff",VA="\\xac\\xb1\\xd7\\xf7",WA="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",HA="\\u2000-\\u206f",GA=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Mh="A-Z\\xc0-\\xd6\\xd8-\\xde",Fh="\\ufe0e\\ufe0f",Uh=VA+WA+HA+GA,Lu="['\u2019]",YA="["+Oo+"]",Kh="["+Uh+"]",ko="["+Lh+"]",zh="\\d+",QA="["+Dh+"]",jh="["+Bh+"]",qh="[^"+Oo+Uh+zh+Dh+Bh+Mh+"]",Du="\\ud83c[\\udffb-\\udfff]",JA="(?:"+ko+"|"+Du+")",Vh="[^"+Oo+"]",Bu="(?:\\ud83c[\\udde6-\\uddff]){2}",Mu="[\\ud800-\\udbff][\\udc00-\\udfff]",bi="["+Mh+"]",Wh="\\u200d",Hh="(?:"+jh+"|"+qh+")",XA="(?:"+bi+"|"+qh+")",Gh="(?:"+Lu+"(?:d|ll|m|re|s|t|ve))?",Yh="(?:"+Lu+"(?:D|LL|M|RE|S|T|VE))?",Qh=JA+"?",Jh="["+Fh+"]?",ZA="(?:"+Wh+"(?:"+[Vh,Bu,Mu].join("|")+")"+Jh+Qh+")*",e1="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",t1="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Xh=Jh+Qh+ZA,n1="(?:"+[QA,Bu,Mu].join("|")+")"+Xh,r1="(?:"+[Vh+ko+"?",ko,Bu,Mu,YA].join("|")+")",i1=RegExp(Lu,"g"),s1=RegExp(ko,"g"),Fu=RegExp(Du+"(?="+Du+")|"+r1+Xh,"g"),o1=RegExp([bi+"?"+jh+"+"+Gh+"(?="+[Kh,bi,"$"].join("|")+")",XA+"+"+Yh+"(?="+[Kh,bi+Hh,"$"].join("|")+")",bi+"?"+Hh+"+"+Gh,bi+"+"+Yh,t1,e1,zh,n1].join("|"),"g"),a1=RegExp("["+Wh+Oo+Lh+Fh+"]"),u1=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,l1=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],c1=-1,at={};at[Ot]=at[pt]=at[Fn]=at[Ee]=at[pe]=at[Ie]=at[Te]=at[Je]=at[nt]=!0,at[ze]=at[Me]=at[$e]=at[U]=at[ht]=at[O]=at[fe]=at[Q]=at[se]=at[le]=at[re]=at[we]=at[Se]=at[oe]=at[Ne]=!1;var st={};st[ze]=st[Me]=st[$e]=st[ht]=st[U]=st[O]=st[Ot]=st[pt]=st[Fn]=st[Ee]=st[pe]=st[se]=st[le]=st[re]=st[we]=st[Se]=st[oe]=st[He]=st[Ie]=st[Te]=st[Je]=st[nt]=!0,st[fe]=st[Q]=st[Ne]=!1;var f1={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},h1={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},d1={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},p1={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},v1=parseFloat,g1=parseInt,Zh=typeof qi=="object"&&qi&&qi.Object===Object&&qi,y1=typeof self=="object"&&self&&self.Object===Object&&self,Pt=Zh||y1||Function("return this")(),Uu=e&&!e.nodeType&&e,Yr=Uu&&!0&&t&&!t.nodeType&&t,ed=Yr&&Yr.exports===Uu,Ku=ed&&Zh.process,vn=function(){try{var F=Yr&&Yr.require&&Yr.require("util").types;return F||Ku&&Ku.binding&&Ku.binding("util")}catch{}}(),td=vn&&vn.isArrayBuffer,nd=vn&&vn.isDate,rd=vn&&vn.isMap,id=vn&&vn.isRegExp,sd=vn&&vn.isSet,od=vn&&vn.isTypedArray;function en(F,W,j){switch(j.length){case 0:return F.call(W);case 1:return F.call(W,j[0]);case 2:return F.call(W,j[0],j[1]);case 3:return F.call(W,j[0],j[1],j[2])}return F.apply(W,j)}function m1(F,W,j,ge){for(var Re=-1,Ze=F==null?0:F.length;++Re<Ze;){var _t=F[Re];W(ge,_t,j(_t),F)}return ge}function gn(F,W){for(var j=-1,ge=F==null?0:F.length;++j<ge&&W(F[j],j,F)!==!1;);return F}function _1(F,W){for(var j=F==null?0:F.length;j--&&W(F[j],j,F)!==!1;);return F}function ad(F,W){for(var j=-1,ge=F==null?0:F.length;++j<ge;)if(!W(F[j],j,F))return!1;return!0}function br(F,W){for(var j=-1,ge=F==null?0:F.length,Re=0,Ze=[];++j<ge;){var _t=F[j];W(_t,j,F)&&(Ze[Re++]=_t)}return Ze}function Co(F,W){var j=F==null?0:F.length;return!!j&&Ai(F,W,0)>-1}function zu(F,W,j){for(var ge=-1,Re=F==null?0:F.length;++ge<Re;)if(j(W,F[ge]))return!0;return!1}function lt(F,W){for(var j=-1,ge=F==null?0:F.length,Re=Array(ge);++j<ge;)Re[j]=W(F[j],j,F);return Re}function Ar(F,W){for(var j=-1,ge=W.length,Re=F.length;++j<ge;)F[Re+j]=W[j];return F}function ju(F,W,j,ge){var Re=-1,Ze=F==null?0:F.length;for(ge&&Ze&&(j=F[++Re]);++Re<Ze;)j=W(j,F[Re],Re,F);return j}function b1(F,W,j,ge){var Re=F==null?0:F.length;for(ge&&Re&&(j=F[--Re]);Re--;)j=W(j,F[Re],Re,F);return j}function qu(F,W){for(var j=-1,ge=F==null?0:F.length;++j<ge;)if(W(F[j],j,F))return!0;return!1}var A1=Vu("length");function w1(F){return F.split("")}function S1(F){return F.match(PA)||[]}function ud(F,W,j){var ge;return j(F,function(Re,Ze,_t){if(W(Re,Ze,_t))return ge=Ze,!1}),ge}function Po(F,W,j,ge){for(var Re=F.length,Ze=j+(ge?1:-1);ge?Ze--:++Ze<Re;)if(W(F[Ze],Ze,F))return Ze;return-1}function Ai(F,W,j){return W===W?L1(F,W,j):Po(F,ld,j)}function $1(F,W,j,ge){for(var Re=j-1,Ze=F.length;++Re<Ze;)if(ge(F[Re],W))return Re;return-1}function ld(F){return F!==F}function cd(F,W){var j=F==null?0:F.length;return j?Hu(F,W)/j:ae}function Vu(F){return function(W){return W==null?n:W[F]}}function Wu(F){return function(W){return F==null?n:F[W]}}function fd(F,W,j,ge,Re){return Re(F,function(Ze,_t,rt){j=ge?(ge=!1,Ze):W(j,Ze,_t,rt)}),j}function x1(F,W){var j=F.length;for(F.sort(W);j--;)F[j]=F[j].value;return F}function Hu(F,W){for(var j,ge=-1,Re=F.length;++ge<Re;){var Ze=W(F[ge]);Ze!==n&&(j=j===n?Ze:j+Ze)}return j}function Gu(F,W){for(var j=-1,ge=Array(F);++j<F;)ge[j]=W(j);return ge}function E1(F,W){return lt(W,function(j){return[j,F[j]]})}function hd(F){return F&&F.slice(0,gd(F)+1).replace(pn,"")}function tn(F){return function(W){return F(W)}}function Yu(F,W){return lt(W,function(j){return F[j]})}function fs(F,W){return F.has(W)}function dd(F,W){for(var j=-1,ge=F.length;++j<ge&&Ai(W,F[j],0)>-1;);return j}function pd(F,W){for(var j=F.length;j--&&Ai(W,F[j],0)>-1;);return j}function T1(F,W){for(var j=F.length,ge=0;j--;)F[j]===W&&++ge;return ge}var O1=Wu(f1),k1=Wu(h1);function C1(F){return"\\"+p1[F]}function P1(F,W){return F==null?n:F[W]}function wi(F){return a1.test(F)}function I1(F){return u1.test(F)}function N1(F){for(var W,j=[];!(W=F.next()).done;)j.push(W.value);return j}function Qu(F){var W=-1,j=Array(F.size);return F.forEach(function(ge,Re){j[++W]=[Re,ge]}),j}function vd(F,W){return function(j){return F(W(j))}}function wr(F,W){for(var j=-1,ge=F.length,Re=0,Ze=[];++j<ge;){var _t=F[j];(_t===W||_t===v)&&(F[j]=v,Ze[Re++]=j)}return Ze}function Io(F){var W=-1,j=Array(F.size);return F.forEach(function(ge){j[++W]=ge}),j}function R1(F){var W=-1,j=Array(F.size);return F.forEach(function(ge){j[++W]=[ge,ge]}),j}function L1(F,W,j){for(var ge=j-1,Re=F.length;++ge<Re;)if(F[ge]===W)return ge;return-1}function D1(F,W,j){for(var ge=j+1;ge--;)if(F[ge]===W)return ge;return ge}function Si(F){return wi(F)?M1(F):A1(F)}function Pn(F){return wi(F)?F1(F):w1(F)}function gd(F){for(var W=F.length;W--&&xt.test(F.charAt(W)););return W}var B1=Wu(d1);function M1(F){for(var W=Fu.lastIndex=0;Fu.test(F);)++W;return W}function F1(F){return F.match(Fu)||[]}function U1(F){return F.match(o1)||[]}var K1=function F(W){W=W==null?Pt:$i.defaults(Pt.Object(),W,$i.pick(Pt,l1));var j=W.Array,ge=W.Date,Re=W.Error,Ze=W.Function,_t=W.Math,rt=W.Object,Ju=W.RegExp,z1=W.String,yn=W.TypeError,No=j.prototype,j1=Ze.prototype,xi=rt.prototype,Ro=W["__core-js_shared__"],Lo=j1.toString,tt=xi.hasOwnProperty,q1=0,yd=function(){var r=/[^.]+$/.exec(Ro&&Ro.keys&&Ro.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}(),Do=xi.toString,V1=Lo.call(rt),W1=Pt._,H1=Ju("^"+Lo.call(tt).replace(ls,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Bo=ed?W.Buffer:n,Sr=W.Symbol,Mo=W.Uint8Array,md=Bo?Bo.allocUnsafe:n,Fo=vd(rt.getPrototypeOf,rt),_d=rt.create,bd=xi.propertyIsEnumerable,Uo=No.splice,Ad=Sr?Sr.isConcatSpreadable:n,hs=Sr?Sr.iterator:n,Qr=Sr?Sr.toStringTag:n,Ko=function(){try{var r=ti(rt,"defineProperty");return r({},"",{}),r}catch{}}(),G1=W.clearTimeout!==Pt.clearTimeout&&W.clearTimeout,Y1=ge&&ge.now!==Pt.Date.now&&ge.now,Q1=W.setTimeout!==Pt.setTimeout&&W.setTimeout,zo=_t.ceil,jo=_t.floor,Xu=rt.getOwnPropertySymbols,J1=Bo?Bo.isBuffer:n,wd=W.isFinite,X1=No.join,Z1=vd(rt.keys,rt),bt=_t.max,Rt=_t.min,ew=ge.now,tw=W.parseInt,Sd=_t.random,nw=No.reverse,Zu=ti(W,"DataView"),ds=ti(W,"Map"),el=ti(W,"Promise"),Ei=ti(W,"Set"),ps=ti(W,"WeakMap"),vs=ti(rt,"create"),qo=ps&&new ps,Ti={},rw=ni(Zu),iw=ni(ds),sw=ni(el),ow=ni(Ei),aw=ni(ps),Vo=Sr?Sr.prototype:n,gs=Vo?Vo.valueOf:n,$d=Vo?Vo.toString:n;function y(r){if(vt(r)&&!Le(r)&&!(r instanceof We)){if(r instanceof mn)return r;if(tt.call(r,"__wrapped__"))return xp(r)}return new mn(r)}var Oi=function(){function r(){}return function(i){if(!dt(i))return{};if(_d)return _d(i);r.prototype=i;var a=new r;return r.prototype=n,a}}();function Wo(){}function mn(r,i){this.__wrapped__=r,this.__actions__=[],this.__chain__=!!i,this.__index__=0,this.__values__=n}y.templateSettings={escape:Gr,evaluate:kn,interpolate:$t,variable:"",imports:{_:y}},y.prototype=Wo.prototype,y.prototype.constructor=y,mn.prototype=Oi(Wo.prototype),mn.prototype.constructor=mn;function We(r){this.__wrapped__=r,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ve,this.__views__=[]}function uw(){var r=new We(this.__wrapped__);return r.__actions__=Vt(this.__actions__),r.__dir__=this.__dir__,r.__filtered__=this.__filtered__,r.__iteratees__=Vt(this.__iteratees__),r.__takeCount__=this.__takeCount__,r.__views__=Vt(this.__views__),r}function lw(){if(this.__filtered__){var r=new We(this);r.__dir__=-1,r.__filtered__=!0}else r=this.clone(),r.__dir__*=-1;return r}function cw(){var r=this.__wrapped__.value(),i=this.__dir__,a=Le(r),f=i<0,p=a?r.length:0,b=wS(0,p,this.__views__),C=b.start,D=b.end,K=D-C,G=f?D:C-1,Y=this.__iteratees__,Z=Y.length,he=0,_e=Rt(K,this.__takeCount__);if(!a||!f&&p==K&&_e==K)return Gd(r,this.__actions__);var ke=[];e:for(;K--&&he<_e;){G+=i;for(var Fe=-1,Ce=r[G];++Fe<Z;){var qe=Y[Fe],Ge=qe.iteratee,sn=qe.type,zt=Ge(Ce);if(sn==X)Ce=zt;else if(!zt){if(sn==ne)continue e;break e}}ke[he++]=Ce}return ke}We.prototype=Oi(Wo.prototype),We.prototype.constructor=We;function Jr(r){var i=-1,a=r==null?0:r.length;for(this.clear();++i<a;){var f=r[i];this.set(f[0],f[1])}}function fw(){this.__data__=vs?vs(null):{},this.size=0}function hw(r){var i=this.has(r)&&delete this.__data__[r];return this.size-=i?1:0,i}function dw(r){var i=this.__data__;if(vs){var a=i[r];return a===d?n:a}return tt.call(i,r)?i[r]:n}function pw(r){var i=this.__data__;return vs?i[r]!==n:tt.call(i,r)}function vw(r,i){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=vs&&i===n?d:i,this}Jr.prototype.clear=fw,Jr.prototype.delete=hw,Jr.prototype.get=dw,Jr.prototype.has=pw,Jr.prototype.set=vw;function Zn(r){var i=-1,a=r==null?0:r.length;for(this.clear();++i<a;){var f=r[i];this.set(f[0],f[1])}}function gw(){this.__data__=[],this.size=0}function yw(r){var i=this.__data__,a=Ho(i,r);if(a<0)return!1;var f=i.length-1;return a==f?i.pop():Uo.call(i,a,1),--this.size,!0}function mw(r){var i=this.__data__,a=Ho(i,r);return a<0?n:i[a][1]}function _w(r){return Ho(this.__data__,r)>-1}function bw(r,i){var a=this.__data__,f=Ho(a,r);return f<0?(++this.size,a.push([r,i])):a[f][1]=i,this}Zn.prototype.clear=gw,Zn.prototype.delete=yw,Zn.prototype.get=mw,Zn.prototype.has=_w,Zn.prototype.set=bw;function er(r){var i=-1,a=r==null?0:r.length;for(this.clear();++i<a;){var f=r[i];this.set(f[0],f[1])}}function Aw(){this.size=0,this.__data__={hash:new Jr,map:new(ds||Zn),string:new Jr}}function ww(r){var i=sa(this,r).delete(r);return this.size-=i?1:0,i}function Sw(r){return sa(this,r).get(r)}function $w(r){return sa(this,r).has(r)}function xw(r,i){var a=sa(this,r),f=a.size;return a.set(r,i),this.size+=a.size==f?0:1,this}er.prototype.clear=Aw,er.prototype.delete=ww,er.prototype.get=Sw,er.prototype.has=$w,er.prototype.set=xw;function Xr(r){var i=-1,a=r==null?0:r.length;for(this.__data__=new er;++i<a;)this.add(r[i])}function Ew(r){return this.__data__.set(r,d),this}function Tw(r){return this.__data__.has(r)}Xr.prototype.add=Xr.prototype.push=Ew,Xr.prototype.has=Tw;function In(r){var i=this.__data__=new Zn(r);this.size=i.size}function Ow(){this.__data__=new Zn,this.size=0}function kw(r){var i=this.__data__,a=i.delete(r);return this.size=i.size,a}function Cw(r){return this.__data__.get(r)}function Pw(r){return this.__data__.has(r)}function Iw(r,i){var a=this.__data__;if(a instanceof Zn){var f=a.__data__;if(!ds||f.length<o-1)return f.push([r,i]),this.size=++a.size,this;a=this.__data__=new er(f)}return a.set(r,i),this.size=a.size,this}In.prototype.clear=Ow,In.prototype.delete=kw,In.prototype.get=Cw,In.prototype.has=Pw,In.prototype.set=Iw;function xd(r,i){var a=Le(r),f=!a&&ri(r),p=!a&&!f&&Or(r),b=!a&&!f&&!p&&Ii(r),C=a||f||p||b,D=C?Gu(r.length,z1):[],K=D.length;for(var G in r)(i||tt.call(r,G))&&!(C&&(G=="length"||p&&(G=="offset"||G=="parent")||b&&(G=="buffer"||G=="byteLength"||G=="byteOffset")||ir(G,K)))&&D.push(G);return D}function Ed(r){var i=r.length;return i?r[fl(0,i-1)]:n}function Nw(r,i){return oa(Vt(r),Zr(i,0,r.length))}function Rw(r){return oa(Vt(r))}function tl(r,i,a){(a!==n&&!Nn(r[i],a)||a===n&&!(i in r))&&tr(r,i,a)}function ys(r,i,a){var f=r[i];(!(tt.call(r,i)&&Nn(f,a))||a===n&&!(i in r))&&tr(r,i,a)}function Ho(r,i){for(var a=r.length;a--;)if(Nn(r[a][0],i))return a;return-1}function Lw(r,i,a,f){return $r(r,function(p,b,C){i(f,p,a(p),C)}),f}function Td(r,i){return r&&Kn(i,Et(i),r)}function Dw(r,i){return r&&Kn(i,Ht(i),r)}function tr(r,i,a){i=="__proto__"&&Ko?Ko(r,i,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[i]=a}function nl(r,i){for(var a=-1,f=i.length,p=j(f),b=r==null;++a<f;)p[a]=b?n:Dl(r,i[a]);return p}function Zr(r,i,a){return r===r&&(a!==n&&(r=r<=a?r:a),i!==n&&(r=r>=i?r:i)),r}function _n(r,i,a,f,p,b){var C,D=i&m,K=i&E,G=i&I;if(a&&(C=p?a(r,f,p,b):a(r)),C!==n)return C;if(!dt(r))return r;var Y=Le(r);if(Y){if(C=$S(r),!D)return Vt(r,C)}else{var Z=Lt(r),he=Z==Q||Z==te;if(Or(r))return Jd(r,D);if(Z==re||Z==ze||he&&!p){if(C=K||he?{}:gp(r),!D)return K?dS(r,Dw(C,r)):hS(r,Td(C,r))}else{if(!st[Z])return p?r:{};C=xS(r,Z,D)}}b||(b=new In);var _e=b.get(r);if(_e)return _e;b.set(r,C),Vp(r)?r.forEach(function(Ce){C.add(_n(Ce,i,a,Ce,r,b))}):jp(r)&&r.forEach(function(Ce,qe){C.set(qe,_n(Ce,i,a,qe,r,b))});var ke=G?K?wl:Al:K?Ht:Et,Fe=Y?n:ke(r);return gn(Fe||r,function(Ce,qe){Fe&&(qe=Ce,Ce=r[qe]),ys(C,qe,_n(Ce,i,a,qe,r,b))}),C}function Bw(r){var i=Et(r);return function(a){return Od(a,r,i)}}function Od(r,i,a){var f=a.length;if(r==null)return!f;for(r=rt(r);f--;){var p=a[f],b=i[p],C=r[p];if(C===n&&!(p in r)||!b(C))return!1}return!0}function kd(r,i,a){if(typeof r!="function")throw new yn(l);return $s(function(){r.apply(n,a)},i)}function ms(r,i,a,f){var p=-1,b=Co,C=!0,D=r.length,K=[],G=i.length;if(!D)return K;a&&(i=lt(i,tn(a))),f?(b=zu,C=!1):i.length>=o&&(b=fs,C=!1,i=new Xr(i));e:for(;++p<D;){var Y=r[p],Z=a==null?Y:a(Y);if(Y=f||Y!==0?Y:0,C&&Z===Z){for(var he=G;he--;)if(i[he]===Z)continue e;K.push(Y)}else b(i,Z,f)||K.push(Y)}return K}var $r=np(Un),Cd=np(il,!0);function Mw(r,i){var a=!0;return $r(r,function(f,p,b){return a=!!i(f,p,b),a}),a}function Go(r,i,a){for(var f=-1,p=r.length;++f<p;){var b=r[f],C=i(b);if(C!=null&&(D===n?C===C&&!rn(C):a(C,D)))var D=C,K=b}return K}function Fw(r,i,a,f){var p=r.length;for(a=Be(a),a<0&&(a=-a>p?0:p+a),f=f===n||f>p?p:Be(f),f<0&&(f+=p),f=a>f?0:Hp(f);a<f;)r[a++]=i;return r}function Pd(r,i){var a=[];return $r(r,function(f,p,b){i(f,p,b)&&a.push(f)}),a}function It(r,i,a,f,p){var b=-1,C=r.length;for(a||(a=TS),p||(p=[]);++b<C;){var D=r[b];i>0&&a(D)?i>1?It(D,i-1,a,f,p):Ar(p,D):f||(p[p.length]=D)}return p}var rl=rp(),Id=rp(!0);function Un(r,i){return r&&rl(r,i,Et)}function il(r,i){return r&&Id(r,i,Et)}function Yo(r,i){return br(i,function(a){return sr(r[a])})}function ei(r,i){i=Er(i,r);for(var a=0,f=i.length;r!=null&&a<f;)r=r[zn(i[a++])];return a&&a==f?r:n}function Nd(r,i,a){var f=i(r);return Le(r)?f:Ar(f,a(r))}function Ut(r){return r==null?r===n?Xe:De:Qr&&Qr in rt(r)?AS(r):RS(r)}function sl(r,i){return r>i}function Uw(r,i){return r!=null&&tt.call(r,i)}function Kw(r,i){return r!=null&&i in rt(r)}function zw(r,i,a){return r>=Rt(i,a)&&r<bt(i,a)}function ol(r,i,a){for(var f=a?zu:Co,p=r[0].length,b=r.length,C=b,D=j(b),K=1/0,G=[];C--;){var Y=r[C];C&&i&&(Y=lt(Y,tn(i))),K=Rt(Y.length,K),D[C]=!a&&(i||p>=120&&Y.length>=120)?new Xr(C&&Y):n}Y=r[0];var Z=-1,he=D[0];e:for(;++Z<p&&G.length<K;){var _e=Y[Z],ke=i?i(_e):_e;if(_e=a||_e!==0?_e:0,!(he?fs(he,ke):f(G,ke,a))){for(C=b;--C;){var Fe=D[C];if(!(Fe?fs(Fe,ke):f(r[C],ke,a)))continue e}he&&he.push(ke),G.push(_e)}}return G}function jw(r,i,a,f){return Un(r,function(p,b,C){i(f,a(p),b,C)}),f}function _s(r,i,a){i=Er(i,r),r=bp(r,i);var f=r==null?r:r[zn(An(i))];return f==null?n:en(f,r,a)}function Rd(r){return vt(r)&&Ut(r)==ze}function qw(r){return vt(r)&&Ut(r)==$e}function Vw(r){return vt(r)&&Ut(r)==O}function bs(r,i,a,f,p){return r===i?!0:r==null||i==null||!vt(r)&&!vt(i)?r!==r&&i!==i:Ww(r,i,a,f,bs,p)}function Ww(r,i,a,f,p,b){var C=Le(r),D=Le(i),K=C?Me:Lt(r),G=D?Me:Lt(i);K=K==ze?re:K,G=G==ze?re:G;var Y=K==re,Z=G==re,he=K==G;if(he&&Or(r)){if(!Or(i))return!1;C=!0,Y=!1}if(he&&!Y)return b||(b=new In),C||Ii(r)?dp(r,i,a,f,p,b):_S(r,i,K,a,f,p,b);if(!(a&A)){var _e=Y&&tt.call(r,"__wrapped__"),ke=Z&&tt.call(i,"__wrapped__");if(_e||ke){var Fe=_e?r.value():r,Ce=ke?i.value():i;return b||(b=new In),p(Fe,Ce,a,f,b)}}return he?(b||(b=new In),bS(r,i,a,f,p,b)):!1}function Hw(r){return vt(r)&&Lt(r)==se}function al(r,i,a,f){var p=a.length,b=p,C=!f;if(r==null)return!b;for(r=rt(r);p--;){var D=a[p];if(C&&D[2]?D[1]!==r[D[0]]:!(D[0]in r))return!1}for(;++p<b;){D=a[p];var K=D[0],G=r[K],Y=D[1];if(C&&D[2]){if(G===n&&!(K in r))return!1}else{var Z=new In;if(f)var he=f(G,Y,K,r,i,Z);if(!(he===n?bs(Y,G,A|$,f,Z):he))return!1}}return!0}function Ld(r){if(!dt(r)||kS(r))return!1;var i=sr(r)?H1:BA;return i.test(ni(r))}function Gw(r){return vt(r)&&Ut(r)==we}function Yw(r){return vt(r)&&Lt(r)==Se}function Qw(r){return vt(r)&&ha(r.length)&&!!at[Ut(r)]}function Dd(r){return typeof r=="function"?r:r==null?Gt:typeof r=="object"?Le(r)?Fd(r[0],r[1]):Md(r):iv(r)}function ul(r){if(!Ss(r))return Z1(r);var i=[];for(var a in rt(r))tt.call(r,a)&&a!="constructor"&&i.push(a);return i}function Jw(r){if(!dt(r))return NS(r);var i=Ss(r),a=[];for(var f in r)f=="constructor"&&(i||!tt.call(r,f))||a.push(f);return a}function ll(r,i){return r<i}function Bd(r,i){var a=-1,f=Wt(r)?j(r.length):[];return $r(r,function(p,b,C){f[++a]=i(p,b,C)}),f}function Md(r){var i=$l(r);return i.length==1&&i[0][2]?mp(i[0][0],i[0][1]):function(a){return a===r||al(a,r,i)}}function Fd(r,i){return El(r)&&yp(i)?mp(zn(r),i):function(a){var f=Dl(a,r);return f===n&&f===i?Bl(a,r):bs(i,f,A|$)}}function Qo(r,i,a,f,p){r!==i&&rl(i,function(b,C){if(p||(p=new In),dt(b))Xw(r,i,C,a,Qo,f,p);else{var D=f?f(Ol(r,C),b,C+"",r,i,p):n;D===n&&(D=b),tl(r,C,D)}},Ht)}function Xw(r,i,a,f,p,b,C){var D=Ol(r,a),K=Ol(i,a),G=C.get(K);if(G){tl(r,a,G);return}var Y=b?b(D,K,a+"",r,i,C):n,Z=Y===n;if(Z){var he=Le(K),_e=!he&&Or(K),ke=!he&&!_e&&Ii(K);Y=K,he||_e||ke?Le(D)?Y=D:gt(D)?Y=Vt(D):_e?(Z=!1,Y=Jd(K,!0)):ke?(Z=!1,Y=Xd(K,!0)):Y=[]:xs(K)||ri(K)?(Y=D,ri(D)?Y=Gp(D):(!dt(D)||sr(D))&&(Y=gp(K))):Z=!1}Z&&(C.set(K,Y),p(Y,K,f,b,C),C.delete(K)),tl(r,a,Y)}function Ud(r,i){var a=r.length;if(!!a)return i+=i<0?a:0,ir(i,a)?r[i]:n}function Kd(r,i,a){i.length?i=lt(i,function(b){return Le(b)?function(C){return ei(C,b.length===1?b[0]:b)}:b}):i=[Gt];var f=-1;i=lt(i,tn(Oe()));var p=Bd(r,function(b,C,D){var K=lt(i,function(G){return G(b)});return{criteria:K,index:++f,value:b}});return x1(p,function(b,C){return fS(b,C,a)})}function Zw(r,i){return zd(r,i,function(a,f){return Bl(r,f)})}function zd(r,i,a){for(var f=-1,p=i.length,b={};++f<p;){var C=i[f],D=ei(r,C);a(D,C)&&As(b,Er(C,r),D)}return b}function eS(r){return function(i){return ei(i,r)}}function cl(r,i,a,f){var p=f?$1:Ai,b=-1,C=i.length,D=r;for(r===i&&(i=Vt(i)),a&&(D=lt(r,tn(a)));++b<C;)for(var K=0,G=i[b],Y=a?a(G):G;(K=p(D,Y,K,f))>-1;)D!==r&&Uo.call(D,K,1),Uo.call(r,K,1);return r}function jd(r,i){for(var a=r?i.length:0,f=a-1;a--;){var p=i[a];if(a==f||p!==b){var b=p;ir(p)?Uo.call(r,p,1):pl(r,p)}}return r}function fl(r,i){return r+jo(Sd()*(i-r+1))}function tS(r,i,a,f){for(var p=-1,b=bt(zo((i-r)/(a||1)),0),C=j(b);b--;)C[f?b:++p]=r,r+=a;return C}function hl(r,i){var a="";if(!r||i<1||i>H)return a;do i%2&&(a+=r),i=jo(i/2),i&&(r+=r);while(i);return a}function Ke(r,i){return kl(_p(r,i,Gt),r+"")}function nS(r){return Ed(Ni(r))}function rS(r,i){var a=Ni(r);return oa(a,Zr(i,0,a.length))}function As(r,i,a,f){if(!dt(r))return r;i=Er(i,r);for(var p=-1,b=i.length,C=b-1,D=r;D!=null&&++p<b;){var K=zn(i[p]),G=a;if(K==="__proto__"||K==="constructor"||K==="prototype")return r;if(p!=C){var Y=D[K];G=f?f(Y,K,D):n,G===n&&(G=dt(Y)?Y:ir(i[p+1])?[]:{})}ys(D,K,G),D=D[K]}return r}var qd=qo?function(r,i){return qo.set(r,i),r}:Gt,iS=Ko?function(r,i){return Ko(r,"toString",{configurable:!0,enumerable:!1,value:Fl(i),writable:!0})}:Gt;function sS(r){return oa(Ni(r))}function bn(r,i,a){var f=-1,p=r.length;i<0&&(i=-i>p?0:p+i),a=a>p?p:a,a<0&&(a+=p),p=i>a?0:a-i>>>0,i>>>=0;for(var b=j(p);++f<p;)b[f]=r[f+i];return b}function oS(r,i){var a;return $r(r,function(f,p,b){return a=i(f,p,b),!a}),!!a}function Jo(r,i,a){var f=0,p=r==null?f:r.length;if(typeof i=="number"&&i===i&&p<=Ue){for(;f<p;){var b=f+p>>>1,C=r[b];C!==null&&!rn(C)&&(a?C<=i:C<i)?f=b+1:p=b}return p}return dl(r,i,Gt,a)}function dl(r,i,a,f){var p=0,b=r==null?0:r.length;if(b===0)return 0;i=a(i);for(var C=i!==i,D=i===null,K=rn(i),G=i===n;p<b;){var Y=jo((p+b)/2),Z=a(r[Y]),he=Z!==n,_e=Z===null,ke=Z===Z,Fe=rn(Z);if(C)var Ce=f||ke;else G?Ce=ke&&(f||he):D?Ce=ke&&he&&(f||!_e):K?Ce=ke&&he&&!_e&&(f||!Fe):_e||Fe?Ce=!1:Ce=f?Z<=i:Z<i;Ce?p=Y+1:b=Y}return Rt(b,ue)}function Vd(r,i){for(var a=-1,f=r.length,p=0,b=[];++a<f;){var C=r[a],D=i?i(C):C;if(!a||!Nn(D,K)){var K=D;b[p++]=C===0?0:C}}return b}function Wd(r){return typeof r=="number"?r:rn(r)?ae:+r}function nn(r){if(typeof r=="string")return r;if(Le(r))return lt(r,nn)+"";if(rn(r))return $d?$d.call(r):"";var i=r+"";return i=="0"&&1/r==-J?"-0":i}function xr(r,i,a){var f=-1,p=Co,b=r.length,C=!0,D=[],K=D;if(a)C=!1,p=zu;else if(b>=o){var G=i?null:yS(r);if(G)return Io(G);C=!1,p=fs,K=new Xr}else K=i?[]:D;e:for(;++f<b;){var Y=r[f],Z=i?i(Y):Y;if(Y=a||Y!==0?Y:0,C&&Z===Z){for(var he=K.length;he--;)if(K[he]===Z)continue e;i&&K.push(Z),D.push(Y)}else p(K,Z,a)||(K!==D&&K.push(Z),D.push(Y))}return D}function pl(r,i){return i=Er(i,r),r=bp(r,i),r==null||delete r[zn(An(i))]}function Hd(r,i,a,f){return As(r,i,a(ei(r,i)),f)}function Xo(r,i,a,f){for(var p=r.length,b=f?p:-1;(f?b--:++b<p)&&i(r[b],b,r););return a?bn(r,f?0:b,f?b+1:p):bn(r,f?b+1:0,f?p:b)}function Gd(r,i){var a=r;return a instanceof We&&(a=a.value()),ju(i,function(f,p){return p.func.apply(p.thisArg,Ar([f],p.args))},a)}function vl(r,i,a){var f=r.length;if(f<2)return f?xr(r[0]):[];for(var p=-1,b=j(f);++p<f;)for(var C=r[p],D=-1;++D<f;)D!=p&&(b[p]=ms(b[p]||C,r[D],i,a));return xr(It(b,1),i,a)}function Yd(r,i,a){for(var f=-1,p=r.length,b=i.length,C={};++f<p;){var D=f<b?i[f]:n;a(C,r[f],D)}return C}function gl(r){return gt(r)?r:[]}function yl(r){return typeof r=="function"?r:Gt}function Er(r,i){return Le(r)?r:El(r,i)?[r]:$p(et(r))}var aS=Ke;function Tr(r,i,a){var f=r.length;return a=a===n?f:a,!i&&a>=f?r:bn(r,i,a)}var Qd=G1||function(r){return Pt.clearTimeout(r)};function Jd(r,i){if(i)return r.slice();var a=r.length,f=md?md(a):new r.constructor(a);return r.copy(f),f}function ml(r){var i=new r.constructor(r.byteLength);return new Mo(i).set(new Mo(r)),i}function uS(r,i){var a=i?ml(r.buffer):r.buffer;return new r.constructor(a,r.byteOffset,r.byteLength)}function lS(r){var i=new r.constructor(r.source,Rh.exec(r));return i.lastIndex=r.lastIndex,i}function cS(r){return gs?rt(gs.call(r)):{}}function Xd(r,i){var a=i?ml(r.buffer):r.buffer;return new r.constructor(a,r.byteOffset,r.length)}function Zd(r,i){if(r!==i){var a=r!==n,f=r===null,p=r===r,b=rn(r),C=i!==n,D=i===null,K=i===i,G=rn(i);if(!D&&!G&&!b&&r>i||b&&C&&K&&!D&&!G||f&&C&&K||!a&&K||!p)return 1;if(!f&&!b&&!G&&r<i||G&&a&&p&&!f&&!b||D&&a&&p||!C&&p||!K)return-1}return 0}function fS(r,i,a){for(var f=-1,p=r.criteria,b=i.criteria,C=p.length,D=a.length;++f<C;){var K=Zd(p[f],b[f]);if(K){if(f>=D)return K;var G=a[f];return K*(G=="desc"?-1:1)}}return r.index-i.index}function ep(r,i,a,f){for(var p=-1,b=r.length,C=a.length,D=-1,K=i.length,G=bt(b-C,0),Y=j(K+G),Z=!f;++D<K;)Y[D]=i[D];for(;++p<C;)(Z||p<b)&&(Y[a[p]]=r[p]);for(;G--;)Y[D++]=r[p++];return Y}function tp(r,i,a,f){for(var p=-1,b=r.length,C=-1,D=a.length,K=-1,G=i.length,Y=bt(b-D,0),Z=j(Y+G),he=!f;++p<Y;)Z[p]=r[p];for(var _e=p;++K<G;)Z[_e+K]=i[K];for(;++C<D;)(he||p<b)&&(Z[_e+a[C]]=r[p++]);return Z}function Vt(r,i){var a=-1,f=r.length;for(i||(i=j(f));++a<f;)i[a]=r[a];return i}function Kn(r,i,a,f){var p=!a;a||(a={});for(var b=-1,C=i.length;++b<C;){var D=i[b],K=f?f(a[D],r[D],D,a,r):n;K===n&&(K=r[D]),p?tr(a,D,K):ys(a,D,K)}return a}function hS(r,i){return Kn(r,xl(r),i)}function dS(r,i){return Kn(r,pp(r),i)}function Zo(r,i){return function(a,f){var p=Le(a)?m1:Lw,b=i?i():{};return p(a,r,Oe(f,2),b)}}function ki(r){return Ke(function(i,a){var f=-1,p=a.length,b=p>1?a[p-1]:n,C=p>2?a[2]:n;for(b=r.length>3&&typeof b=="function"?(p--,b):n,C&&Kt(a[0],a[1],C)&&(b=p<3?n:b,p=1),i=rt(i);++f<p;){var D=a[f];D&&r(i,D,f,b)}return i})}function np(r,i){return function(a,f){if(a==null)return a;if(!Wt(a))return r(a,f);for(var p=a.length,b=i?p:-1,C=rt(a);(i?b--:++b<p)&&f(C[b],b,C)!==!1;);return a}}function rp(r){return function(i,a,f){for(var p=-1,b=rt(i),C=f(i),D=C.length;D--;){var K=C[r?D:++p];if(a(b[K],K,b)===!1)break}return i}}function pS(r,i,a){var f=i&k,p=ws(r);function b(){var C=this&&this!==Pt&&this instanceof b?p:r;return C.apply(f?a:this,arguments)}return b}function ip(r){return function(i){i=et(i);var a=wi(i)?Pn(i):n,f=a?a[0]:i.charAt(0),p=a?Tr(a,1).join(""):i.slice(1);return f[r]()+p}}function Ci(r){return function(i){return ju(nv(tv(i).replace(i1,"")),r,"")}}function ws(r){return function(){var i=arguments;switch(i.length){case 0:return new r;case 1:return new r(i[0]);case 2:return new r(i[0],i[1]);case 3:return new r(i[0],i[1],i[2]);case 4:return new r(i[0],i[1],i[2],i[3]);case 5:return new r(i[0],i[1],i[2],i[3],i[4]);case 6:return new r(i[0],i[1],i[2],i[3],i[4],i[5]);case 7:return new r(i[0],i[1],i[2],i[3],i[4],i[5],i[6])}var a=Oi(r.prototype),f=r.apply(a,i);return dt(f)?f:a}}function vS(r,i,a){var f=ws(r);function p(){for(var b=arguments.length,C=j(b),D=b,K=Pi(p);D--;)C[D]=arguments[D];var G=b<3&&C[0]!==K&&C[b-1]!==K?[]:wr(C,K);if(b-=G.length,b<a)return lp(r,i,ea,p.placeholder,n,C,G,n,n,a-b);var Y=this&&this!==Pt&&this instanceof p?f:r;return en(Y,this,C)}return p}function sp(r){return function(i,a,f){var p=rt(i);if(!Wt(i)){var b=Oe(a,3);i=Et(i),a=function(D){return b(p[D],D,p)}}var C=r(i,a,f);return C>-1?p[b?i[C]:C]:n}}function op(r){return rr(function(i){var a=i.length,f=a,p=mn.prototype.thru;for(r&&i.reverse();f--;){var b=i[f];if(typeof b!="function")throw new yn(l);if(p&&!C&&ia(b)=="wrapper")var C=new mn([],!0)}for(f=C?f:a;++f<a;){b=i[f];var D=ia(b),K=D=="wrapper"?Sl(b):n;K&&Tl(K[0])&&K[1]==(L|N|x|P)&&!K[4].length&&K[9]==1?C=C[ia(K[0])].apply(C,K[3]):C=b.length==1&&Tl(b)?C[D]():C.thru(b)}return function(){var G=arguments,Y=G[0];if(C&&G.length==1&&Le(Y))return C.plant(Y).value();for(var Z=0,he=a?i[Z].apply(this,G):Y;++Z<a;)he=i[Z].call(this,he);return he}})}function ea(r,i,a,f,p,b,C,D,K,G){var Y=i&L,Z=i&k,he=i&T,_e=i&(N|w),ke=i&S,Fe=he?n:ws(r);function Ce(){for(var qe=arguments.length,Ge=j(qe),sn=qe;sn--;)Ge[sn]=arguments[sn];if(_e)var zt=Pi(Ce),on=T1(Ge,zt);if(f&&(Ge=ep(Ge,f,p,_e)),b&&(Ge=tp(Ge,b,C,_e)),qe-=on,_e&&qe<G){var yt=wr(Ge,zt);return lp(r,i,ea,Ce.placeholder,a,Ge,yt,D,K,G-qe)}var Rn=Z?a:this,ar=he?Rn[r]:r;return qe=Ge.length,D?Ge=LS(Ge,D):ke&&qe>1&&Ge.reverse(),Y&&K<qe&&(Ge.length=K),this&&this!==Pt&&this instanceof Ce&&(ar=Fe||ws(ar)),ar.apply(Rn,Ge)}return Ce}function ap(r,i){return function(a,f){return jw(a,r,i(f),{})}}function ta(r,i){return function(a,f){var p;if(a===n&&f===n)return i;if(a!==n&&(p=a),f!==n){if(p===n)return f;typeof a=="string"||typeof f=="string"?(a=nn(a),f=nn(f)):(a=Wd(a),f=Wd(f)),p=r(a,f)}return p}}function _l(r){return rr(function(i){return i=lt(i,tn(Oe())),Ke(function(a){var f=this;return r(i,function(p){return en(p,f,a)})})})}function na(r,i){i=i===n?" ":nn(i);var a=i.length;if(a<2)return a?hl(i,r):i;var f=hl(i,zo(r/Si(i)));return wi(i)?Tr(Pn(f),0,r).join(""):f.slice(0,r)}function gS(r,i,a,f){var p=i&k,b=ws(r);function C(){for(var D=-1,K=arguments.length,G=-1,Y=f.length,Z=j(Y+K),he=this&&this!==Pt&&this instanceof C?b:r;++G<Y;)Z[G]=f[G];for(;K--;)Z[G++]=arguments[++D];return en(he,p?a:this,Z)}return C}function up(r){return function(i,a,f){return f&&typeof f!="number"&&Kt(i,a,f)&&(a=f=n),i=or(i),a===n?(a=i,i=0):a=or(a),f=f===n?i<a?1:-1:or(f),tS(i,a,f,r)}}function ra(r){return function(i,a){return typeof i=="string"&&typeof a=="string"||(i=wn(i),a=wn(a)),r(i,a)}}function lp(r,i,a,f,p,b,C,D,K,G){var Y=i&N,Z=Y?C:n,he=Y?n:C,_e=Y?b:n,ke=Y?n:b;i|=Y?x:R,i&=~(Y?R:x),i&B||(i&=~(k|T));var Fe=[r,i,p,_e,Z,ke,he,D,K,G],Ce=a.apply(n,Fe);return Tl(r)&&Ap(Ce,Fe),Ce.placeholder=f,wp(Ce,r,i)}function bl(r){var i=_t[r];return function(a,f){if(a=wn(a),f=f==null?0:Rt(Be(f),292),f&&wd(a)){var p=(et(a)+"e").split("e"),b=i(p[0]+"e"+(+p[1]+f));return p=(et(b)+"e").split("e"),+(p[0]+"e"+(+p[1]-f))}return i(a)}}var yS=Ei&&1/Io(new Ei([,-0]))[1]==J?function(r){return new Ei(r)}:zl;function cp(r){return function(i){var a=Lt(i);return a==se?Qu(i):a==Se?R1(i):E1(i,r(i))}}function nr(r,i,a,f,p,b,C,D){var K=i&T;if(!K&&typeof r!="function")throw new yn(l);var G=f?f.length:0;if(G||(i&=~(x|R),f=p=n),C=C===n?C:bt(Be(C),0),D=D===n?D:Be(D),G-=p?p.length:0,i&R){var Y=f,Z=p;f=p=n}var he=K?n:Sl(r),_e=[r,i,a,f,p,Y,Z,b,C,D];if(he&&IS(_e,he),r=_e[0],i=_e[1],a=_e[2],f=_e[3],p=_e[4],D=_e[9]=_e[9]===n?K?0:r.length:bt(_e[9]-G,0),!D&&i&(N|w)&&(i&=~(N|w)),!i||i==k)var ke=pS(r,i,a);else i==N||i==w?ke=vS(r,i,D):(i==x||i==(k|x))&&!p.length?ke=gS(r,i,a,f):ke=ea.apply(n,_e);var Fe=he?qd:Ap;return wp(Fe(ke,_e),r,i)}function fp(r,i,a,f){return r===n||Nn(r,xi[a])&&!tt.call(f,a)?i:r}function hp(r,i,a,f,p,b){return dt(r)&&dt(i)&&(b.set(i,r),Qo(r,i,n,hp,b),b.delete(i)),r}function mS(r){return xs(r)?n:r}function dp(r,i,a,f,p,b){var C=a&A,D=r.length,K=i.length;if(D!=K&&!(C&&K>D))return!1;var G=b.get(r),Y=b.get(i);if(G&&Y)return G==i&&Y==r;var Z=-1,he=!0,_e=a&$?new Xr:n;for(b.set(r,i),b.set(i,r);++Z<D;){var ke=r[Z],Fe=i[Z];if(f)var Ce=C?f(Fe,ke,Z,i,r,b):f(ke,Fe,Z,r,i,b);if(Ce!==n){if(Ce)continue;he=!1;break}if(_e){if(!qu(i,function(qe,Ge){if(!fs(_e,Ge)&&(ke===qe||p(ke,qe,a,f,b)))return _e.push(Ge)})){he=!1;break}}else if(!(ke===Fe||p(ke,Fe,a,f,b))){he=!1;break}}return b.delete(r),b.delete(i),he}function _S(r,i,a,f,p,b,C){switch(a){case ht:if(r.byteLength!=i.byteLength||r.byteOffset!=i.byteOffset)return!1;r=r.buffer,i=i.buffer;case $e:return!(r.byteLength!=i.byteLength||!b(new Mo(r),new Mo(i)));case U:case O:case le:return Nn(+r,+i);case fe:return r.name==i.name&&r.message==i.message;case we:case oe:return r==i+"";case se:var D=Qu;case Se:var K=f&A;if(D||(D=Io),r.size!=i.size&&!K)return!1;var G=C.get(r);if(G)return G==i;f|=$,C.set(r,i);var Y=dp(D(r),D(i),f,p,b,C);return C.delete(r),Y;case He:if(gs)return gs.call(r)==gs.call(i)}return!1}function bS(r,i,a,f,p,b){var C=a&A,D=Al(r),K=D.length,G=Al(i),Y=G.length;if(K!=Y&&!C)return!1;for(var Z=K;Z--;){var he=D[Z];if(!(C?he in i:tt.call(i,he)))return!1}var _e=b.get(r),ke=b.get(i);if(_e&&ke)return _e==i&&ke==r;var Fe=!0;b.set(r,i),b.set(i,r);for(var Ce=C;++Z<K;){he=D[Z];var qe=r[he],Ge=i[he];if(f)var sn=C?f(Ge,qe,he,i,r,b):f(qe,Ge,he,r,i,b);if(!(sn===n?qe===Ge||p(qe,Ge,a,f,b):sn)){Fe=!1;break}Ce||(Ce=he=="constructor")}if(Fe&&!Ce){var zt=r.constructor,on=i.constructor;zt!=on&&"constructor"in r&&"constructor"in i&&!(typeof zt=="function"&&zt instanceof zt&&typeof on=="function"&&on instanceof on)&&(Fe=!1)}return b.delete(r),b.delete(i),Fe}function rr(r){return kl(_p(r,n,Op),r+"")}function Al(r){return Nd(r,Et,xl)}function wl(r){return Nd(r,Ht,pp)}var Sl=qo?function(r){return qo.get(r)}:zl;function ia(r){for(var i=r.name+"",a=Ti[i],f=tt.call(Ti,i)?a.length:0;f--;){var p=a[f],b=p.func;if(b==null||b==r)return p.name}return i}function Pi(r){var i=tt.call(y,"placeholder")?y:r;return i.placeholder}function Oe(){var r=y.iteratee||Ul;return r=r===Ul?Dd:r,arguments.length?r(arguments[0],arguments[1]):r}function sa(r,i){var a=r.__data__;return OS(i)?a[typeof i=="string"?"string":"hash"]:a.map}function $l(r){for(var i=Et(r),a=i.length;a--;){var f=i[a],p=r[f];i[a]=[f,p,yp(p)]}return i}function ti(r,i){var a=P1(r,i);return Ld(a)?a:n}function AS(r){var i=tt.call(r,Qr),a=r[Qr];try{r[Qr]=n;var f=!0}catch{}var p=Do.call(r);return f&&(i?r[Qr]=a:delete r[Qr]),p}var xl=Xu?function(r){return r==null?[]:(r=rt(r),br(Xu(r),function(i){return bd.call(r,i)}))}:jl,pp=Xu?function(r){for(var i=[];r;)Ar(i,xl(r)),r=Fo(r);return i}:jl,Lt=Ut;(Zu&&Lt(new Zu(new ArrayBuffer(1)))!=ht||ds&&Lt(new ds)!=se||el&&Lt(el.resolve())!=de||Ei&&Lt(new Ei)!=Se||ps&&Lt(new ps)!=Ne)&&(Lt=function(r){var i=Ut(r),a=i==re?r.constructor:n,f=a?ni(a):"";if(f)switch(f){case rw:return ht;case iw:return se;case sw:return de;case ow:return Se;case aw:return Ne}return i});function wS(r,i,a){for(var f=-1,p=a.length;++f<p;){var b=a[f],C=b.size;switch(b.type){case"drop":r+=C;break;case"dropRight":i-=C;break;case"take":i=Rt(i,r+C);break;case"takeRight":r=bt(r,i-C);break}}return{start:r,end:i}}function SS(r){var i=r.match(Xn);return i?i[1].split(_i):[]}function vp(r,i,a){i=Er(i,r);for(var f=-1,p=i.length,b=!1;++f<p;){var C=zn(i[f]);if(!(b=r!=null&&a(r,C)))break;r=r[C]}return b||++f!=p?b:(p=r==null?0:r.length,!!p&&ha(p)&&ir(C,p)&&(Le(r)||ri(r)))}function $S(r){var i=r.length,a=new r.constructor(i);return i&&typeof r[0]=="string"&&tt.call(r,"index")&&(a.index=r.index,a.input=r.input),a}function gp(r){return typeof r.constructor=="function"&&!Ss(r)?Oi(Fo(r)):{}}function xS(r,i,a){var f=r.constructor;switch(i){case $e:return ml(r);case U:case O:return new f(+r);case ht:return uS(r,a);case Ot:case pt:case Fn:case Ee:case pe:case Ie:case Te:case Je:case nt:return Xd(r,a);case se:return new f;case le:case oe:return new f(r);case we:return lS(r);case Se:return new f;case He:return cS(r)}}function ES(r,i){var a=i.length;if(!a)return r;var f=a-1;return i[f]=(a>1?"& ":"")+i[f],i=i.join(a>2?", ":" "),r.replace(Cn,`{
/* [wrapped with `+i+`] */
`)}function TS(r){return Le(r)||ri(r)||!!(Ad&&r&&r[Ad])}function ir(r,i){var a=typeof r;return i=i==null?H:i,!!i&&(a=="number"||a!="symbol"&&FA.test(r))&&r>-1&&r%1==0&&r<i}function Kt(r,i,a){if(!dt(a))return!1;var f=typeof i;return(f=="number"?Wt(a)&&ir(i,a.length):f=="string"&&i in a)?Nn(a[i],r):!1}function El(r,i){if(Le(r))return!1;var a=typeof r;return a=="number"||a=="symbol"||a=="boolean"||r==null||rn(r)?!0:Nu.test(r)||!us.test(r)||i!=null&&r in rt(i)}function OS(r){var i=typeof r;return i=="string"||i=="number"||i=="symbol"||i=="boolean"?r!=="__proto__":r===null}function Tl(r){var i=ia(r),a=y[i];if(typeof a!="function"||!(i in We.prototype))return!1;if(r===a)return!0;var f=Sl(a);return!!f&&r===f[0]}function kS(r){return!!yd&&yd in r}var CS=Ro?sr:ql;function Ss(r){var i=r&&r.constructor,a=typeof i=="function"&&i.prototype||xi;return r===a}function yp(r){return r===r&&!dt(r)}function mp(r,i){return function(a){return a==null?!1:a[r]===i&&(i!==n||r in rt(a))}}function PS(r){var i=ca(r,function(f){return a.size===h&&a.clear(),f}),a=i.cache;return i}function IS(r,i){var a=r[1],f=i[1],p=a|f,b=p<(k|T|L),C=f==L&&a==N||f==L&&a==P&&r[7].length<=i[8]||f==(L|P)&&i[7].length<=i[8]&&a==N;if(!(b||C))return r;f&k&&(r[2]=i[2],p|=a&k?0:B);var D=i[3];if(D){var K=r[3];r[3]=K?ep(K,D,i[4]):D,r[4]=K?wr(r[3],v):i[4]}return D=i[5],D&&(K=r[5],r[5]=K?tp(K,D,i[6]):D,r[6]=K?wr(r[5],v):i[6]),D=i[7],D&&(r[7]=D),f&L&&(r[8]=r[8]==null?i[8]:Rt(r[8],i[8])),r[9]==null&&(r[9]=i[9]),r[0]=i[0],r[1]=p,r}function NS(r){var i=[];if(r!=null)for(var a in rt(r))i.push(a);return i}function RS(r){return Do.call(r)}function _p(r,i,a){return i=bt(i===n?r.length-1:i,0),function(){for(var f=arguments,p=-1,b=bt(f.length-i,0),C=j(b);++p<b;)C[p]=f[i+p];p=-1;for(var D=j(i+1);++p<i;)D[p]=f[p];return D[i]=a(C),en(r,this,D)}}function bp(r,i){return i.length<2?r:ei(r,bn(i,0,-1))}function LS(r,i){for(var a=r.length,f=Rt(i.length,a),p=Vt(r);f--;){var b=i[f];r[f]=ir(b,a)?p[b]:n}return r}function Ol(r,i){if(!(i==="constructor"&&typeof r[i]=="function")&&i!="__proto__")return r[i]}var Ap=Sp(qd),$s=Q1||function(r,i){return Pt.setTimeout(r,i)},kl=Sp(iS);function wp(r,i,a){var f=i+"";return kl(r,ES(f,DS(SS(f),a)))}function Sp(r){var i=0,a=0;return function(){var f=ew(),p=V-(f-a);if(a=f,p>0){if(++i>=M)return arguments[0]}else i=0;return r.apply(n,arguments)}}function oa(r,i){var a=-1,f=r.length,p=f-1;for(i=i===n?f:i;++a<i;){var b=fl(a,p),C=r[b];r[b]=r[a],r[a]=C}return r.length=i,r}var $p=PS(function(r){var i=[];return r.charCodeAt(0)===46&&i.push(""),r.replace(Ru,function(a,f,p,b){i.push(p?b.replace(NA,"$1"):f||a)}),i});function zn(r){if(typeof r=="string"||rn(r))return r;var i=r+"";return i=="0"&&1/r==-J?"-0":i}function ni(r){if(r!=null){try{return Lo.call(r)}catch{}try{return r+""}catch{}}return""}function DS(r,i){return gn(Ae,function(a){var f="_."+a[0];i&a[1]&&!Co(r,f)&&r.push(f)}),r.sort()}function xp(r){if(r instanceof We)return r.clone();var i=new mn(r.__wrapped__,r.__chain__);return i.__actions__=Vt(r.__actions__),i.__index__=r.__index__,i.__values__=r.__values__,i}function BS(r,i,a){(a?Kt(r,i,a):i===n)?i=1:i=bt(Be(i),0);var f=r==null?0:r.length;if(!f||i<1)return[];for(var p=0,b=0,C=j(zo(f/i));p<f;)C[b++]=bn(r,p,p+=i);return C}function MS(r){for(var i=-1,a=r==null?0:r.length,f=0,p=[];++i<a;){var b=r[i];b&&(p[f++]=b)}return p}function FS(){var r=arguments.length;if(!r)return[];for(var i=j(r-1),a=arguments[0],f=r;f--;)i[f-1]=arguments[f];return Ar(Le(a)?Vt(a):[a],It(i,1))}var US=Ke(function(r,i){return gt(r)?ms(r,It(i,1,gt,!0)):[]}),KS=Ke(function(r,i){var a=An(i);return gt(a)&&(a=n),gt(r)?ms(r,It(i,1,gt,!0),Oe(a,2)):[]}),zS=Ke(function(r,i){var a=An(i);return gt(a)&&(a=n),gt(r)?ms(r,It(i,1,gt,!0),n,a):[]});function jS(r,i,a){var f=r==null?0:r.length;return f?(i=a||i===n?1:Be(i),bn(r,i<0?0:i,f)):[]}function qS(r,i,a){var f=r==null?0:r.length;return f?(i=a||i===n?1:Be(i),i=f-i,bn(r,0,i<0?0:i)):[]}function VS(r,i){return r&&r.length?Xo(r,Oe(i,3),!0,!0):[]}function WS(r,i){return r&&r.length?Xo(r,Oe(i,3),!0):[]}function HS(r,i,a,f){var p=r==null?0:r.length;return p?(a&&typeof a!="number"&&Kt(r,i,a)&&(a=0,f=p),Fw(r,i,a,f)):[]}function Ep(r,i,a){var f=r==null?0:r.length;if(!f)return-1;var p=a==null?0:Be(a);return p<0&&(p=bt(f+p,0)),Po(r,Oe(i,3),p)}function Tp(r,i,a){var f=r==null?0:r.length;if(!f)return-1;var p=f-1;return a!==n&&(p=Be(a),p=a<0?bt(f+p,0):Rt(p,f-1)),Po(r,Oe(i,3),p,!0)}function Op(r){var i=r==null?0:r.length;return i?It(r,1):[]}function GS(r){var i=r==null?0:r.length;return i?It(r,J):[]}function YS(r,i){var a=r==null?0:r.length;return a?(i=i===n?1:Be(i),It(r,i)):[]}function QS(r){for(var i=-1,a=r==null?0:r.length,f={};++i<a;){var p=r[i];f[p[0]]=p[1]}return f}function kp(r){return r&&r.length?r[0]:n}function JS(r,i,a){var f=r==null?0:r.length;if(!f)return-1;var p=a==null?0:Be(a);return p<0&&(p=bt(f+p,0)),Ai(r,i,p)}function XS(r){var i=r==null?0:r.length;return i?bn(r,0,-1):[]}var ZS=Ke(function(r){var i=lt(r,gl);return i.length&&i[0]===r[0]?ol(i):[]}),e$=Ke(function(r){var i=An(r),a=lt(r,gl);return i===An(a)?i=n:a.pop(),a.length&&a[0]===r[0]?ol(a,Oe(i,2)):[]}),t$=Ke(function(r){var i=An(r),a=lt(r,gl);return i=typeof i=="function"?i:n,i&&a.pop(),a.length&&a[0]===r[0]?ol(a,n,i):[]});function n$(r,i){return r==null?"":X1.call(r,i)}function An(r){var i=r==null?0:r.length;return i?r[i-1]:n}function r$(r,i,a){var f=r==null?0:r.length;if(!f)return-1;var p=f;return a!==n&&(p=Be(a),p=p<0?bt(f+p,0):Rt(p,f-1)),i===i?D1(r,i,p):Po(r,ld,p,!0)}function i$(r,i){return r&&r.length?Ud(r,Be(i)):n}var s$=Ke(Cp);function Cp(r,i){return r&&r.length&&i&&i.length?cl(r,i):r}function o$(r,i,a){return r&&r.length&&i&&i.length?cl(r,i,Oe(a,2)):r}function a$(r,i,a){return r&&r.length&&i&&i.length?cl(r,i,n,a):r}var u$=rr(function(r,i){var a=r==null?0:r.length,f=nl(r,i);return jd(r,lt(i,function(p){return ir(p,a)?+p:p}).sort(Zd)),f});function l$(r,i){var a=[];if(!(r&&r.length))return a;var f=-1,p=[],b=r.length;for(i=Oe(i,3);++f<b;){var C=r[f];i(C,f,r)&&(a.push(C),p.push(f))}return jd(r,p),a}function Cl(r){return r==null?r:nw.call(r)}function c$(r,i,a){var f=r==null?0:r.length;return f?(a&&typeof a!="number"&&Kt(r,i,a)?(i=0,a=f):(i=i==null?0:Be(i),a=a===n?f:Be(a)),bn(r,i,a)):[]}function f$(r,i){return Jo(r,i)}function h$(r,i,a){return dl(r,i,Oe(a,2))}function d$(r,i){var a=r==null?0:r.length;if(a){var f=Jo(r,i);if(f<a&&Nn(r[f],i))return f}return-1}function p$(r,i){return Jo(r,i,!0)}function v$(r,i,a){return dl(r,i,Oe(a,2),!0)}function g$(r,i){var a=r==null?0:r.length;if(a){var f=Jo(r,i,!0)-1;if(Nn(r[f],i))return f}return-1}function y$(r){return r&&r.length?Vd(r):[]}function m$(r,i){return r&&r.length?Vd(r,Oe(i,2)):[]}function _$(r){var i=r==null?0:r.length;return i?bn(r,1,i):[]}function b$(r,i,a){return r&&r.length?(i=a||i===n?1:Be(i),bn(r,0,i<0?0:i)):[]}function A$(r,i,a){var f=r==null?0:r.length;return f?(i=a||i===n?1:Be(i),i=f-i,bn(r,i<0?0:i,f)):[]}function w$(r,i){return r&&r.length?Xo(r,Oe(i,3),!1,!0):[]}function S$(r,i){return r&&r.length?Xo(r,Oe(i,3)):[]}var $$=Ke(function(r){return xr(It(r,1,gt,!0))}),x$=Ke(function(r){var i=An(r);return gt(i)&&(i=n),xr(It(r,1,gt,!0),Oe(i,2))}),E$=Ke(function(r){var i=An(r);return i=typeof i=="function"?i:n,xr(It(r,1,gt,!0),n,i)});function T$(r){return r&&r.length?xr(r):[]}function O$(r,i){return r&&r.length?xr(r,Oe(i,2)):[]}function k$(r,i){return i=typeof i=="function"?i:n,r&&r.length?xr(r,n,i):[]}function Pl(r){if(!(r&&r.length))return[];var i=0;return r=br(r,function(a){if(gt(a))return i=bt(a.length,i),!0}),Gu(i,function(a){return lt(r,Vu(a))})}function Pp(r,i){if(!(r&&r.length))return[];var a=Pl(r);return i==null?a:lt(a,function(f){return en(i,n,f)})}var C$=Ke(function(r,i){return gt(r)?ms(r,i):[]}),P$=Ke(function(r){return vl(br(r,gt))}),I$=Ke(function(r){var i=An(r);return gt(i)&&(i=n),vl(br(r,gt),Oe(i,2))}),N$=Ke(function(r){var i=An(r);return i=typeof i=="function"?i:n,vl(br(r,gt),n,i)}),R$=Ke(Pl);function L$(r,i){return Yd(r||[],i||[],ys)}function D$(r,i){return Yd(r||[],i||[],As)}var B$=Ke(function(r){var i=r.length,a=i>1?r[i-1]:n;return a=typeof a=="function"?(r.pop(),a):n,Pp(r,a)});function Ip(r){var i=y(r);return i.__chain__=!0,i}function M$(r,i){return i(r),r}function aa(r,i){return i(r)}var F$=rr(function(r){var i=r.length,a=i?r[0]:0,f=this.__wrapped__,p=function(b){return nl(b,r)};return i>1||this.__actions__.length||!(f instanceof We)||!ir(a)?this.thru(p):(f=f.slice(a,+a+(i?1:0)),f.__actions__.push({func:aa,args:[p],thisArg:n}),new mn(f,this.__chain__).thru(function(b){return i&&!b.length&&b.push(n),b}))});function U$(){return Ip(this)}function K$(){return new mn(this.value(),this.__chain__)}function z$(){this.__values__===n&&(this.__values__=Wp(this.value()));var r=this.__index__>=this.__values__.length,i=r?n:this.__values__[this.__index__++];return{done:r,value:i}}function j$(){return this}function q$(r){for(var i,a=this;a instanceof Wo;){var f=xp(a);f.__index__=0,f.__values__=n,i?p.__wrapped__=f:i=f;var p=f;a=a.__wrapped__}return p.__wrapped__=r,i}function V$(){var r=this.__wrapped__;if(r instanceof We){var i=r;return this.__actions__.length&&(i=new We(this)),i=i.reverse(),i.__actions__.push({func:aa,args:[Cl],thisArg:n}),new mn(i,this.__chain__)}return this.thru(Cl)}function W$(){return Gd(this.__wrapped__,this.__actions__)}var H$=Zo(function(r,i,a){tt.call(r,a)?++r[a]:tr(r,a,1)});function G$(r,i,a){var f=Le(r)?ad:Mw;return a&&Kt(r,i,a)&&(i=n),f(r,Oe(i,3))}function Y$(r,i){var a=Le(r)?br:Pd;return a(r,Oe(i,3))}var Q$=sp(Ep),J$=sp(Tp);function X$(r,i){return It(ua(r,i),1)}function Z$(r,i){return It(ua(r,i),J)}function ex(r,i,a){return a=a===n?1:Be(a),It(ua(r,i),a)}function Np(r,i){var a=Le(r)?gn:$r;return a(r,Oe(i,3))}function Rp(r,i){var a=Le(r)?_1:Cd;return a(r,Oe(i,3))}var tx=Zo(function(r,i,a){tt.call(r,a)?r[a].push(i):tr(r,a,[i])});function nx(r,i,a,f){r=Wt(r)?r:Ni(r),a=a&&!f?Be(a):0;var p=r.length;return a<0&&(a=bt(p+a,0)),da(r)?a<=p&&r.indexOf(i,a)>-1:!!p&&Ai(r,i,a)>-1}var rx=Ke(function(r,i,a){var f=-1,p=typeof i=="function",b=Wt(r)?j(r.length):[];return $r(r,function(C){b[++f]=p?en(i,C,a):_s(C,i,a)}),b}),ix=Zo(function(r,i,a){tr(r,a,i)});function ua(r,i){var a=Le(r)?lt:Bd;return a(r,Oe(i,3))}function sx(r,i,a,f){return r==null?[]:(Le(i)||(i=i==null?[]:[i]),a=f?n:a,Le(a)||(a=a==null?[]:[a]),Kd(r,i,a))}var ox=Zo(function(r,i,a){r[a?0:1].push(i)},function(){return[[],[]]});function ax(r,i,a){var f=Le(r)?ju:fd,p=arguments.length<3;return f(r,Oe(i,4),a,p,$r)}function ux(r,i,a){var f=Le(r)?b1:fd,p=arguments.length<3;return f(r,Oe(i,4),a,p,Cd)}function lx(r,i){var a=Le(r)?br:Pd;return a(r,fa(Oe(i,3)))}function cx(r){var i=Le(r)?Ed:nS;return i(r)}function fx(r,i,a){(a?Kt(r,i,a):i===n)?i=1:i=Be(i);var f=Le(r)?Nw:rS;return f(r,i)}function hx(r){var i=Le(r)?Rw:sS;return i(r)}function dx(r){if(r==null)return 0;if(Wt(r))return da(r)?Si(r):r.length;var i=Lt(r);return i==se||i==Se?r.size:ul(r).length}function px(r,i,a){var f=Le(r)?qu:oS;return a&&Kt(r,i,a)&&(i=n),f(r,Oe(i,3))}var vx=Ke(function(r,i){if(r==null)return[];var a=i.length;return a>1&&Kt(r,i[0],i[1])?i=[]:a>2&&Kt(i[0],i[1],i[2])&&(i=[i[0]]),Kd(r,It(i,1),[])}),la=Y1||function(){return Pt.Date.now()};function gx(r,i){if(typeof i!="function")throw new yn(l);return r=Be(r),function(){if(--r<1)return i.apply(this,arguments)}}function Lp(r,i,a){return i=a?n:i,i=r&&i==null?r.length:i,nr(r,L,n,n,n,n,i)}function Dp(r,i){var a;if(typeof i!="function")throw new yn(l);return r=Be(r),function(){return--r>0&&(a=i.apply(this,arguments)),r<=1&&(i=n),a}}var Il=Ke(function(r,i,a){var f=k;if(a.length){var p=wr(a,Pi(Il));f|=x}return nr(r,f,i,a,p)}),Bp=Ke(function(r,i,a){var f=k|T;if(a.length){var p=wr(a,Pi(Bp));f|=x}return nr(i,f,r,a,p)});function Mp(r,i,a){i=a?n:i;var f=nr(r,N,n,n,n,n,n,i);return f.placeholder=Mp.placeholder,f}function Fp(r,i,a){i=a?n:i;var f=nr(r,w,n,n,n,n,n,i);return f.placeholder=Fp.placeholder,f}function Up(r,i,a){var f,p,b,C,D,K,G=0,Y=!1,Z=!1,he=!0;if(typeof r!="function")throw new yn(l);i=wn(i)||0,dt(a)&&(Y=!!a.leading,Z="maxWait"in a,b=Z?bt(wn(a.maxWait)||0,i):b,he="trailing"in a?!!a.trailing:he);function _e(yt){var Rn=f,ar=p;return f=p=n,G=yt,C=r.apply(ar,Rn),C}function ke(yt){return G=yt,D=$s(qe,i),Y?_e(yt):C}function Fe(yt){var Rn=yt-K,ar=yt-G,sv=i-Rn;return Z?Rt(sv,b-ar):sv}function Ce(yt){var Rn=yt-K,ar=yt-G;return K===n||Rn>=i||Rn<0||Z&&ar>=b}function qe(){var yt=la();if(Ce(yt))return Ge(yt);D=$s(qe,Fe(yt))}function Ge(yt){return D=n,he&&f?_e(yt):(f=p=n,C)}function sn(){D!==n&&Qd(D),G=0,f=K=p=D=n}function zt(){return D===n?C:Ge(la())}function on(){var yt=la(),Rn=Ce(yt);if(f=arguments,p=this,K=yt,Rn){if(D===n)return ke(K);if(Z)return Qd(D),D=$s(qe,i),_e(K)}return D===n&&(D=$s(qe,i)),C}return on.cancel=sn,on.flush=zt,on}var yx=Ke(function(r,i){return kd(r,1,i)}),mx=Ke(function(r,i,a){return kd(r,wn(i)||0,a)});function _x(r){return nr(r,S)}function ca(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new yn(l);var a=function(){var f=arguments,p=i?i.apply(this,f):f[0],b=a.cache;if(b.has(p))return b.get(p);var C=r.apply(this,f);return a.cache=b.set(p,C)||b,C};return a.cache=new(ca.Cache||er),a}ca.Cache=er;function fa(r){if(typeof r!="function")throw new yn(l);return function(){var i=arguments;switch(i.length){case 0:return!r.call(this);case 1:return!r.call(this,i[0]);case 2:return!r.call(this,i[0],i[1]);case 3:return!r.call(this,i[0],i[1],i[2])}return!r.apply(this,i)}}function bx(r){return Dp(2,r)}var Ax=aS(function(r,i){i=i.length==1&&Le(i[0])?lt(i[0],tn(Oe())):lt(It(i,1),tn(Oe()));var a=i.length;return Ke(function(f){for(var p=-1,b=Rt(f.length,a);++p<b;)f[p]=i[p].call(this,f[p]);return en(r,this,f)})}),Nl=Ke(function(r,i){var a=wr(i,Pi(Nl));return nr(r,x,n,i,a)}),Kp=Ke(function(r,i){var a=wr(i,Pi(Kp));return nr(r,R,n,i,a)}),wx=rr(function(r,i){return nr(r,P,n,n,n,i)});function Sx(r,i){if(typeof r!="function")throw new yn(l);return i=i===n?i:Be(i),Ke(r,i)}function $x(r,i){if(typeof r!="function")throw new yn(l);return i=i==null?0:bt(Be(i),0),Ke(function(a){var f=a[i],p=Tr(a,0,i);return f&&Ar(p,f),en(r,this,p)})}function xx(r,i,a){var f=!0,p=!0;if(typeof r!="function")throw new yn(l);return dt(a)&&(f="leading"in a?!!a.leading:f,p="trailing"in a?!!a.trailing:p),Up(r,i,{leading:f,maxWait:i,trailing:p})}function Ex(r){return Lp(r,1)}function Tx(r,i){return Nl(yl(i),r)}function Ox(){if(!arguments.length)return[];var r=arguments[0];return Le(r)?r:[r]}function kx(r){return _n(r,I)}function Cx(r,i){return i=typeof i=="function"?i:n,_n(r,I,i)}function Px(r){return _n(r,m|I)}function Ix(r,i){return i=typeof i=="function"?i:n,_n(r,m|I,i)}function Nx(r,i){return i==null||Od(r,i,Et(i))}function Nn(r,i){return r===i||r!==r&&i!==i}var Rx=ra(sl),Lx=ra(function(r,i){return r>=i}),ri=Rd(function(){return arguments}())?Rd:function(r){return vt(r)&&tt.call(r,"callee")&&!bd.call(r,"callee")},Le=j.isArray,Dx=td?tn(td):qw;function Wt(r){return r!=null&&ha(r.length)&&!sr(r)}function gt(r){return vt(r)&&Wt(r)}function Bx(r){return r===!0||r===!1||vt(r)&&Ut(r)==U}var Or=J1||ql,Mx=nd?tn(nd):Vw;function Fx(r){return vt(r)&&r.nodeType===1&&!xs(r)}function Ux(r){if(r==null)return!0;if(Wt(r)&&(Le(r)||typeof r=="string"||typeof r.splice=="function"||Or(r)||Ii(r)||ri(r)))return!r.length;var i=Lt(r);if(i==se||i==Se)return!r.size;if(Ss(r))return!ul(r).length;for(var a in r)if(tt.call(r,a))return!1;return!0}function Kx(r,i){return bs(r,i)}function zx(r,i,a){a=typeof a=="function"?a:n;var f=a?a(r,i):n;return f===n?bs(r,i,n,a):!!f}function Rl(r){if(!vt(r))return!1;var i=Ut(r);return i==fe||i==q||typeof r.message=="string"&&typeof r.name=="string"&&!xs(r)}function jx(r){return typeof r=="number"&&wd(r)}function sr(r){if(!dt(r))return!1;var i=Ut(r);return i==Q||i==te||i==Qe||i==ie}function zp(r){return typeof r=="number"&&r==Be(r)}function ha(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=H}function dt(r){var i=typeof r;return r!=null&&(i=="object"||i=="function")}function vt(r){return r!=null&&typeof r=="object"}var jp=rd?tn(rd):Hw;function qx(r,i){return r===i||al(r,i,$l(i))}function Vx(r,i,a){return a=typeof a=="function"?a:n,al(r,i,$l(i),a)}function Wx(r){return qp(r)&&r!=+r}function Hx(r){if(CS(r))throw new Re(u);return Ld(r)}function Gx(r){return r===null}function Yx(r){return r==null}function qp(r){return typeof r=="number"||vt(r)&&Ut(r)==le}function xs(r){if(!vt(r)||Ut(r)!=re)return!1;var i=Fo(r);if(i===null)return!0;var a=tt.call(i,"constructor")&&i.constructor;return typeof a=="function"&&a instanceof a&&Lo.call(a)==V1}var Ll=id?tn(id):Gw;function Qx(r){return zp(r)&&r>=-H&&r<=H}var Vp=sd?tn(sd):Yw;function da(r){return typeof r=="string"||!Le(r)&&vt(r)&&Ut(r)==oe}function rn(r){return typeof r=="symbol"||vt(r)&&Ut(r)==He}var Ii=od?tn(od):Qw;function Jx(r){return r===n}function Xx(r){return vt(r)&&Lt(r)==Ne}function Zx(r){return vt(r)&&Ut(r)==je}var e2=ra(ll),t2=ra(function(r,i){return r<=i});function Wp(r){if(!r)return[];if(Wt(r))return da(r)?Pn(r):Vt(r);if(hs&&r[hs])return N1(r[hs]());var i=Lt(r),a=i==se?Qu:i==Se?Io:Ni;return a(r)}function or(r){if(!r)return r===0?r:0;if(r=wn(r),r===J||r===-J){var i=r<0?-1:1;return i*ee}return r===r?r:0}function Be(r){var i=or(r),a=i%1;return i===i?a?i-a:i:0}function Hp(r){return r?Zr(Be(r),0,ve):0}function wn(r){if(typeof r=="number")return r;if(rn(r))return ae;if(dt(r)){var i=typeof r.valueOf=="function"?r.valueOf():r;r=dt(i)?i+"":i}if(typeof r!="string")return r===0?r:+r;r=hd(r);var a=DA.test(r);return a||MA.test(r)?g1(r.slice(2),a?2:8):LA.test(r)?ae:+r}function Gp(r){return Kn(r,Ht(r))}function n2(r){return r?Zr(Be(r),-H,H):r===0?r:0}function et(r){return r==null?"":nn(r)}var r2=ki(function(r,i){if(Ss(i)||Wt(i)){Kn(i,Et(i),r);return}for(var a in i)tt.call(i,a)&&ys(r,a,i[a])}),Yp=ki(function(r,i){Kn(i,Ht(i),r)}),pa=ki(function(r,i,a,f){Kn(i,Ht(i),r,f)}),i2=ki(function(r,i,a,f){Kn(i,Et(i),r,f)}),s2=rr(nl);function o2(r,i){var a=Oi(r);return i==null?a:Td(a,i)}var a2=Ke(function(r,i){r=rt(r);var a=-1,f=i.length,p=f>2?i[2]:n;for(p&&Kt(i[0],i[1],p)&&(f=1);++a<f;)for(var b=i[a],C=Ht(b),D=-1,K=C.length;++D<K;){var G=C[D],Y=r[G];(Y===n||Nn(Y,xi[G])&&!tt.call(r,G))&&(r[G]=b[G])}return r}),u2=Ke(function(r){return r.push(n,hp),en(Qp,n,r)});function l2(r,i){return ud(r,Oe(i,3),Un)}function c2(r,i){return ud(r,Oe(i,3),il)}function f2(r,i){return r==null?r:rl(r,Oe(i,3),Ht)}function h2(r,i){return r==null?r:Id(r,Oe(i,3),Ht)}function d2(r,i){return r&&Un(r,Oe(i,3))}function p2(r,i){return r&&il(r,Oe(i,3))}function v2(r){return r==null?[]:Yo(r,Et(r))}function g2(r){return r==null?[]:Yo(r,Ht(r))}function Dl(r,i,a){var f=r==null?n:ei(r,i);return f===n?a:f}function y2(r,i){return r!=null&&vp(r,i,Uw)}function Bl(r,i){return r!=null&&vp(r,i,Kw)}var m2=ap(function(r,i,a){i!=null&&typeof i.toString!="function"&&(i=Do.call(i)),r[i]=a},Fl(Gt)),_2=ap(function(r,i,a){i!=null&&typeof i.toString!="function"&&(i=Do.call(i)),tt.call(r,i)?r[i].push(a):r[i]=[a]},Oe),b2=Ke(_s);function Et(r){return Wt(r)?xd(r):ul(r)}function Ht(r){return Wt(r)?xd(r,!0):Jw(r)}function A2(r,i){var a={};return i=Oe(i,3),Un(r,function(f,p,b){tr(a,i(f,p,b),f)}),a}function w2(r,i){var a={};return i=Oe(i,3),Un(r,function(f,p,b){tr(a,p,i(f,p,b))}),a}var S2=ki(function(r,i,a){Qo(r,i,a)}),Qp=ki(function(r,i,a,f){Qo(r,i,a,f)}),$2=rr(function(r,i){var a={};if(r==null)return a;var f=!1;i=lt(i,function(b){return b=Er(b,r),f||(f=b.length>1),b}),Kn(r,wl(r),a),f&&(a=_n(a,m|E|I,mS));for(var p=i.length;p--;)pl(a,i[p]);return a});function x2(r,i){return Jp(r,fa(Oe(i)))}var E2=rr(function(r,i){return r==null?{}:Zw(r,i)});function Jp(r,i){if(r==null)return{};var a=lt(wl(r),function(f){return[f]});return i=Oe(i),zd(r,a,function(f,p){return i(f,p[0])})}function T2(r,i,a){i=Er(i,r);var f=-1,p=i.length;for(p||(p=1,r=n);++f<p;){var b=r==null?n:r[zn(i[f])];b===n&&(f=p,b=a),r=sr(b)?b.call(r):b}return r}function O2(r,i,a){return r==null?r:As(r,i,a)}function k2(r,i,a,f){return f=typeof f=="function"?f:n,r==null?r:As(r,i,a,f)}var Xp=cp(Et),Zp=cp(Ht);function C2(r,i,a){var f=Le(r),p=f||Or(r)||Ii(r);if(i=Oe(i,4),a==null){var b=r&&r.constructor;p?a=f?new b:[]:dt(r)?a=sr(b)?Oi(Fo(r)):{}:a={}}return(p?gn:Un)(r,function(C,D,K){return i(a,C,D,K)}),a}function P2(r,i){return r==null?!0:pl(r,i)}function I2(r,i,a){return r==null?r:Hd(r,i,yl(a))}function N2(r,i,a,f){return f=typeof f=="function"?f:n,r==null?r:Hd(r,i,yl(a),f)}function Ni(r){return r==null?[]:Yu(r,Et(r))}function R2(r){return r==null?[]:Yu(r,Ht(r))}function L2(r,i,a){return a===n&&(a=i,i=n),a!==n&&(a=wn(a),a=a===a?a:0),i!==n&&(i=wn(i),i=i===i?i:0),Zr(wn(r),i,a)}function D2(r,i,a){return i=or(i),a===n?(a=i,i=0):a=or(a),r=wn(r),zw(r,i,a)}function B2(r,i,a){if(a&&typeof a!="boolean"&&Kt(r,i,a)&&(i=a=n),a===n&&(typeof i=="boolean"?(a=i,i=n):typeof r=="boolean"&&(a=r,r=n)),r===n&&i===n?(r=0,i=1):(r=or(r),i===n?(i=r,r=0):i=or(i)),r>i){var f=r;r=i,i=f}if(a||r%1||i%1){var p=Sd();return Rt(r+p*(i-r+v1("1e-"+((p+"").length-1))),i)}return fl(r,i)}var M2=Ci(function(r,i,a){return i=i.toLowerCase(),r+(a?ev(i):i)});function ev(r){return Ml(et(r).toLowerCase())}function tv(r){return r=et(r),r&&r.replace(UA,O1).replace(s1,"")}function F2(r,i,a){r=et(r),i=nn(i);var f=r.length;a=a===n?f:Zr(Be(a),0,f);var p=a;return a-=i.length,a>=0&&r.slice(a,p)==i}function U2(r){return r=et(r),r&&Zt.test(r)?r.replace(Ve,k1):r}function K2(r){return r=et(r),r&&cs.test(r)?r.replace(ls,"\\$&"):r}var z2=Ci(function(r,i,a){return r+(a?"-":"")+i.toLowerCase()}),j2=Ci(function(r,i,a){return r+(a?" ":"")+i.toLowerCase()}),q2=ip("toLowerCase");function V2(r,i,a){r=et(r),i=Be(i);var f=i?Si(r):0;if(!i||f>=i)return r;var p=(i-f)/2;return na(jo(p),a)+r+na(zo(p),a)}function W2(r,i,a){r=et(r),i=Be(i);var f=i?Si(r):0;return i&&f<i?r+na(i-f,a):r}function H2(r,i,a){r=et(r),i=Be(i);var f=i?Si(r):0;return i&&f<i?na(i-f,a)+r:r}function G2(r,i,a){return a||i==null?i=0:i&&(i=+i),tw(et(r).replace(pn,""),i||0)}function Y2(r,i,a){return(a?Kt(r,i,a):i===n)?i=1:i=Be(i),hl(et(r),i)}function Q2(){var r=arguments,i=et(r[0]);return r.length<3?i:i.replace(r[1],r[2])}var J2=Ci(function(r,i,a){return r+(a?"_":"")+i.toLowerCase()});function X2(r,i,a){return a&&typeof a!="number"&&Kt(r,i,a)&&(i=a=n),a=a===n?ve:a>>>0,a?(r=et(r),r&&(typeof i=="string"||i!=null&&!Ll(i))&&(i=nn(i),!i&&wi(r))?Tr(Pn(r),0,a):r.split(i,a)):[]}var Z2=Ci(function(r,i,a){return r+(a?" ":"")+Ml(i)});function eE(r,i,a){return r=et(r),a=a==null?0:Zr(Be(a),0,r.length),i=nn(i),r.slice(a,a+i.length)==i}function tE(r,i,a){var f=y.templateSettings;a&&Kt(r,i,a)&&(i=n),r=et(r),i=pa({},i,f,fp);var p=pa({},i.imports,f.imports,fp),b=Et(p),C=Yu(p,b),D,K,G=0,Y=i.interpolate||To,Z="__p += '",he=Ju((i.escape||To).source+"|"+Y.source+"|"+(Y===$t?RA:To).source+"|"+(i.evaluate||To).source+"|$","g"),_e="//# sourceURL="+(tt.call(i,"sourceURL")?(i.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++c1+"]")+`
`;r.replace(he,function(Ce,qe,Ge,sn,zt,on){return Ge||(Ge=sn),Z+=r.slice(G,on).replace(KA,C1),qe&&(D=!0,Z+=`' +
__e(`+qe+`) +
'`),zt&&(K=!0,Z+=`';
`+zt+`;
__p += '`),Ge&&(Z+=`' +
((__t = (`+Ge+`)) == null ? '' : __t) +
'`),G=on+Ce.length,Ce}),Z+=`';
`;var ke=tt.call(i,"variable")&&i.variable;if(!ke)Z=`with (obj) {
`+Z+`
}
`;else if(IA.test(ke))throw new Re(c);Z=(K?Z.replace(Xt,""):Z).replace(ot,"$1").replace(kt,"$1;"),Z="function("+(ke||"obj")+`) {
`+(ke?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(D?", __e = _.escape":"")+(K?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Z+`return __p
}`;var Fe=rv(function(){return Ze(b,_e+"return "+Z).apply(n,C)});if(Fe.source=Z,Rl(Fe))throw Fe;return Fe}function nE(r){return et(r).toLowerCase()}function rE(r){return et(r).toUpperCase()}function iE(r,i,a){if(r=et(r),r&&(a||i===n))return hd(r);if(!r||!(i=nn(i)))return r;var f=Pn(r),p=Pn(i),b=dd(f,p),C=pd(f,p)+1;return Tr(f,b,C).join("")}function sE(r,i,a){if(r=et(r),r&&(a||i===n))return r.slice(0,gd(r)+1);if(!r||!(i=nn(i)))return r;var f=Pn(r),p=pd(f,Pn(i))+1;return Tr(f,0,p).join("")}function oE(r,i,a){if(r=et(r),r&&(a||i===n))return r.replace(pn,"");if(!r||!(i=nn(i)))return r;var f=Pn(r),p=dd(f,Pn(i));return Tr(f,p).join("")}function aE(r,i){var a=g,f=z;if(dt(i)){var p="separator"in i?i.separator:p;a="length"in i?Be(i.length):a,f="omission"in i?nn(i.omission):f}r=et(r);var b=r.length;if(wi(r)){var C=Pn(r);b=C.length}if(a>=b)return r;var D=a-Si(f);if(D<1)return f;var K=C?Tr(C,0,D).join(""):r.slice(0,D);if(p===n)return K+f;if(C&&(D+=K.length-D),Ll(p)){if(r.slice(D).search(p)){var G,Y=K;for(p.global||(p=Ju(p.source,et(Rh.exec(p))+"g")),p.lastIndex=0;G=p.exec(Y);)var Z=G.index;K=K.slice(0,Z===n?D:Z)}}else if(r.indexOf(nn(p),D)!=D){var he=K.lastIndexOf(p);he>-1&&(K=K.slice(0,he))}return K+f}function uE(r){return r=et(r),r&&St.test(r)?r.replace(Ct,B1):r}var lE=Ci(function(r,i,a){return r+(a?" ":"")+i.toUpperCase()}),Ml=ip("toUpperCase");function nv(r,i,a){return r=et(r),i=a?n:i,i===n?I1(r)?U1(r):S1(r):r.match(i)||[]}var rv=Ke(function(r,i){try{return en(r,n,i)}catch(a){return Rl(a)?a:new Re(a)}}),cE=rr(function(r,i){return gn(i,function(a){a=zn(a),tr(r,a,Il(r[a],r))}),r});function fE(r){var i=r==null?0:r.length,a=Oe();return r=i?lt(r,function(f){if(typeof f[1]!="function")throw new yn(l);return[a(f[0]),f[1]]}):[],Ke(function(f){for(var p=-1;++p<i;){var b=r[p];if(en(b[0],this,f))return en(b[1],this,f)}})}function hE(r){return Bw(_n(r,m))}function Fl(r){return function(){return r}}function dE(r,i){return r==null||r!==r?i:r}var pE=op(),vE=op(!0);function Gt(r){return r}function Ul(r){return Dd(typeof r=="function"?r:_n(r,m))}function gE(r){return Md(_n(r,m))}function yE(r,i){return Fd(r,_n(i,m))}var mE=Ke(function(r,i){return function(a){return _s(a,r,i)}}),_E=Ke(function(r,i){return function(a){return _s(r,a,i)}});function Kl(r,i,a){var f=Et(i),p=Yo(i,f);a==null&&!(dt(i)&&(p.length||!f.length))&&(a=i,i=r,r=this,p=Yo(i,Et(i)));var b=!(dt(a)&&"chain"in a)||!!a.chain,C=sr(r);return gn(p,function(D){var K=i[D];r[D]=K,C&&(r.prototype[D]=function(){var G=this.__chain__;if(b||G){var Y=r(this.__wrapped__),Z=Y.__actions__=Vt(this.__actions__);return Z.push({func:K,args:arguments,thisArg:r}),Y.__chain__=G,Y}return K.apply(r,Ar([this.value()],arguments))})}),r}function bE(){return Pt._===this&&(Pt._=W1),this}function zl(){}function AE(r){return r=Be(r),Ke(function(i){return Ud(i,r)})}var wE=_l(lt),SE=_l(ad),$E=_l(qu);function iv(r){return El(r)?Vu(zn(r)):eS(r)}function xE(r){return function(i){return r==null?n:ei(r,i)}}var EE=up(),TE=up(!0);function jl(){return[]}function ql(){return!1}function OE(){return{}}function kE(){return""}function CE(){return!0}function PE(r,i){if(r=Be(r),r<1||r>H)return[];var a=ve,f=Rt(r,ve);i=Oe(i),r-=ve;for(var p=Gu(f,i);++a<r;)i(a);return p}function IE(r){return Le(r)?lt(r,zn):rn(r)?[r]:Vt($p(et(r)))}function NE(r){var i=++q1;return et(r)+i}var RE=ta(function(r,i){return r+i},0),LE=bl("ceil"),DE=ta(function(r,i){return r/i},1),BE=bl("floor");function ME(r){return r&&r.length?Go(r,Gt,sl):n}function FE(r,i){return r&&r.length?Go(r,Oe(i,2),sl):n}function UE(r){return cd(r,Gt)}function KE(r,i){return cd(r,Oe(i,2))}function zE(r){return r&&r.length?Go(r,Gt,ll):n}function jE(r,i){return r&&r.length?Go(r,Oe(i,2),ll):n}var qE=ta(function(r,i){return r*i},1),VE=bl("round"),WE=ta(function(r,i){return r-i},0);function HE(r){return r&&r.length?Hu(r,Gt):0}function GE(r,i){return r&&r.length?Hu(r,Oe(i,2)):0}return y.after=gx,y.ary=Lp,y.assign=r2,y.assignIn=Yp,y.assignInWith=pa,y.assignWith=i2,y.at=s2,y.before=Dp,y.bind=Il,y.bindAll=cE,y.bindKey=Bp,y.castArray=Ox,y.chain=Ip,y.chunk=BS,y.compact=MS,y.concat=FS,y.cond=fE,y.conforms=hE,y.constant=Fl,y.countBy=H$,y.create=o2,y.curry=Mp,y.curryRight=Fp,y.debounce=Up,y.defaults=a2,y.defaultsDeep=u2,y.defer=yx,y.delay=mx,y.difference=US,y.differenceBy=KS,y.differenceWith=zS,y.drop=jS,y.dropRight=qS,y.dropRightWhile=VS,y.dropWhile=WS,y.fill=HS,y.filter=Y$,y.flatMap=X$,y.flatMapDeep=Z$,y.flatMapDepth=ex,y.flatten=Op,y.flattenDeep=GS,y.flattenDepth=YS,y.flip=_x,y.flow=pE,y.flowRight=vE,y.fromPairs=QS,y.functions=v2,y.functionsIn=g2,y.groupBy=tx,y.initial=XS,y.intersection=ZS,y.intersectionBy=e$,y.intersectionWith=t$,y.invert=m2,y.invertBy=_2,y.invokeMap=rx,y.iteratee=Ul,y.keyBy=ix,y.keys=Et,y.keysIn=Ht,y.map=ua,y.mapKeys=A2,y.mapValues=w2,y.matches=gE,y.matchesProperty=yE,y.memoize=ca,y.merge=S2,y.mergeWith=Qp,y.method=mE,y.methodOf=_E,y.mixin=Kl,y.negate=fa,y.nthArg=AE,y.omit=$2,y.omitBy=x2,y.once=bx,y.orderBy=sx,y.over=wE,y.overArgs=Ax,y.overEvery=SE,y.overSome=$E,y.partial=Nl,y.partialRight=Kp,y.partition=ox,y.pick=E2,y.pickBy=Jp,y.property=iv,y.propertyOf=xE,y.pull=s$,y.pullAll=Cp,y.pullAllBy=o$,y.pullAllWith=a$,y.pullAt=u$,y.range=EE,y.rangeRight=TE,y.rearg=wx,y.reject=lx,y.remove=l$,y.rest=Sx,y.reverse=Cl,y.sampleSize=fx,y.set=O2,y.setWith=k2,y.shuffle=hx,y.slice=c$,y.sortBy=vx,y.sortedUniq=y$,y.sortedUniqBy=m$,y.split=X2,y.spread=$x,y.tail=_$,y.take=b$,y.takeRight=A$,y.takeRightWhile=w$,y.takeWhile=S$,y.tap=M$,y.throttle=xx,y.thru=aa,y.toArray=Wp,y.toPairs=Xp,y.toPairsIn=Zp,y.toPath=IE,y.toPlainObject=Gp,y.transform=C2,y.unary=Ex,y.union=$$,y.unionBy=x$,y.unionWith=E$,y.uniq=T$,y.uniqBy=O$,y.uniqWith=k$,y.unset=P2,y.unzip=Pl,y.unzipWith=Pp,y.update=I2,y.updateWith=N2,y.values=Ni,y.valuesIn=R2,y.without=C$,y.words=nv,y.wrap=Tx,y.xor=P$,y.xorBy=I$,y.xorWith=N$,y.zip=R$,y.zipObject=L$,y.zipObjectDeep=D$,y.zipWith=B$,y.entries=Xp,y.entriesIn=Zp,y.extend=Yp,y.extendWith=pa,Kl(y,y),y.add=RE,y.attempt=rv,y.camelCase=M2,y.capitalize=ev,y.ceil=LE,y.clamp=L2,y.clone=kx,y.cloneDeep=Px,y.cloneDeepWith=Ix,y.cloneWith=Cx,y.conformsTo=Nx,y.deburr=tv,y.defaultTo=dE,y.divide=DE,y.endsWith=F2,y.eq=Nn,y.escape=U2,y.escapeRegExp=K2,y.every=G$,y.find=Q$,y.findIndex=Ep,y.findKey=l2,y.findLast=J$,y.findLastIndex=Tp,y.findLastKey=c2,y.floor=BE,y.forEach=Np,y.forEachRight=Rp,y.forIn=f2,y.forInRight=h2,y.forOwn=d2,y.forOwnRight=p2,y.get=Dl,y.gt=Rx,y.gte=Lx,y.has=y2,y.hasIn=Bl,y.head=kp,y.identity=Gt,y.includes=nx,y.indexOf=JS,y.inRange=D2,y.invoke=b2,y.isArguments=ri,y.isArray=Le,y.isArrayBuffer=Dx,y.isArrayLike=Wt,y.isArrayLikeObject=gt,y.isBoolean=Bx,y.isBuffer=Or,y.isDate=Mx,y.isElement=Fx,y.isEmpty=Ux,y.isEqual=Kx,y.isEqualWith=zx,y.isError=Rl,y.isFinite=jx,y.isFunction=sr,y.isInteger=zp,y.isLength=ha,y.isMap=jp,y.isMatch=qx,y.isMatchWith=Vx,y.isNaN=Wx,y.isNative=Hx,y.isNil=Yx,y.isNull=Gx,y.isNumber=qp,y.isObject=dt,y.isObjectLike=vt,y.isPlainObject=xs,y.isRegExp=Ll,y.isSafeInteger=Qx,y.isSet=Vp,y.isString=da,y.isSymbol=rn,y.isTypedArray=Ii,y.isUndefined=Jx,y.isWeakMap=Xx,y.isWeakSet=Zx,y.join=n$,y.kebabCase=z2,y.last=An,y.lastIndexOf=r$,y.lowerCase=j2,y.lowerFirst=q2,y.lt=e2,y.lte=t2,y.max=ME,y.maxBy=FE,y.mean=UE,y.meanBy=KE,y.min=zE,y.minBy=jE,y.stubArray=jl,y.stubFalse=ql,y.stubObject=OE,y.stubString=kE,y.stubTrue=CE,y.multiply=qE,y.nth=i$,y.noConflict=bE,y.noop=zl,y.now=la,y.pad=V2,y.padEnd=W2,y.padStart=H2,y.parseInt=G2,y.random=B2,y.reduce=ax,y.reduceRight=ux,y.repeat=Y2,y.replace=Q2,y.result=T2,y.round=VE,y.runInContext=F,y.sample=cx,y.size=dx,y.snakeCase=J2,y.some=px,y.sortedIndex=f$,y.sortedIndexBy=h$,y.sortedIndexOf=d$,y.sortedLastIndex=p$,y.sortedLastIndexBy=v$,y.sortedLastIndexOf=g$,y.startCase=Z2,y.startsWith=eE,y.subtract=WE,y.sum=HE,y.sumBy=GE,y.template=tE,y.times=PE,y.toFinite=or,y.toInteger=Be,y.toLength=Hp,y.toLower=nE,y.toNumber=wn,y.toSafeInteger=n2,y.toString=et,y.toUpper=rE,y.trim=iE,y.trimEnd=sE,y.trimStart=oE,y.truncate=aE,y.unescape=uE,y.uniqueId=NE,y.upperCase=lE,y.upperFirst=Ml,y.each=Np,y.eachRight=Rp,y.first=kp,Kl(y,function(){var r={};return Un(y,function(i,a){tt.call(y.prototype,a)||(r[a]=i)}),r}(),{chain:!1}),y.VERSION=s,gn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(r){y[r].placeholder=y}),gn(["drop","take"],function(r,i){We.prototype[r]=function(a){a=a===n?1:bt(Be(a),0);var f=this.__filtered__&&!i?new We(this):this.clone();return f.__filtered__?f.__takeCount__=Rt(a,f.__takeCount__):f.__views__.push({size:Rt(a,ve),type:r+(f.__dir__<0?"Right":"")}),f},We.prototype[r+"Right"]=function(a){return this.reverse()[r](a).reverse()}}),gn(["filter","map","takeWhile"],function(r,i){var a=i+1,f=a==ne||a==ce;We.prototype[r]=function(p){var b=this.clone();return b.__iteratees__.push({iteratee:Oe(p,3),type:a}),b.__filtered__=b.__filtered__||f,b}}),gn(["head","last"],function(r,i){var a="take"+(i?"Right":"");We.prototype[r]=function(){return this[a](1).value()[0]}}),gn(["initial","tail"],function(r,i){var a="drop"+(i?"":"Right");We.prototype[r]=function(){return this.__filtered__?new We(this):this[a](1)}}),We.prototype.compact=function(){return this.filter(Gt)},We.prototype.find=function(r){return this.filter(r).head()},We.prototype.findLast=function(r){return this.reverse().find(r)},We.prototype.invokeMap=Ke(function(r,i){return typeof r=="function"?new We(this):this.map(function(a){return _s(a,r,i)})}),We.prototype.reject=function(r){return this.filter(fa(Oe(r)))},We.prototype.slice=function(r,i){r=Be(r);var a=this;return a.__filtered__&&(r>0||i<0)?new We(a):(r<0?a=a.takeRight(-r):r&&(a=a.drop(r)),i!==n&&(i=Be(i),a=i<0?a.dropRight(-i):a.take(i-r)),a)},We.prototype.takeRightWhile=function(r){return this.reverse().takeWhile(r).reverse()},We.prototype.toArray=function(){return this.take(ve)},Un(We.prototype,function(r,i){var a=/^(?:filter|find|map|reject)|While$/.test(i),f=/^(?:head|last)$/.test(i),p=y[f?"take"+(i=="last"?"Right":""):i],b=f||/^find/.test(i);!p||(y.prototype[i]=function(){var C=this.__wrapped__,D=f?[1]:arguments,K=C instanceof We,G=D[0],Y=K||Le(C),Z=function(qe){var Ge=p.apply(y,Ar([qe],D));return f&&he?Ge[0]:Ge};Y&&a&&typeof G=="function"&&G.length!=1&&(K=Y=!1);var he=this.__chain__,_e=!!this.__actions__.length,ke=b&&!he,Fe=K&&!_e;if(!b&&Y){C=Fe?C:new We(this);var Ce=r.apply(C,D);return Ce.__actions__.push({func:aa,args:[Z],thisArg:n}),new mn(Ce,he)}return ke&&Fe?r.apply(this,D):(Ce=this.thru(Z),ke?f?Ce.value()[0]:Ce.value():Ce)})}),gn(["pop","push","shift","sort","splice","unshift"],function(r){var i=No[r],a=/^(?:push|sort|unshift)$/.test(r)?"tap":"thru",f=/^(?:pop|shift)$/.test(r);y.prototype[r]=function(){var p=arguments;if(f&&!this.__chain__){var b=this.value();return i.apply(Le(b)?b:[],p)}return this[a](function(C){return i.apply(Le(C)?C:[],p)})}}),Un(We.prototype,function(r,i){var a=y[i];if(a){var f=a.name+"";tt.call(Ti,f)||(Ti[f]=[]),Ti[f].push({name:i,func:a})}}),Ti[ea(n,T).name]=[{name:"wrapper",func:n}],We.prototype.clone=uw,We.prototype.reverse=lw,We.prototype.value=cw,y.prototype.at=F$,y.prototype.chain=U$,y.prototype.commit=K$,y.prototype.next=z$,y.prototype.plant=q$,y.prototype.reverse=V$,y.prototype.toJSON=y.prototype.valueOf=y.prototype.value=W$,y.prototype.first=y.prototype.head,hs&&(y.prototype[hs]=j$),y},$i=K1();Yr?((Yr.exports=$i)._=$i,Uu._=$i):Pt._=$i}).call(qi)})(Gn,Gn.exports);function xy(t){let e;return t&&((e=t.toIterable)?e.call(t):t)}const Ey=Symbol.for("#__init__"),BP=Symbol.for("#__patch__"),eu=new class{[BP](e={}){var n;(n=e.SCORE_MIN)!==void 0&&(this.SCORE_MIN=n),(n=e.SCORE_MAX)!==void 0&&(this.SCORE_MAX=n),(n=e.SCORE_GAP_LEADING)!==void 0&&(this.SCORE_GAP_LEADING=n),(n=e.SCORE_GAP_TRAILING)!==void 0&&(this.SCORE_GAP_TRAILING=n),(n=e.SCORE_GAP_INNER)!==void 0&&(this.SCORE_GAP_INNER=n),(n=e.SCORE_MATCH_CONSECUTIVE)!==void 0&&(this.SCORE_MATCH_CONSECUTIVE=n),(n=e.SCORE_MATCH_SLASH)!==void 0&&(this.SCORE_MATCH_SLASH=n),(n=e.SCORE_MATCH_WORD)!==void 0&&(this.SCORE_MATCH_WORD=n),(n=e.SCORE_MATCH_CAPITAL)!==void 0&&(this.SCORE_MATCH_CAPITAL=n),(n=e.SCORE_MATCH_DOT)!==void 0&&(this.SCORE_MATCH_DOT=n),(n=e.M)!==void 0&&(this.M=n),(n=e.D)!==void 0&&(this.D=n),(n=e.B)!==void 0&&(this.B=n)}constructor(e=null){this[Ey](e)}[Ey](e=null,n=!0){var s;this.SCORE_MIN=e&&(s=e.SCORE_MIN)!==void 0?s:-1/0,this.SCORE_MAX=e&&(s=e.SCORE_MAX)!==void 0?s:1/0,this.SCORE_GAP_LEADING=e&&(s=e.SCORE_GAP_LEADING)!==void 0?s:-.005,this.SCORE_GAP_TRAILING=e&&(s=e.SCORE_GAP_TRAILING)!==void 0?s:-.005,this.SCORE_GAP_INNER=e&&(s=e.SCORE_GAP_INNER)!==void 0?s:-.01,this.SCORE_MATCH_CONSECUTIVE=e&&(s=e.SCORE_MATCH_CONSECUTIVE)!==void 0?s:1,this.SCORE_MATCH_SLASH=e&&(s=e.SCORE_MATCH_SLASH)!==void 0?s:.9,this.SCORE_MATCH_WORD=e&&(s=e.SCORE_MATCH_WORD)!==void 0?s:.8,this.SCORE_MATCH_CAPITAL=e&&(s=e.SCORE_MATCH_CAPITAL)!==void 0?s:.7,this.SCORE_MATCH_DOT=e&&(s=e.SCORE_MATCH_DOT)!==void 0?s:.6,this.M=e&&(s=e.M)!==void 0?s:new Array(1e5),this.D=e&&(s=e.D)!==void 0?s:new Array(1e5),this.B=e&&(s=e.B)!==void 0?s:new Array(1e5)}sort(e,n,s){let o=e.toLowerCase(),u;if(n.length<=0)return[];let l=[];if(s){for(let c=0,d=xy(n),h=d.length;c<h;c++){let v=d[c],m=s(v);if(typeof m!="string"||(u=m.toLowerCase(),!this.has_match(o,u)))continue;let E=this.score(e,m,o,u);l.push({haystack:m,score:E,obj:v})}return l.sort(this.cmp).map(function(c){return c.obj})}else{for(let c=0,d=xy(n),h=d.length;c<h;c++){let v=d[c];if(typeof v!="string"||(u=v.toLowerCase(),!this.has_match(o,u)))continue;let m=this.score(e,v,o,u);l.push({haystack:v,score:m})}return l.sort(this.cmp).map(function(c){return c.haystack})}}cmp(e,n){return e.score<n.score&&1||e.score>n.score&&-1||0}score(e,n,s=e.toLowerCase(),o=n.toLowerCase()){let u=e.length,l=n.length;return u<1||l<1?this.SCORE_MIN:u===l?this.SCORE_MAX:l>1024?this.SCORE_MIN:(this.compute(e,n,s,o),this.M[(u-1)*l+(l-1)])}has_match(e,n){let s=0,o=-1,u;for(;u=e[s++];)if((o=n.indexOf(u,o+1))===-1)return!1;return!0}compute(e,n,s,o){var u,l;let c=e.length,d=n.length;this.precompute_bonus(n),l=[];for(let h=c-1,v=0,m=h-v;m>0?v<=h:v>=h;m>0?v++:v--){let E=this.SCORE_MIN,I=v===c-1?this.SCORE_GAP_TRAILING:this.SCORE_GAP_INNER;u=[];for(let A=d-1,$=0,k=A-$,T;k>0?$<=A:$>=A;k>0?$++:$--){let B=v*d+$,N=(v-1)*d+($-1);u.push(s[v]===o[$]?(T=this.SCORE_MIN,v===0?T=$*this.SCORE_GAP_LEADING+this.B[$]:$>0&&(T=Math.max(this.M[N]+this.B[$],this.D[N]+this.SCORE_MATCH_CONSECUTIVE)),this.D[B]=T,this.M[B]=E=Math.max(T,E+I)):(this.D[B]=this.SCORE_MIN,this.M[B]=E=E+I))}l.push(u)}return l}precompute_bonus(e){var n;let s=e.length,o="/";n=[];for(let u=s-1,l=0,c=u-l;c>0?l<=u:l>=u;c>0?l++:l--){let d=e[l];o==="/"?this.B[l]=this.SCORE_MATCH_SLASH:o==="-"||o==="_"||o===" "?this.B[l]=this.SCORE_MATCH_WORD:o==="."?this.B[l]=this.SCORE_MATCH_DOT:this.islower(o)&&this.isupper(d)?this.B[l]=this.SCORE_MATCH_CAPITAL:this.B[l]=0,n.push(o=d)}return n}islower(e){return e.toLowerCase()===e}isupper(e){return e.toUpperCase()===e}};function MP(t){let e;return t&&((e=t.toIterable)?e.call(t):t)}function FP(t,e){return t[t.length+e]}function UP(t,e){Object.defineProperty(t,"name",{value:e,configurable:!0})}let Rs=console.log;var go;const Kr=new(go=class{async add_link(e){let n=await this.create_link_from_text(e);return n.id=F0(),await si.links.add(n),await this.reload_db(),Nt(),Rs(Gn.exports.omit(n,"icon")),n}async update_link(e,n){let s=await this.create_link_from_text(n);if(s.frequency=e.frequency,await si.links.update(e.id,s)===0)throw"Link id not found.";return await this.reload_db(),Nt(),Rs(Gn.exports.omit(e,"icon")),Rs(Gn.exports.omit(s,"icon")),s}async put_link(e){try{return await si.links.update(e.id,e),e.is_bang&&Dt.data.default_bang.id===e.id&&Dt.set_default_bang(e),await this.reload_db()}catch(n){return Qt("putting link",n)}}async delete_link(e){var n=this;async function s(){try{await si.links.delete(e.id)}catch(o){return Qt("deleting link",o)}try{return await n.reload_db()}catch(o){return Qt("reloading db after successful delete",o)}}return be.loading=!0,await s(),be.link_selection_index=Math.min(be.link_selection_index,be.sorted_links.length-1),be.loading=!1}async pin_link(e){e.is_pinned=!e.is_pinned;try{if(await si.links.update(e.id,e)===0)throw"Link id not found."}catch(n){return Qt("pinning link",n)}return await this.reload_db(),Nt()}async reload_db(){if(be.links=await si.links.toArray(),be.active_bang){let s=be.active_bang.id;be.active_bang=Gn.exports.find(be.links,{id:s})}let e=Dt.data.default_bang.id,n=Gn.exports.find(be.links,{id:e});return n&&(Dt.data.default_bang=n,Dt.save()),this.sort_links()}async increment_link_frequency(e){e.frequency+=1;try{return await this.put_link(e)}catch(n){return Qt("putting link",n)}}sort_links(){return be.query.trim().length<=0?be.sorted_links=Gn.exports.orderBy(be.links,["is_pinned","frequency"],["desc","desc"]):Dt.data.enable_effective_names?be.sorted_links=eu.sort(be.query,be.links,function(e){return e.name}):be.sorted_links=eu.sort(be.query,be.links,function(e){return e.display_name})}name_exists(e){return be.links.some(function({name:n}){return e===n})}add_initial_links(){var e;let n=["tutorial github.com/familyfriendlymikey/fuzzyhome","!brave search `b search.brave.com/search?q=","!youtube youtube.com/results?search_query=","photopea photopea.com","twitch twitch.tv","messenger `me messenger.com","instagram `in instagram.com","localhost `3000 http://localhost:3000"];e=[];for(let s=0,o=MP(n),u=o.length;s<u;s++){let l=o[s];try{e.push(this.add_link(l))}catch(c){e.push(Qt("adding link",c))}}return e}async create_link_from_text(e,n=!0){if(e=e.trim(),e==="")throw"Text is empty.";let s=e.split(/\s+/);if(s.length<2)throw"No url provided.";let o=s.pop(),u;({href:o,host:u}=this.parse_url(o));let l;FP(s,-1).startsWith("`")&&(l=s.pop().slice(1));let c=s.join(" "),d=!1,h=!1;c.startsWith("!")&&(d=!0,c=c.slice(1)),l||(l=c);let v={name:l,display_name:c,is_bang:d,is_pinned:h,url:o,frequency:0,history:[]};return n&&(v.icon=await this.fetch_image_as_base_64(u)),v}fetch_image_as_base_64(e){let n="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAH0lEQVR42mO8seXffwYqAsZRA0cNHDVw1MBRA0eqgQCDRkbJSQHxEQAAAABJRU5ErkJggg==";return new Promise(async function(s){let o;try{o=await globalThis.fetch("https://icon.horse/icon/"+e)}catch{return Rs("Failed to get icon from icon horse."),s(n)}let u=await o.blob(),l=new FileReader;return l.onload=function(){return s(this.result)},l.onerror=function(){Rs("Failed to get data from reader."),s(n)},l.readAsDataURL(u)})}toggle_effective_names(){return Dt.data.enable_effective_names=!Dt.data.enable_effective_names,Dt.save(),this.sort_links()}construct_link_text(e){e.display_name=e.display_name.trim(),e.name=e.name.trim(),e.url=e.url.trim();let n="";return e.is_bang&&(n+="!"),n+=e.display_name,e.name!==e.display_name&&(n+=" `"+e.name),n+=" "+e.url,n}parse_url(e){if(e===null)throw"invalid url";let n=function(s){let o=new URL(s);if(!(o.host&&o.href))throw _;return o};try{return n(e)}catch{}try{return n("https://"+e)}catch{}throw"invalid url"}get_pretty_date(){return Date().toString().split(" ").slice(0,4).join(" ")}get selected_link(){return be.sorted_links[be.link_selection_index]}set_link_selection_index(e){return be.link_selection_index=e}increment_link_selection_index(){return this.set_link_selection_index(Math.min(be.sorted_links.length-1,be.link_selection_index+1))}decrement_link_selection_index(){return this.set_link_selection_index(Math.max(0,be.link_selection_index-1))}async navigate(e){return await this.increment_link_frequency(e),window.location.href=e.url}get math_result(){return!1}async handle_cut(e){if(e.target.selectionStart!=e.target.selectionEnd)return;let n=this.math_result;return n||(n=be.query),await window.navigator.clipboard.writeText(n),be.query="",this.sort_links()}async handle_add_link(){be.loading=!0;try{await this.add_link(be.query),be.query="",this.sort_links()}catch(e){Qt("adding link",e)}return be.loading=!1}handle_click_link(){let e=this.selected_link;return e.is_bang?(be.query="",be.active_bang=e):this.navigate(e)}get bang(){return be.active_bang||Dt.data.default_bang}get encoded_bang_query(){return""+this.bang.url+window.encodeURIComponent(be.query)}get encoded_bang_query_nourl(){return""+window.encodeURIComponent(be.query)}async update_history(e){let n;if(be.bang_selection_index>-1&&(n=this.sorted_bang_history.splice(be.bang_selection_index,1)[0]),n||(n=be.query.trim()),!n)return;let s=e.history.indexOf(n);s>-1&&e.history.splice(s,1),e.history.unshift(n);try{return await this.put_link(e)}catch(o){return Qt("updating bang history",o)}}async delete_bang_history_item(){let e=this.sorted_bang_history[be.bang_selection_index];if(!e)return;let n=this.bang.history.indexOf(e);if(!(n<=-1)){this.bang.history.splice(n,1);try{return await this.put_link(this.bang),be.bang_selection_index=Math.min(be.bang_selection_index,this.sorted_bang_history.length-1)}catch(s){return Qt("updating bang history",s)}}}async handle_bang(){if(!be.loading){if(be.bang_selection_index>-1){be.query=this.sorted_bang_history[be.bang_selection_index],be.bang_selection_index=-1;return}return await this.increment_link_frequency(this.bang),await this.update_history(this.bang),window.location.href=this.encoded_bang_query}}unset_active_bang(){return be.active_bang=!1,this.sort_links()}increment_bang_selection_index(){return be.bang_selection_index=Math.min(this.sorted_bang_history.length-1,be.bang_selection_index+1)}decrement_bang_selection_index(){return be.bang_selection_index=Math.max(-1,be.bang_selection_index-1)}get sorted_bang_history(){return eu.sort(be.query,this.bang.history)}async delete_bang_history(){this.bang.history=[];try{await this.put_link(this.bang),be.bang_selection_index=-1}catch(e){Qt("deleting bang history",e)}return Dt.data.default_bang.history=[],Dt.save()}async delete_all_bang_history(){if(!!window.confirm("Are you sure you want to delete all bang history?")){try{await si.links.toCollection().modify(function(e){return e.history=[]}),await this.reload_db()}catch(e){Qt("deleting some link histories",e)}return Nt()}}},(()=>{UP(go,"api")})(),go);let Iu=console.log,as=new Tt("fuzzyhome");as.version(1).stores({links:"++id,name,link"});as.version(2).stores({links:"++id,name,url,frequency,img"}).upgrade(function(t){return Iu("upgrading to fuzzyhome db version 2"),t.links.toCollection().modify(function(e){let n=F0(),s=e.name,o=e.link,u=e.frequency,l=e.img;return this.value={id:n,name:s,url:o,frequency:u,img:l}})});as.version(3).stores({links:"++id,name,url,frequency,img"}).upgrade(function(t){return Iu("upgrading to fuzzyhome db version 3"),t.links.toCollection().modify(function(e){try{return e.url=Kr.parse_url(e.url).href}catch{}})});as.version(4).stores({links:"++id,display_name,name,is_bang,url,frequency,icon"}).upgrade(function(t){return Iu("upgrading to fuzzyhome db version 4"),t.links.toCollection().modify(function(e){var n;return e.display_name=e.name,e.is_bang=!1,e.icon=e.img,n=e.img,delete e.img,n})});as.version(5).stores({links:"++id,display_name,name,is_bang,is_pinned,url,frequency,history,icon"}).upgrade(function(t){return Iu("upgrading to fuzzyhome db version 5"),t.links.toCollection().modify(function(e){return e.is_pinned=!1,e.history=[]})});const si=as,KP=Object.assign({type:"svg"},{attributes:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},flags:["feather","feather-eye"],content:'<path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle>'}),zP=Object.assign({type:"svg"},{attributes:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},flags:["feather","feather-eye-off"],content:'<path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path><line x1="1" y1="1" x2="23" y2="23"></line>'}),jP=Object.assign({type:"svg"},{attributes:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},flags:["feather","feather-settings"],content:'<circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>'});function qP(t,e){Object.defineProperty(t,"name",{value:e,configurable:!0})}const VP=Symbol.for("#beforeReconcile"),oi=Symbol.for("##up"),Ls=Symbol.for("#placeChild"),Pc=Symbol.for("#afterVisit"),WP=Symbol.for("#appendChild"),HP=Symbol.for("#afterReconcile");var Ty=Symbol(),Oy=Symbol(),ky=Symbol(),Cy=Symbol(),Py=Symbol(),Iy=Symbol(),Ny=Symbol(),Ry=Symbol(),Ly=Symbol(),Dy=Symbol(),By=Symbol(),My=Symbol(),Fy=Symbol(),Uy=Symbol(),Ky=Symbol(),zy=Symbol(),jy=Symbol(),qy=Symbol(),Vy=Symbol(),Wy=Symbol(),Hy=Symbol(),Gy=Symbol(),Yy=Symbol();const Sh=class extends dn{get $home\u039Einput(){let e=me("input",null,`bd3ycv_ag ${this._ns_||""} ref--home-input`,null);return Object.defineProperty(this,"$home\u039Einput",{value:e}),e}mount(){return this.$home\u039Einput.focus()}blur(){var e=this;return setTimeout(function(){return e.$home\u039Einput.focus()},100)}handle_paste(e){var n=this;if(!!this.config.data.enable_search_on_paste&&!(this.state.query.length>0))return globalThis.setTimeout(function(){if(n.api.math_result===!1)return n.bang||(n.bang=n.config.data.default_bang),n.api.handle_bang()},0)}async handle_click_copy(e){try{return await window.navigator.clipboard.writeText(e),this.state.query="",this.api.sort_links()}catch{}}handle_input(){return this.state.bang_selection_index=-1,this.api.set_link_selection_index(0),this.api.sort_links()}render(){var e=this,n,s,o,u,l,c,d,h,v=this._ns_||"",m,E,I,A,$,k,T,B,N,w,x,R,L,P,S,g,z,M,V,ne;return c=this,c[VP](),d=h=1,c[Ty]===1||(d=h=0,c[Ty]=1),(!d||h&2)&&c.flagSelf$("bd3ycv-af"),(m=c[Oy])||(c[Oy]=m=me("div",c,`bd3ycv-ag header ${v}`,null)),I=1,(E=c[ky])||(I=0,c[ky]=E=me("div",m,`side left bd3ycv_ag ${v}`,null)),I||E.on$("click",{$_:[function(X,ce){return e.api.toggle_effective_names(X)}]},this),s=null,this.config.data.enable_effective_names?(A=1,(s=c[Cy])||(A=0,c[Cy]=s=fi("svg",null,`bd3ycv_ag ${v}`,null)),A||(s[oi]=E),A||s.set$("src",KP)):($=1,(s=c[Py])||($=0,c[Py]=s=fi("svg",null,`bd3ycv_ag ${v}`,null)),$||(s[oi]=E),$||s.set$("src",zP)),c[Iy]=E[Ls](s,0,c[Iy]),T=B=1,(k=c[Ny])||(T=B=0,c[Ny]=(k=this.$home\u039Einput,k[oi]=m,k)),T||k.set$("autofocus","autofocus"),N=c[Ry]||(c[Ry]=k.bind$("data",[null,"query"])),N[0]=this.state,w=c[Ly]||(c[Ly]={$_:[function(X,ce,J){return e.handle_input(X)},null]}),w.$_[1]=e,T||k.on$("input",w,this),w=c[Dy]||(c[Dy]={$_:[function(X,ce,J){return e.handle_paste(X)},null]}),w.$_[1]=e,T||k.on$("paste",w,this),w=c[By]||(c[By]={$_:[function(X,ce,J){return e.api.handle_cut(X)},null]}),w.$_[1]=e,T||k.on$("cut",w,this),N=this.state.loading,N===c[My]||(k.disabled=c[My]=N),w=c[Fy]||(c[Fy]={$_:[function(X,ce,J){return e.blur(X)},null]}),w.$_[1]=e,T||k.on$("blur",w,this),o=null,this.state.query.startsWith("!")&&(o="bd3ycv-al"),k.flags.toggle("bd3ycv-al",!!o),T||!k.setup||k.setup(B),k[Pc](B),T||m[WP](k),u=null,(n=this.api.math_result)!==!1?(x=1,(u=c[Uy])||(x=0,c[Uy]=u=me("div",null,`bd3ycv-am side right bd3ycv_ag ${v}`,null)),x||(u[oi]=m),R=u[Ky]||(u[Ky]={$_:[function(X,ce,J,H){return e.handle_click_copy(J)},null,null]}),R.$_[1]=n,R.$_[2]=e,x||u.on$("click",R,this),x||u[Ls]("= "),L=Math.round(n*100)/100,L===u[jy]&&x||(u[zy]=u[Ls](u[jy]=L,0,u[zy]))):(P=1,(u=c[qy])||(P=0,c[qy]=u=me("div",null,`side right bd3ycv_ag ${v}`,null)),P||(u[oi]=m),S=u[Vy]||(u[Vy]={$_:[function(X,ce,J){return e.refs.settings.open(X)},null]}),S.$_[1]=e,P||u.on$("click",S,this),P||(g=fi("svg",u,`bd3ycv_ag ${v}`,null)),P||g.set$("src",jP)),c[Wy]=m[Ls](u,0,c[Wy]),l=null,this.state.active_bang||this.state.sorted_links.length<1?(z=M=1,(l=c[Hy])||(z=M=0,c[Hy]=l=Mt("app-bang",null,`${v}`,null)),z||(l[oi]=c),z||!l.setup||l.setup(M),l[Pc](M)):(V=ne=1,(l=c[Gy])||(V=ne=0,c[Gy]=l=Mt("app-links",null,`${v}`,null)),V||(l[oi]=c),V||!l.setup||l.setup(ne),l[Pc](ne)),c[Yy]=c[Ls](l,0,c[Yy]),c[HP](h),c}};let Rf=Sh;(()=>{qP(Sh,"app-home")})();Mn("app-home",Rf,{});const GP=`!google search google.com/search?q=
!youtube search youtube.com/results?search_query=
!brave search search.brave.com/search?q=
!amazon search amazon.com/s?k=
!google site:reddit google.com/search?q=site%3Areddit.com%20
!google site:stackoverflow google.com/search?q=site%3Astackoverflow.com%20
twitch twitch.tv
instagram instagram.com
messenger messenger.com
photopea photopea.com
youtube youtube.com
localhost:3000 http://localhost:3000`.split(`
`);function Qy(t){let e;return t&&((e=t.toIterable)?e.call(t):t)}function YP(t,e){Object.defineProperty(t,"name",{value:e,configurable:!0})}const Jy=Symbol.for("#__init__"),QP=Symbol.for("#__patch__"),JP=Symbol.for("#beforeReconcile"),Xy=Symbol.for("##up"),Ua=Symbol.for("#afterVisit"),Ic=Symbol.for("#appendChild"),Zy=Symbol.for("#placeChild"),XP=Symbol.for("#getSlot"),ZP=Symbol.for("#afterReconcile");var em=Symbol(),tm=Symbol(),nm=Symbol(),rm=Symbol(),im=Symbol(),sm=Symbol(),om=Symbol(),Nc=Symbol(),am=Symbol(),um=Symbol(),lm=Symbol(),cm=Symbol(),fm=Symbol(),hm=Symbol(),dm=Symbol(),pm=Symbol();const $h=class extends dn{get $cli(){let e=me("input",null,`${this._ns_||""} ref--cli`,null);return Object.defineProperty(this,"$cli",{value:e}),e}[QP](e={}){var n;(n=e.active)!==void 0&&(this.active=n),(n=e.selection_index)!==void 0&&(this.selection_index=n),(n=e.query)!==void 0&&(this.query=n)}[Jy](e=null,n=!0){var s;super[Jy](...arguments),this.active=e&&(s=e.active)!==void 0?s:!1,this.selection_index=e&&(s=e.selection_index)!==void 0?s:0,this.query=e&&(s=e.query)!==void 0?s:""}get render\u03A6(){return this.mounted\u03A6}async mount(){return this.$cli.focus(),this.links=await this.get_links(),this.render()}async get_links(){let e=[];for(let n=0,s=Qy(GP),o=s.length;n<o;n++){let u=s[n],l=await Kr.create_link_from_text(u,!1);l.link_text=u,e.push(l)}return e}get filtered_links(){return this.links.filter(function(e){return!Kr.name_exists(e.name)})}get sorted_links(){return eu.sort(this.query,this.filtered_links,function(e){return e.name})}get selected_link(){return this.sorted_links[this.selection_index]}open(){return this.active=!0}close(){return this.active=!1}increment_selection_index(){return this.selection_index=Math.min(this.links.length-1,this.selection_index+1)}decrement_selection_index(){return this.selection_index=Math.max(0,this.selection_index-1)}async add_community_link(){if(!this.state.loading){this.state.loading=!0;try{await Kr.add_link(this.selected_link.link_text)}catch(e){this.err("adding link",e)}return this.state.loading=!1}}get tips(){let e=[],n;return n={click_handler:this.close.bind(this),hotkey_handler:this.close.bind(this),hotkey:"esc",hotkey_display_name:"Esc",content:"Exit Community Links"},e.push(n),n={click_handler:this.add_community_link.bind(this),hotkey_handler:this.add_community_link.bind(this),hotkey:"shift+return",hotkey_display_name:"Shift + Return Or Click",content:"Add To Your Links"},e.push(n),n={click_handler:this.increment_selection_index.bind(this),hotkey_handler:this.increment_selection_index.bind(this),hotkey:"down",hotkey_display_name:"Down Arrow",content:"Move Selection Down"},e.push(n),n={click_handler:this.decrement_selection_index.bind(this),hotkey_handler:this.decrement_selection_index.bind(this),hotkey:"up",hotkey_display_name:"Up Arrow",content:"Move Selection Up"},e.push(n),e}render(){var e=this,n,s,o,u,l=this._ns_||"",c,d,h,v,m,E,I,A,$,k,T,B,N,w,x,R,L,P,S,g,z,M,V,ne;s=this,s[JP](),o=u=1,s[em]===1||(o=u=0,s[em]=1),(!o||u&2)&&s.flagSelf$("nnq4fv-af"),o||(c=me("div",s,`${l}`,null)),h=v=1,(d=s[tm])||(h=v=0,s[tm]=(d=this.$cli,d[Xy]=c,d)),h||d.set$("autofocus","autofocus"),s[nm]||(s[nm]=d.bind$("data",[this,"query"])),h||!d.setup||d.setup(v),d[Ua](v),h||c[Ic](d),E=I=1,(m=s[rm])||(E=I=0,s[rm]=m=Mt("app-tips",s,`${l}`,null)),A=this.tips,A===s[im]||(m.tips=s[im]=A),E||!m.setup||m.setup(I),m[Ua](I),E||s[Ic](m),($=s[sm])||(s[sm]=$=me("div",s,`nnq4fv-aj links ${l}`,null)),(k=s[om])||(s[om]=k=Gi(256,$)),T=0,B=k.$;for(let X=0,ce=Qy(this.sorted_links),J=ce.length;X<J;X++){let H=ce[X];w=x=1,(N=B[T])||(w=x=0,B[T]=N=me("div",k,`nnq4fv-ak link ${l}`,null)),w||(N[Xy]=k),R=this.selection_index==X||void 0,R===N[Nc]||(x|=2,N[Nc]=R),L=N[am]||(N[am]={$_:[function(ee,ae,ve){return e.selection_index=ve},null]}),L.$_[1]=X,w||N.on$("pointerover",L,this),L=N[um]||(N[um]={$_:[function(ee,ae,ve){return e.add_community_link(ee)},null]}),L.$_[1]=e,w||N.on$("click",L,this),x&2&&N.flag$(`nnq4fv-ak link ${l} `+(N[Nc]?"selected":"")),n=null,H.is_bang&&(n="nnq4fv-al"),N.flags.toggle("nnq4fv-al",!!n),(P=N[lm])||(N[lm]=P=me("div",N,`nnq4fv-am link-left ${l}`,null)),S=H.name,S===N[fm]&&w||(N[cm]=P[Zy](N[fm]=S,128,N[cm])),z=M=1,(g=N[hm])||(z=M=0,N[hm]=g=Mt("link-right",N,`nnq4fv-an ellipsis ${l}`,null)),V=g[XP]("__",N),ne=H.url,ne===N[pm]&&z||(N[dm]=V[Zy](N[pm]=ne,128,N[dm])),z||!g.setup||g.setup(M),g[Ua](M),z||N[Ic](g),T++}return k[Ua](T),s[ZP](u),s}};let Lf=$h;(()=>{YP($h,"app-community-links")})();Mn("app-community-links",Lf,{});var $A={exports:{}};(function(t,e){(function(n,s){t.exports=s()})(qi,function(){return function n(s,o,u){var l=window,c="application/octet-stream",d=u||c,h=s,v=!o&&!u&&h,m=document.createElement("a"),E=function(L){return String(L)},I=l.Blob||l.MozBlob||l.WebKitBlob||E,A=o||"download",$,k;if(I=I.call?I.bind(l):Blob,String(this)==="true"&&(h=[h,d],d=h[0],h=h[1]),v&&v.length<2048&&(A=v.split("/").pop().split("?")[0],m.href=v,m.href.indexOf(v)!==-1)){var T=new XMLHttpRequest;return T.open("GET",v,!0),T.responseType="blob",T.onload=function(L){n(L.target.response,A,c)},setTimeout(function(){T.send()},0),T}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(h))if(h.length>1024*1024*1.999&&I!==E)h=x(h),d=h.type||c;else return navigator.msSaveBlob?navigator.msSaveBlob(x(h),A):R(h);else if(/([\x80-\xff])/.test(h)){var B=0,N=new Uint8Array(h.length),w=N.length;for(B;B<w;++B)N[B]=h.charCodeAt(B);h=new I([N],{type:d})}$=h instanceof I?h:new I([h],{type:d});function x(L){var P=L.split(/[:;,]/),S=P[1],g=P[2]=="base64"?atob:decodeURIComponent,z=g(P.pop()),M=z.length,V=0,ne=new Uint8Array(M);for(V;V<M;++V)ne[V]=z.charCodeAt(V);return new I([ne],{type:S})}function R(L,P){if("download"in m)return m.href=L,m.setAttribute("download",A),m.className="download-js-link",m.innerHTML="downloading...",m.style.display="none",document.body.appendChild(m),setTimeout(function(){m.click(),document.body.removeChild(m),P===!0&&setTimeout(function(){l.URL.revokeObjectURL(m.href)},250)},66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(L)&&(L="data:"+L.replace(/^data:([\w\/\-\+]+)/,c)),window.open(L)||confirm(`Displaying New Document

Use Save As... to download, then click back to return to this page.`)&&(location.href=L),!0;var S=document.createElement("iframe");document.body.appendChild(S),!P&&/^data:/.test(L)&&(L="data:"+L.replace(/^data:([\w\/\-\+]+)/,c)),S.src=L,setTimeout(function(){document.body.removeChild(S)},333)}if(navigator.msSaveBlob)return navigator.msSaveBlob($,A);if(l.URL)R(l.URL.createObjectURL($),!0);else{if(typeof $=="string"||$.constructor===E)try{return R("data:"+d+";base64,"+l.btoa($))}catch{return R("data:"+d+","+encodeURIComponent($))}k=new FileReader,k.onload=function(L){R(this.result)},k.readAsDataURL($)}return!0}})})($A);const eI=$A.exports;function tI(t){let e;return t&&((e=t.toIterable)?e.call(t):t)}function nI(t,e){Object.defineProperty(t,"name",{value:e,configurable:!0})}const vm=Symbol.for("#__init__"),rI=Symbol.for("#__patch__"),iI=Symbol.for("#beforeReconcile"),Ir=Symbol.for("##up"),sI=Symbol.for("#afterVisit"),un=Symbol.for("#placeChild"),oI=Symbol.for("#afterReconcile");var gm=Symbol(),ym=Symbol(),mm=Symbol(),_m=Symbol(),bm=Symbol(),Am=Symbol(),wm=Symbol(),Sm=Symbol(),$m=Symbol(),xm=Symbol(),Em=Symbol(),Tm=Symbol(),Om=Symbol(),km=Symbol(),Cm=Symbol(),Pm=Symbol(),Im=Symbol(),Nm=Symbol(),Rm=Symbol(),Lm=Symbol(),Dm=Symbol(),Bm=Symbol(),Mm=Symbol(),Fm=Symbol(),Um=Symbol(),Km=Symbol(),zm=Symbol(),jm=Symbol(),qm=Symbol(),Vm=Symbol(),Wm=Symbol(),Hm=Symbol(),Gm=Symbol(),Ym=Symbol(),Qm=Symbol(),Jm=Symbol(),Xm=Symbol(),Zm=Symbol(),e_=Symbol(),t_=Symbol(),n_=Symbol(),r_=Symbol(),i_=Symbol(),s_=Symbol(),o_=Symbol(),a_=Symbol(),u_=Symbol();const xh=class extends dn{[rI](e={}){var n;(n=e.active)!==void 0&&(this.active=n)}[vm](e=null,n=!0){var s;super[vm](...arguments),this.active=e&&(s=e.active)!==void 0?s:!1}close(){return this.active=!1}open(){return this.active=!0}handle_click_github(){return globalThis.location.href="https://github.com/familyfriendlymikey/fuzzyhome"}handle_click_toggle_tips(){return this.config.data.enable_tips=!this.config.data.enable_tips,this.config.save(),this.active=!1}handle_click_toggle_buttons(){return this.config.data.enable_buttons=!this.config.data.enable_buttons,this.config.save(),this.active=!1}handle_click_toggle_search_on_paste(){return this.config.data.enable_search_on_paste=!this.config.data.enable_search_on_paste,this.config.save(),this.active=!1}handle_toggle_light_theme(){return this.config.data.enable_light_theme=!this.config.data.enable_light_theme,this.config.save(),this.active=!1}async handle_import(e){var n=this;async function s(){let o=[];try{var u=(await e.target.files[0].text()).split(`
`)}catch(l){return n.err("importing db",l)}for(let l=0,c=tI(u),d=c.length;l<d;l++){let h=c[l];try{let v=await n.api.create_link_from_text(h);if(n.api.name_exists(v.name))throw"Name already exists, add manually if you don't mind duplicates.";n.api.add_link(h)}catch(v){o.push(""+h+`
`+v)}}if(o.length>0)return n.err("importing some links",o.join(`

`))}return this.state.loading=!0,await s(),this.active=!1,this.state.loading=!1,this.close()}async handle_click_export(){var e=this;this.state.loading=!0,await this.api.reload_db();let n=this.state.links.map(function(c){return e.api.construct_link_text(c)}),s=new Date().toString().split(" "),o=s.slice(1,4).join("-").toLowerCase(),u=s[4].split(":").join("-"),l="fuzzyhome_v"+this.version+"_"+o+"_"+u+".txt";return eI(n.join(`
`),l,"text/plain"),this.active=!1,this.state.loading=!1}render(){var e=this,n,s,o,u,l,c,d,h,v,m,E,I,A,$=this._ns_||"",k,T,B,N,w,x,R,L,P,S,g,z,M,V,ne,X,ce,J,H,ee,ae,ve,ue,Ue,Ae,ze,Me,Qe,U,O,q,fe,Q,te,se,le,De,re,de,ie,we,Se,oe,He,Xe;return E=this,E[iI](),I=A=1,E[gm]===1||(I=A=0,E[gm]=1),(!I||A&2)&&E.flagSelf$("z1wp2rid-af"),u=l=c=d=h=v=m=null,this.refs.community\u039Elinks.active?(k=T=1,(u=E[ym])||(k=T=0,E[ym]=u=Mt("app-community-links",null,`z1wp2rid_af ${$}`,null)),k||(u[Ir]=E),k||!u.setup||u.setup(T),u[sI](T)):(B=1,(u=E[mm])||(B=0,E[mm]=u=me("div",null,`settings-container z1wp2rid_af ${$}`,null)),B||(u[Ir]=E),w=1,(N=u[_m])||(w=0,u[_m]=N=me("div",u,`settings-button z1wp2rid_af ${$}`,"BACK")),w||N.on$("click",{$_:[function(Ne,je){return e.close(Ne)}]},this),x=u[bm]||(u[bm]={options:["esc"],$_:[function(Ne,je,$e){return e.close(Ne)},null]}),x.$_[1]=e,w||N.on$("hotkey",x,this),x=u[Am]||(u[Am]={options:["shift+tab"],$_:[function(Ne,je,$e){return e.close(Ne)},null]}),x.$_[1]=e,w||N.on$("hotkey",x,this),R=1,(l=E[wm])||(R=0,E[wm]=l=me("div",null,`settings-container z1wp2rid_af ${$}`,null)),R||(l[Ir]=E),P=1,(L=l[Sm])||(P=0,l[Sm]=L=me("div",l,`settings-button z1wp2rid_af ${$}`,"VIEW COMMUNITY LINKS")),S=l[$m]||(l[$m]={$_:[function(Ne,je,$e){return e.refs.community\u039Elinks.open()&&e.close()},null]}),S.$_[1]=e,P||L.on$("click",S,this),g=1,(c=E[xm])||(g=0,E[xm]=c=me("div",null,`settings-container z1wp2rid_af ${$}`,null)),g||(c[Ir]=E),(z=c[Em])||(c[Em]=z=me("label",c,`settings-button z1wp2rid_af ${$}`,null)),g||z[un]("IMPORT"),V=1,(M=c[Tm])||(V=0,c[Tm]=M=me("input",z,`z1wp2rid-an z1wp2rid_af ${$}`,null)),ne=this.state.loading,ne===c[Om]||(M.disabled=c[Om]=ne),X=c[km]||(c[km]={$_:[function(Ne,je,$e){return e.handle_import(Ne)},null]}),X.$_[1]=e,V||M.on$("change",X,this),V||M.on$("click",{$_:[function(Ne,je){return this.value=""}]},this),V||(M.type="file"),J=1,(ce=c[Cm])||(J=0,c[Cm]=ce=me("div",c,`settings-button z1wp2rid_af ${$}`,"EXPORT")),H=c[Pm]||(c[Pm]={$_:[function(Ne,je,$e){return e.handle_click_export(Ne)},null]}),H.$_[1]=e,J||ce.on$("click",H,this),ee=1,(d=E[Im])||(ee=0,E[Im]=d=me("div",null,`settings-container z1wp2rid_af ${$}`,null)),ee||(d[Ir]=E),ve=1,(ae=d[Nm])||(ve=0,d[Nm]=ae=me("div",d,`settings-button z1wp2rid_af ${$}`,"TUTORIAL")),ue=d[Rm]||(d[Rm]={$_:[function(Ne,je,$e){return e.handle_click_github(Ne)},null]}),ue.$_[1]=e,ve||ae.on$("click",ue,this),Ae=1,(Ue=d[Lm])||(Ae=0,d[Lm]=Ue=me("div",d,`settings-button z1wp2rid_af ${$}`,"GITHUB")),ze=d[Dm]||(d[Dm]={$_:[function(Ne,je,$e){return e.handle_click_github(Ne)},null]}),ze.$_[1]=e,Ae||Ue.on$("click",ze,this),Me=1,(h=E[Bm])||(Me=0,E[Bm]=h=me("div",null,`settings-container z1wp2rid_af ${$}`,null)),Me||(h[Ir]=E),U=1,(Qe=h[Mm])||(U=0,h[Mm]=Qe=me("div",h,`settings-button z1wp2rid_af ${$}`,null)),O=h[Fm]||(h[Fm]={$_:[function(Ne,je,$e){return e.handle_click_toggle_tips(Ne)},null]}),O.$_[1]=e,U||Qe.on$("click",O,this),n=null,this.config.data.enable_tips?n="DISABLE TIPS":n="ENABLE TIPS",h[Um]=Qe[un](n,0,h[Um]),fe=1,(q=h[Km])||(fe=0,h[Km]=q=me("div",h,`settings-button z1wp2rid_af ${$}`,null)),Q=h[zm]||(h[zm]={$_:[function(Ne,je,$e){return e.handle_click_toggle_buttons(Ne)},null]}),Q.$_[1]=e,fe||q.on$("click",Q,this),s=null,this.config.data.enable_buttons?s="DISABLE BUTTONS":s="ENABLE BUTTONS",h[jm]=q[un](s,0,h[jm]),te=1,(v=E[qm])||(te=0,E[qm]=v=me("div",null,`settings-container z1wp2rid_af ${$}`,null)),te||(v[Ir]=E),le=1,(se=v[Vm])||(le=0,v[Vm]=se=me("div",v,`settings-button z1wp2rid_af ${$}`,null)),De=v[Wm]||(v[Wm]={$_:[function(Ne,je,$e){return e.handle_click_toggle_search_on_paste(Ne)},null]}),De.$_[1]=e,le||se.on$("click",De,this),o=null,this.config.data.enable_search_on_paste?o="DISABLE SEARCH ON PASTE":o="ENABLE SEARCH ON PASTE",v[Hm]=se[un](o,0,v[Hm]),de=1,(re=v[Gm])||(de=0,v[Gm]=re=me("div",v,`settings-button z1wp2rid_af ${$}`,null)),ie=v[Ym]||(v[Ym]={$_:[function(Ne,je,$e){return e.config.cycle_theme(Ne)},null]}),ie.$_[1]=e,de||re.on$("click",ie,this),de||re[un]("THEME: "),fn.context=v[Jm]||(v[Jm]={_:re}),we=this.config.data.theme.toUpperCase(),fn.context=null,we===v[Xm]&&de||(v[Qm]=re[un](v[Xm]=we,256,v[Qm])),Se=1,(m=E[Zm])||(Se=0,E[Zm]=m=me("div",null,`settings-container z1wp2rid_af ${$}`,null)),Se||(m[Ir]=E),He=1,(oe=m[e_])||(He=0,m[e_]=oe=me("div",m,`settings-button z1wp2rid_af ${$}`,"DELETE ALL BANG HISTORY")),Xe=m[t_]||(m[t_]={$_:[function(Ne,je,$e){return e.api.delete_all_bang_history()&&e.close()},null]}),Xe.$_[1]=e,He||oe.on$("click",Xe,this)),E[n_]=E[un](u,0,E[n_]),E[r_]=E[un](l,0,E[r_]),E[i_]=E[un](c,0,E[i_]),E[s_]=E[un](d,0,E[s_]),E[o_]=E[un](h,0,E[o_]),E[a_]=E[un](v,0,E[a_]),E[u_]=E[un](m,0,E[u_]),E[oI](A),E}};let Df=xh;(()=>{nI(xh,"app-settings")})();Mn("app-settings",Df,{});function aI(t,e){Object.defineProperty(t,"name",{value:e,configurable:!0})}const Eh=class extends dn{async get_input(e){var n=this;this.data=Gn.exports.cloneDeep(e),this.active=!0;let s=await new Promise(function(o){return n.addEventListener("end",function(u){return n.removeEventListener("end",this),o(u.detail)})});return this.active=!1,s}end(){return this.emit("end",this.data)}};let Bf=Eh;(()=>{aI(Eh,"app-prompt")})();Mn("app-prompt",Bf,{});function uI(t,e){Object.defineProperty(t,"name",{value:e,configurable:!0})}const l_=Symbol.for("#__init__"),lI=Symbol.for("#__patch__"),cI=Symbol.for("#beforeReconcile"),fI=Symbol.for("##up"),c_=Symbol.for("#afterVisit"),f_=Symbol.for("#appendChild"),hI=Symbol.for("#afterReconcile");var h_=Symbol(),d_=Symbol(),p_=Symbol(),v_=Symbol(),g_=Symbol();const Th=class extends dn{get $dn(){let e=me("input",null,`${this._ns_||""} ref--dn`,null);return Object.defineProperty(this,"$dn",{value:e}),e}[lI](e={}){var n;(n=e.active)!==void 0&&(this.active=n)}[l_](e=null,n=!0){var s;super[l_](...arguments),this.active=e&&(s=e.active)!==void 0?s:!1}mount(){return this.$dn.setSelectionRange(0,0),this.$dn.focus()}open(e){return this.link=e,this.new_link_text=this.value=this.api.construct_link_text(this.link),this.active=!0}close(){return this.active=!1}handle_click_set_default_bang(){return this.config.set_default_bang(this.link),this.close()}async handle_delete(){try{return await this.api.delete_link(this.link),this.close()}catch(e){return this.err("deleting link",e)}}save(){try{return this.api.update_link(this.link,this.new_link_text),this.close()}catch(e){return this.err("saving link",e)}}get tips(){let e=[],n;return n={click_handler:this.handle_delete.bind(this),hotkey_handler:this.handle_delete.bind(this),hotkey:"shift+backspace",hotkey_display_name:"Shift + Backspace",content:"Delete Link"},e.push(n),n={click_handler:this.save.bind(this),hotkey_handler:this.save.bind(this),hotkey:"return",hotkey_display_name:"Return",content:"Update Link"},e.push(n),this.link.is_bang&&(n={click_handler:this.handle_click_set_default_bang.bind(this),hotkey_display_name:"Click",content:"Set Default Bang"},e.push(n)),n={click_handler:this.close.bind(this),hotkey_handler:this.close.bind(this),hotkey:"esc",hotkey_display_name:"Esc",content:"Cancel"},e.push(n),e}render(){var e,n,s,o=this._ns_||"",u,l,c,d,h,v,m,E;return e=this,e[cI](),n=s=1,e[h_]===1||(n=s=0,e[h_]=1),(!n||s&2)&&e.flagSelf$("uhwgwi-af"),n||(u=me("div",e,`${o}`,null)),c=d=1,(l=e[d_])||(c=d=0,e[d_]=(l=this.$dn,l[fI]=u,l)),c||l.set$("autofocus","autofocus"),e[p_]||(e[p_]=l.bind$("data",[this,"new_link_text"])),c||!l.setup||l.setup(d),l[c_](d),c||u[f_](l),v=m=1,(h=e[v_])||(v=m=0,e[v_]=h=Mt("app-tips",e,`${o}`,null)),E=this.tips,E===e[g_]||(h.tips=e[g_]=E),v||!h.setup||h.setup(m),h[c_](m),v||e[f_](h),e[hI](s),e}};let Mf=Th;(()=>{uI(Th,"app-edit")})();Mn("app-edit",Mf,{});function dI(t){let e;return t&&((e=t.toIterable)?e.call(t):t)}function pI(t,e){Object.defineProperty(t,"name",{value:e,configurable:!0})}const vI=Symbol.for("#beforeReconcile"),y_=Symbol.for("##up"),Rc=Symbol.for("#afterVisit"),gI=Symbol.for("#appendChild"),yI=Symbol.for("#afterReconcile");var m_=Symbol(),__=Symbol(),b_=Symbol(),A_=Symbol(),w_=Symbol(),S_=Symbol(),$_=Symbol(),x_=Symbol();const Oh=class extends dn{get $tips(){let e=Mt("app-tips",null,`${this._ns_||""} ref--tips`,null);return Object.defineProperty(this,"$tips",{value:e}),e}handle_edit(){if(!(this.state.sorted_links.length<=0))return this.refs.edit.open(this.api.selected_link)}get tips(){var e=this;let n=[],s;return s={click_handler:this.api.handle_click_link.bind(this.api),hotkey_handler:this.api.handle_click_link.bind(this.api),hotkey:"return",hotkey_display_name:"Return"},s.content=this.api.selected_link.is_bang?"Use Bang":"Navigate To Link",n.push(s),s={click_handler:this.api.handle_add_link.bind(this.api),hotkey_handler:this.api.handle_add_link.bind(this.api),hotkey:"shift+return",hotkey_display_name:"Shift + Return",content:'Create Link "'+this.state.query.trim()+'"'},n.push(s),s={click_handler:this.handle_edit.bind(this),hotkey_handler:this.handle_edit.bind(this),hotkey:"shift+backspace",hotkey_display_name:"Shift + Backspace",content:"Edit Link"},n.push(s),s={click_handler:this.api.toggle_effective_names.bind(this.api),hotkey_handler:this.api.toggle_effective_names.bind(this.api),hotkey:"tab",hotkey_display_name:"Tab",content:"Toggle Effective Names"},n.push(s),s={click_handler:function(){return e.refs.settings.open()}.bind(this),hotkey_handler:function(){return e.refs.settings.open()}.bind(this),hotkey:"shift+tab",hotkey_display_name:"Shift + Tab",content:"Toggle Settings"},n.push(s),s={click_handler:this.api.handle_cut.bind(this.api)},this.api.math_result?(s.hotkey_display_name="Cut (If No Selection)",s.content="Cut All Text"):(s.hotkey_display_name="Cut (Math, If No Selection)",s.content="Cut Math Result"),n.push(s),s={click_handler:this.api.increment_link_selection_index.bind(this.api),hotkey_handler:this.api.increment_link_selection_index.bind(this.api),hotkey:"down",hotkey_display_name:"Down Arrow",content:"Move Selection Down"},n.push(s),s={click_handler:this.api.decrement_link_selection_index.bind(this.api),hotkey_handler:this.api.decrement_link_selection_index.bind(this.api),hotkey:"up",hotkey_display_name:"Up Arrow",content:"Move Selection Up"},n.push(s),s={hotkey_display_name:"Paste (If Input Empty)",content:"Instant Search"},n.push(s),n}render(){var e,n,s,o,u,l,c,d=this._ns_||"",h,v,m,E,I,A,$,k;e=this,e[vI](),n=s=1,e[m_]===1||(n=s=0,e[m_]=1),(!n||s&2)&&e.flagSelf$("w01rj3-af"),u=l=1,(o=e[__])||(u=l=0,e[__]=(o=this.$tips,o[y_]=e,o)),c=this.tips,c===e[b_]||(o.tips=e[b_]=c),u||!o.setup||o.setup(l),o[Rc](l),u||e[gI](o),(h=e[A_])||(e[A_]=h=me("div",e,`w01rj3-ah links ${d}`,null)),(v=e[w_])||(e[w_]=v=Gi(256,h)),m=0,E=v.$;for(let T=0,B=dI(this.state.sorted_links),N=B.length;T<N;T++){let w=B[T];A=$=1,(I=E[m])||(A=$=0,E[m]=I=Mt("app-link",v,`${d}`,null)),A||(I[y_]=v),w===I[S_]||(I.link=I[S_]=w),T===I[$_]||(I.index=I[$_]=T),k=this.handle_edit,k===I[x_]||(I.handle_edit=I[x_]=k),A||!I.setup||I.setup($),I[Rc]($),m++}return v[Rc](m),e[yI](s),e}};let Ff=Oh;(()=>{pI(Oh,"app-links")})();Mn("app-links",Ff,{});const mI=Object.assign({type:"svg"},{attributes:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},flags:["feather","feather-edit-2"],content:'<path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path>'}),_I=Object.assign({type:"svg"},{attributes:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},flags:["feather","feather-trash"],content:'<polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>'}),bI=Object.assign({type:"svg"},{attributes:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},flags:["feather","feather-star"],content:'<polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>'});function AI(t,e){Object.defineProperty(t,"name",{value:e,configurable:!0})}const wI=Symbol.for("#beforeReconcile"),Ka=Symbol.for("#placeChild"),SI=Symbol.for("##up"),$I=Symbol.for("#afterReconcile");var E_=Symbol(),T_=Symbol(),O_=Symbol(),Lc=Symbol(),k_=Symbol(),C_=Symbol(),P_=Symbol(),I_=Symbol(),N_=Symbol(),R_=Symbol(),L_=Symbol(),D_=Symbol(),B_=Symbol(),M_=Symbol(),F_=Symbol(),U_=Symbol(),K_=Symbol(),Dc=Symbol(),z_=Symbol(),j_=Symbol(),q_=Symbol(),V_=Symbol(),W_=Symbol(),H_=Symbol(),G_=Symbol(),Y_=Symbol(),Q_=Symbol();const kh=class extends dn{handle_delete(e){if(!!window.confirm("Do you really want to delete "+(e==null?void 0:e.display_name)+"?"))return this.api.delete_link(e)}handle_pin(e){return this.api.pin_link(e)}render(){var e=this,n,s,o,u,l,c,d,h,v,m=this._ns_||"",E,I,A,$,k,T,B,N,w,x,R,L,P,S,g,z,M,V,ne,X,ce,J,H,ee,ae,ve;return l=this,l[wI](),c=d=1,l[E_]===1||(c=d=0,l[E_]=1),h=l[T_]||(l[T_]={$_:[function(ue,Ue,Ae){return e.api.set_link_selection_index(e.index)},null]}),h.$_[1]=e,c||l.on$("pointerover",h,this),h=l[O_]||(l[O_]={$_:[function(ue,Ue,Ae){return e.api.handle_click_link(ue)},null]}),h.$_[1]=e,c||l.on$("click",h,this),v=this.index===this.state.link_selection_index||void 0,v===l[Lc]||(d|=2,l[Lc]=v),(!c||d&2)&&l.flagSelf$("vhg95e-af "+(l[Lc]?"selected":"")),n=null,this.link.is_bang&&(n="vhg95e-ag"),l.flags.toggle("vhg95e-ag",!!n),(E=l[k_])||(l[k_]=E=me("div",l,`vhg95e-ah link-left ${m}`,null)),(I=l[C_])||(l[C_]=I=me("img",E,`vhg95e-ai link-icon ${m}`,null)),A=this.link.icon,A===l[P_]||(I.src=l[P_]=A),($=l[I_])||(l[I_]=$=me("div",E,`vhg95e-aj display-name ${m}`,null)),k=this.link.display_name,k===l[R_]&&c||(l[N_]=$[Ka](l[R_]=k,128,l[N_])),s=null,this.link.display_name!==this.link.name&&this.config.data.enable_effective_names&&(T=1,(s=l[L_])||(T=0,l[L_]=s=me("div",null,`vhg95e-ak name ${m}`,null)),T||(s[SI]=E),T||me("span",s,`parens vhg95e_ak ${m}`,"("),(B=s[D_])||(s[D_]=B=me("span",s,`vhg95e_ak ${m}`,null)),N=this.link.name,N===s[M_]&&T||(s[B_]=B[Ka](s[M_]=N,384,s[B_])),T||me("span",s,`parens vhg95e_ak ${m}`,")")),l[F_]=E[Ka](s,0,l[F_]),(w=l[U_])||(l[U_]=w=me("div",l,`vhg95e-ao link-right ${m}`,null)),R=1,(x=l[K_])||(R=0,l[K_]=x=me("div",w,`vhg95e-ap link-buttons vhg95e_ao ${m}`,null)),L=!this.config.data.enable_buttons||void 0,L===l[Dc]||(R|=2,l[Dc]=L),R&2&&x.flag$(`vhg95e-ap link-buttons vhg95e_ao ${m} `+(l[Dc]?"buttons-disabled":"")),o=null,this.index===this.state.link_selection_index&&(o="vhg95e-aq"),x.flags.toggle("vhg95e-aq",!!o),S=1,(P=l[z_])||(S=0,l[z_]=P=me("div",x,`link-button vhg95e_ap vhg95e_ao ${m}`,null)),g=l[j_]||(l[j_]={prevent:!0,stop:!0,$_:[function(ue,Ue,Ae){return e.handle_edit(ue)},null]}),g.$_[1]=e,S||P.on$("click",g,this),S||(z=fi("svg",P,`vhg95e_ap vhg95e_ao ${m}`,null)),S||z.set$("src",mI),V=1,(M=l[q_])||(V=0,l[q_]=M=me("div",x,`link-button vhg95e_ap vhg95e_ao ${m}`,null)),ne=l[V_]||(l[V_]={prevent:!0,stop:!0,$_:[function(ue,Ue,Ae){return e.handle_delete(e.link)},null]}),ne.$_[1]=e,V||M.on$("click",ne,this),V||(X=fi("svg",M,`vhg95e_ap vhg95e_ao ${m}`,null)),V||X.set$("src",_I),J=1,(ce=l[W_])||(J=0,l[W_]=ce=me("div",x,`link-button vhg95e_ap vhg95e_ao ${m}`,null)),H=l[H_]||(l[H_]={prevent:!0,stop:!0,$_:[function(ue,Ue,Ae){return e.handle_pin(e.link)},null]}),H.$_[1]=e,J||ce.on$("click",H,this),u=null,this.link.is_pinned&&(u="vhg95e-aw"),ce.flags.toggle("vhg95e-aw",!!u),J||(ee=fi("svg",ce,`vhg95e_ap vhg95e_ao ${m}`,null)),J||ee.set$("src",bI),(ae=l[G_])||(l[G_]=ae=me("div",w,`vhg95e-ay frequency vhg95e_ao ${m}`,null)),ve=this.link.frequency,ve===l[Q_]&&c||(l[Y_]=ae[Ka](l[Q_]=ve,128,l[Y_])),l[$I](d),l}};let Uf=kh;(()=>{AI(kh,"app-link")})();Mn("app-link",Uf,{});function xI(t){let e;return t&&((e=t.toIterable)?e.call(t):t)}function EI(t,e){Object.defineProperty(t,"name",{value:e,configurable:!0})}const TI=Symbol.for("#beforeReconcile"),za=Symbol.for("##up"),J_=Symbol.for("#afterVisit"),OI=Symbol.for("#appendChild"),zi=Symbol.for("#placeChild"),kI=Symbol.for("#afterReconcile");var X_=Symbol(),Z_=Symbol(),eb=Symbol(),tb=Symbol(),nb=Symbol(),rb=Symbol(),ib=Symbol(),Bc=Symbol(),Mc=Symbol(),sb=Symbol(),ob=Symbol(),ab=Symbol(),ub=Symbol(),lb=Symbol(),cb=Symbol(),fb=Symbol(),hb=Symbol(),db=Symbol(),pb=Symbol(),vb=Symbol(),gb=Symbol(),yb=Symbol(),mb=Symbol(),_b=Symbol(),bb=Symbol(),Fc=Symbol(),Uc=Symbol(),Ab=Symbol(),wb=Symbol(),Sb=Symbol(),$b=Symbol();const Ch=class extends dn{get $tips(){let e=Mt("app-tips",null,`${this._ns_||""} ref--tips`,null);return Object.defineProperty(this,"$tips",{value:e}),e}unmount(){return this.state.bang_selection_index=-1}get tips(){var e=this;let n=[],s;s={click_handler:this.api.handle_bang.bind(this.api),hotkey_handler:this.api.handle_bang.bind(this.api),hotkey:"return",hotkey_display_name:"Return"},this.state.bang_selection_index>-1?s.content="Use History Item":s.content="Search",n.push(s),s={click_handler:this.api.handle_add_link.bind(this.api),hotkey_handler:this.api.handle_add_link.bind(this.api),hotkey:"shift+return",hotkey_display_name:"Shift + Return",content:'Create Link "'+this.state.query.trim()+'"'},n.push(s),this.state.bang_selection_index>-1&&(s={click_handler:this.api.delete_bang_history_item.bind(this.api),hotkey_handler:this.api.delete_bang_history_item.bind(this.api),hotkey:"shift+backspace",hotkey_display_name:"Shift + Backspace",content:"Delete History Item"},n.push(s)),this.state.active_bang&&(s={click_handler:this.api.unset_active_bang.bind(this.api),hotkey_handler:this.api.unset_active_bang.bind(this.api),hotkey:"esc",hotkey_display_name:"Esc",content:"Back"},n.push(s));function o(){return e.api.delete_bang_history(),e.$tips.show_more=!1}return s={click_handler:o,hotkey_display_name:"Click",content:"Delete Bang History"},n.push(s),s={click_handler:this.api.handle_cut.bind(this.api)},this.api.math_result?(s.hotkey_display_name="Cut (If No Selection)",s.content="Cut All Text"):(s.hotkey_display_name="Cut (Math, If No Selection)",s.content="Cut Math Result"),n.push(s),s={hotkey_display_name:"Paste (If Input Empty)",content:"Instant Search"},n.push(s),n}render(){var e=this,n,s,o,u,l,c,d,h,v,m,E=this._ns_||"",I,A,$,k,T,B,N,w,x,R,L,P,S,g,z,M,V,ne,X,ce,J;if(o=this,o[TI](),u=l=1,o[X_]===1||(u=l=0,o[X_]=1),u||o.on$("hotkey",{options:["tab"],force:!0,$_:[function(H,ee){return e.api.increment_bang_selection_index(H)}]},this),c=o[Z_]||(o[Z_]={options:["up"],force:!0,$_:[function(H,ee,ae){return e.api.decrement_bang_selection_index(H)},null]}),c.$_[1]=e,u||o.on$("hotkey",c,this),c=o[eb]||(o[eb]={options:["down"],force:!0,$_:[function(H,ee,ae){return e.api.increment_bang_selection_index(H)},null]}),c.$_[1]=e,u||o.on$("hotkey",c,this),c=o[tb]||(o[tb]={options:["shift+tab"],force:!0,$_:[function(H,ee,ae){return e.api.decrement_bang_selection_index(H)},null]}),c.$_[1]=e,u||o.on$("hotkey",c,this),(!u||l&2)&&o.flagSelf$("z1nzdxcg-af"),h=v=1,(d=o[nb])||(h=v=0,o[nb]=(d=this.$tips,d[za]=o,d)),m=this.tips,m===o[rb]||(d.tips=o[rb]=m),h||!d.setup||d.setup(v),d[J_](v),h||o[OI](d),n=s=null,!this.$tips.show_more){I=A=1,(n=o[ib])||(I=A=0,o[ib]=n=me("div",null,`z1nzdxcg-ai bang ${E}`,null)),I||(n[za]=o),$=this.state.bang_selection_index===-1||void 0,$===n[Bc]||(A|=2,n[Bc]=$),$=this.state.bang_selection_index===-1||void 0,$===n[Mc]||(A|=2,n[Mc]=$),k=n[sb]||(n[sb]={$_:[function(H,ee,ae){return e.state.bang_selection_index=-1},null]}),k.$_[1]=e,I||n.on$("pointerover",k,this),k=n[ob]||(n[ob]={$_:[function(H,ee,ae){return e.api.handle_bang(H)},null]}),k.$_[1]=e,I||n.on$("click",k,this),A&2&&n.flag$(`z1nzdxcg-ai bang ${E} `+(n[Bc]?"selected":"")+" "+(n[Mc]?"z1nzdxcg-ah":"")),(T=n[ab])||(n[ab]=T=me("div",n,`z1nzdxcg-aj link-left ${E}`,null)),(B=n[ub])||(n[ub]=B=me("img",T,`z1nzdxcg-ak link-icon ${E}`,null)),N=this.api.bang.icon,N===n[lb]||(B.src=n[lb]=N),(w=n[cb])||(n[cb]=w=me("div",T,`z1nzdxcg-al display-name ${E}`,null)),I||w[zi]("..."),x=this.api.encoded_bang_query_nourl,x===n[hb]&&I||(n[fb]=w[zi](n[hb]=x,0,n[fb])),(R=n[db])||(n[db]=R=me("div",n,`z1nzdxcg-am link-right ${E}`,null)),(L=n[pb])||(n[pb]=L=me("div",R,`z1nzdxcg-an frequency ${E}`,null)),P=this.api.bang.frequency,P===n[gb]&&I||(n[vb]=L[zi](n[gb]=P,128,n[vb])),S=1,(s=o[yb])||(S=0,o[yb]=s=me("div",null,`z1nzdxcg-ao history ${E}`,null)),S||(s[za]=o),(g=s[mb])||(s[mb]=g=Gi(256,s)),z=0,M=g.$;for(let H=0,ee=xI(this.api.sorted_bang_history),ae=ee.length;H<ae;H++){let ve=ee[H];ne=X=1,(V=M[z])||(ne=X=0,M[z]=V=me("div",g,`z1nzdxcg-aq item ${E}`,null)),ne||(V[za]=g),ce=V[_b]||(V[_b]={$_:[function(ue,Ue,Ae,ze){return e.state.bang_selection_index=Ae},null,null]}),ce.$_[1]=H,ce.$_[2]=e,ne||V.on$("pointerover",ce,this),ce=V[bb]||(V[bb]={$_:[function(ue,Ue,Ae){return e.api.handle_bang(ue)},null]}),ce.$_[1]=e,ne||V.on$("click",ce,this),J=this.state.bang_selection_index===H||void 0,J===V[Fc]||(X|=2,V[Fc]=J),J=this.state.bang_selection_index===H||void 0,J===V[Uc]||(X|=2,V[Uc]=J),X&2&&V.flag$(`z1nzdxcg-aq item ${E} `+(V[Fc]?"z1nzdxcg-ap":"")+" "+(V[Uc]?"selected":"")),J=ve,J===V[wb]&&ne||(V[Ab]=V[zi](V[wb]=J,128,V[Ab])),z++}g[J_](z)}return o[Sb]=o[zi](n,0,o[Sb]),o[$b]=o[zi](s,0,o[$b]),o[kI](l),o}};let Kf=Ch;(()=>{EI(Ch,"app-bang")})();Mn("app-bang",Kf,{});const CI=Object.assign({type:"svg"},{attributes:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},flags:["feather","feather-chevron-down"],content:'<polyline points="6 9 12 15 18 9"></polyline>'});function xA(t,e){Object.defineProperty(t,"name",{value:e,configurable:!0})}function PI(t,e){return t[t.length+e]}function Kc(t){let e;return t&&((e=t.toIterable)?e.call(t):t)}const EA=Symbol.for("#beforeReconcile"),Vi=Symbol.for("##up"),II=Symbol.for("#visit"),no=Symbol.for("#placeChild"),TA=Symbol.for("#afterReconcile"),Ds=Symbol.for("#afterVisit");var xb=Symbol(),Eb=Symbol(),Tb=Symbol(),Ob=Symbol(),kb=Symbol(),Cb=Symbol(),Pb=Symbol(),Ib=Symbol(),Nb=Symbol(),Rb=Symbol(),Lb=Symbol(),Db=Symbol(),zc=Symbol(),Bb=Symbol(),Mb=Symbol(),Fb=Symbol(),Ub=Symbol(),Kb=Symbol(),zb=Symbol(),jb=Symbol(),qb=Symbol(),Vb=Symbol(),Wb=Symbol(),Hb=Symbol();const Ph=class extends dn{render(){var T;var e=this,n,s,o,u,l,c,d=this._ns_||"",h,v,m,E,I,A,$,k;return o=this,o[EA](),u=l=1,o[xb]===1||(u=l=0,o[xb]=1),c=o[Eb]||(o[Eb]={if:[null],$_:[function(B,N){return e.tip.click_handler(B)}]}),c.if[0]=this.tip.click_handler,u||o.on$("click",c,this),(!u||l&2)&&o.flagSelf$("z48t4j4-af"),n=null,(this.tip.placeholder||!this.tip.click_handler)&&(n="z48t4j4-ag"),o.flags.toggle("z48t4j4-ag",!!n),s=null,this.tip.hotkey_handler&&this.tip.hotkey&&(h=v=1,(s=o[Tb])||(h=v=0,o[Tb]=s=me("div",null,`z48t4j4-ah ${d}`,null)),h||(s[Vi]=o),m=s[Ob]||(s[Ob]={options:[null],force:!0,$_:[function(B,N,w){return e.tip.hotkey_handler(B)},null]}),E=this.tip.hotkey,E===m.options[0]||(m.options[0]=E,v|=48),m.$_[1]=e,h||s.on$("hotkey",m,this),v&32&&(v^=32,(T=m[II])==null||T.call(m))),o[kb]=o[no](s,0,o[kb]),(I=o[Cb])||(o[Cb]=I=me("div",o,`z48t4j4-ai tip-hotkey ${d}`,null)),A=this.tip.hotkey_display_name,A===o[Ib]&&u||(o[Pb]=I[no](o[Ib]=A,128,o[Pb])),($=o[Nb])||(o[Nb]=$=me("div",o,`z48t4j4-aj tip-content ${d}`,null)),k=this.tip.content,k===o[Lb]&&u||(o[Rb]=$[no](o[Lb]=k,128,o[Rb])),o[TA](l),o}};let zf=Ph;(()=>{xA(Ph,"app-tip")})();Mn("app-tip",zf,{});const Ih=class extends dn{unmount(){return this.show_more=!1}toggle(){return this.show_more=!this.show_more}pad(e){let n=e.length;for(var s=[];n<3;)e.push({placeholder:!0}),s.push(n+=1);return s}get_chunks(){let e=Gn.exports.chunk(this.tips,3);return this.pad(PI(e,-1)),e}render(){var e=this,n,s,o,u,l,c,d,h,v,m=this._ns_||"",E,I,A,$,k,T,B,N,w,x,R,L,P,S,g,z,M,V,ne,X,ce,J;let H=this.get_chunks();c=this,c[EA](),d=h=1,c[Db]===1||(d=h=0,c[Db]=1),v=!this.config.data.enable_tips||void 0,v===c[zc]||(h|=2,c[zc]=v),(!d||h&2)&&c.flagSelf$("z48t4j4-al "+(c[zc]?"z48t4j4-ak":"")),(E=c[Bb])||(c[Bb]=E=me("div",c,`tip-row z48t4j4_al ${m}`,null)),(I=c[Mb])||(c[Mb]=I=Gi(384,E)),A=0,$=I.$;for(let ee=0,ae=Kc(H[0]),ve=ae.length;ee<ve;ee++){let ue=ae[ee];T=B=1,(k=$[A])||(T=B=0,$[A]=k=Mt("app-tip",I,`z48t4j4_al ${m}`,null)),T||(k[Vi]=I),ue===k[Fb]||(k.tip=k[Fb]=ue),T||!k.setup||k.setup(B),k[Ds](B),A++}if(I[Ds](A),u=l=null,H.length>1){N=1,(u=c[Ub])||(N=0,c[Ub]=u=me("div",null,`z48t4j4-ao z48t4j4_al ${m}`,null)),N||(u[Vi]=c),N||u.on$("click",{$_:[function(ee,ae){return e.toggle(ee)}]},this),n=null,this.show_more&&(n="z48t4j4-ap"),u.flags.toggle("z48t4j4-ap",!!n),x=1,(w=u[Kb])||(x=0,u[Kb]=w=fi("svg",u,`z48t4j4-aq z48t4j4_al ${m}`,null)),x||w.set$("src",CI),s=null,this.show_more&&(s="z48t4j4-ar"),w.flags.toggle("z48t4j4-ar",!!s),R=1,(l=c[zb])||(R=0,c[zb]=l=me("div",null,`z48t4j4-as more z48t4j4_al ${m}`,null)),R||(l[Vi]=c),o=null,this.show_more||(o="z48t4j4-at"),l.flags.toggle("z48t4j4-at",!!o),(L=l[jb])||(l[jb]=L=Gi(256,l)),P=0,S=L.$;for(let ee=0,ae=Kc(H.slice(1)),ve=ae.length;ee<ve;ee++){let ue=ae[ee];z=1,(g=S[P])||(z=0,S[P]=g=me("div",L,`tip-row z48t4j4_al ${m}`,null)),z||(g[Vi]=L),(M=g[qb])||(g[qb]=M=Gi(384,g)),V=0,ne=M.$;for(let Ue=0,Ae=Kc(ue),ze=Ae.length;Ue<ze;Ue++){let Me=Ae[Ue];ce=J=1,(X=ne[V])||(ce=J=0,ne[V]=X=Mt("app-tip",M,`z48t4j4_al ${m}`,null)),ce||(X[Vi]=M),Me===X[Vb]||(X.tip=X[Vb]=Me),ce||!X.setup||X.setup(J),X[Ds](J),V++}M[Ds](V),P++}L[Ds](P)}return c[Wb]=c[no](u,0,c[Wb]),c[Hb]=c[no](l,0,c[Hb]),c[TA](h),c}};let jf=Ih;(()=>{xA(Ih,"app-tips")})();Mn("app-tips",jf,{});function OA(t,e){Object.defineProperty(t,"name",{value:e,configurable:!0})}function NI(t,e){const n=Object.getOwnPropertyDescriptors(e);return delete n.constructor,Object.defineProperties(t,n),t}const Gb=Symbol.for("#__init__"),RI=Symbol.for("#__patch__"),LI=Symbol.for("#beforeReconcile"),Vn=Symbol.for("##up"),Yb=Symbol.for("#placeChild"),js=Symbol.for("#afterVisit"),DI=Symbol.for("#afterReconcile");var Qb=Symbol(),jc=Symbol(),qc=Symbol(),Vc=Symbol(),Jb=Symbol(),Xb=Symbol(),Zb=Symbol(),e0=Symbol(),t0=Symbol(),n0=Symbol(),r0=Symbol(),Nr,Bs=mT(),i0=Symbol(),ja,qa;let kA=console.log,CA=WC.version;kA("fuzzyhome version "+CA);let qs={};var yo;NI(JT("element","Element").prototype,(yo=class{get state(){return be}get api(){return Kr}get config(){return Dt}get refs(){return qs}get err(){return Qt}get version(){return CA}get p(){return console.log}},(()=>{OA(yo,"element")})(),yo).prototype);const Nh=class extends dn{get $acl(){let e=Mt("app-community-links",null,`${this._ns_||""} ref--acl`,null);return Object.defineProperty(this,"$acl",{value:e}),e}get $as(){let e=Mt("app-settings",null,`${this._ns_||""} ref--as`,null);return Object.defineProperty(this,"$as",{value:e}),e}get $ae(){let e=Mt("app-edit",null,`${this._ns_||""} ref--ae`,null);return Object.defineProperty(this,"$ae",{value:e}),e}get $ah(){let e=Mt("app-home",null,`${this._ns_||""} ref--ah`,null);return Object.defineProperty(this,"$ah",{value:e}),e}[RI](e={}){var n;(n=e.fatal_error)!==void 0&&(this.fatal_error=n)}[Gb](e=null,n=!0){var s;super[Gb](...arguments),this.fatal_error=e&&(s=e.fatal_error)!==void 0?s:!1}get render\u03A6(){return this.mounted\u03A6}async mount(){if(qs.settings=this.$as,qs.edit=this.$ae,qs.community\u039Elinks=this.$acl,qs.links=this.$ah,!globalThis.localStorage.fuzzyhome_visited){await Kr.add_initial_links();try{let e=await Kr.add_link("!google search https://www.google.com/search?q=");Dt.data.default_bang=e}catch{}globalThis.localStorage.fuzzyhome_visited=!0}try{return await Kr.reload_db(),kA("links:",be.links)}catch(e){Qt("state.loading database",e),this.fatal_error=!0;return}}render(){var e,n,s,o,u,l=this._ns_||"",c,d,h,v,m,E,I,A,$,k;return n=this,n[LI](),s=o=1,n[Qb]===1||(s=o=0,n[Qb]=1),u=Dt.theme==="light"||void 0,u===n[jc]||(o|=2,n[jc]=u),u=Dt.theme==="dark"||void 0,u===n[qc]||(o|=2,n[qc]=u),u=be.loading||void 0,u===n[Vc]||(o|=2,n[Vc]=u),(!s||o&2)&&n.flagSelf$("uaml7g-af "+(n[jc]?"light":"")+" "+(n[qc]?"dark":"")+" "+(n[Vc]?"disabled":"")),(c=n[Jb])||(n[Jb]=c=me("div",n,`uaml7g-ag main ${l}`,null)),e=null,this.fatal_error?(d=1,(e=n[Xb])||(d=0,n[Xb]=e=me("div",null,`uaml7g-ah fatal ${l}`,null)),d||(e[Vn]=c),d||e[Yb](`There was an error state.loading the database.
This could be due to a user setting
disallowing local storage, or a random error.
Consider refreshing.
Check developer console for more information.`)):this.$acl.active?(h=v=1,(e=n[Zb])||(h=v=0,n[Zb]=(e=this.$acl,e[Vn]=null,e)),h||(e[Vn]=c),h||!e.setup||e.setup(v),e[js](v)):this.$as.active?(m=E=1,(e=n[e0])||(m=E=0,n[e0]=(e=this.$as,e[Vn]=null,e)),m||(e[Vn]=c),m||!e.setup||e.setup(E),e[js](E)):this.$ae.active?(I=A=1,(e=n[t0])||(I=A=0,n[t0]=(e=this.$ae,e[Vn]=null,e)),I||(e[Vn]=c),I||!e.setup||e.setup(A),e[js](A)):($=k=1,(e=n[n0])||($=k=0,n[n0]=(e=this.$ah,e[Vn]=null,e)),$||(e[Vn]=c),$||!e.setup||e.setup(k),e[js](k)),n[r0]=c[Yb](e,0,n[r0]),n[DI](o),n}};let qf=Nh;(()=>{OA(Nh,"app")})();Mn("app",qf,{});A0((ja=qa=1,(Nr=Bs[i0])||(ja=qa=0,Nr=Bs[i0]=Nr=Mt("app",null,null,null)),ja||(Nr[Vn]=Bs._),ja||Bs.sym||!Nr.setup||Nr.setup(qa),Bs.sym||Nr[js](qa),Nr));
